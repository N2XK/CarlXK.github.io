<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>二三</title>
  
  <subtitle>我见青山多妩媚，青山见我应如是</subtitle>
  <link href="http://www.xiaokunli.com/atom.xml" rel="self"/>
  
  <link href="http://www.xiaokunli.com/"/>
  <updated>2024-03-25T09:53:42.754Z</updated>
  <id>http://www.xiaokunli.com/</id>
  
  <author>
    <name>李一</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>docker安装部署milvus单机版</title>
    <link href="http://www.xiaokunli.com/2024/03/25/docker%E5%AE%89%E8%A3%85milvus%E5%8D%95%E6%9C%BA%E7%89%88/"/>
    <id>http://www.xiaokunli.com/2024/03/25/docker%E5%AE%89%E8%A3%85milvus%E5%8D%95%E6%9C%BA%E7%89%88/</id>
    <published>2024-03-25T04:49:00.000Z</published>
    <updated>2024-03-25T09:53:42.754Z</updated>
    
    <content type="html"><![CDATA[<h2 id="docker安装部署milvus单机版"><a href="#docker安装部署milvus单机版" class="headerlink" title="docker安装部署milvus单机版"></a>docker安装部署milvus单机版</h2><p>使用Docker Compose安装 Milvus单机版，快速体验milvus。</p><h2 id="启动etcd、minio、milvus"><a href="#启动etcd、minio、milvus" class="headerlink" title="启动etcd、minio、milvus"></a>启动etcd、minio、milvus</h2><p>milvus依赖etcd和minio，因此需要先启动这2个组件。同样也使用docker进行启动。<br>etcd：用来存储milvus的元数据。<br>minio：用来存储milvus的向量数据和索引数据。</p><p>新建docker-compose.yml文件，定义etcd、minio、milvus的启动参数，文件内容如下：</p><pre><code><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">services:</span></span><br><span class="line"><span class="symbol">etcd:</span></span><br><span class="line"><span class="symbol">    container_name:</span> milvus-etcd</span><br><span class="line"><span class="symbol">    image:</span> quay.io<span class="keyword">/coreos/</span>etcd:v3<span class="number">.5</span><span class="number">.5</span></span><br><span class="line"><span class="symbol">    environment:</span></span><br><span class="line">    - ETCD_AUTO_COMPACTION_MODE=revision</span><br><span class="line">    - ETCD_AUTO_COMPACTION_RETENTION=<span class="number">1000</span></span><br><span class="line">    - ETCD_QUOTA_BACKEND_BYTES=<span class="number">4294967296</span></span><br><span class="line">    - ETCD_SNAPSHOT_COUNT=<span class="number">50000</span></span><br><span class="line"><span class="symbol">    volumes:</span></span><br><span class="line">    - $<span class="punctuation">&#123;</span>DOCKER_VOLUME_DIRECTORY:-.<span class="punctuation">&#125;</span><span class="keyword">/volumes/</span>etcd:/etcd</span><br><span class="line"><span class="symbol">    command:</span> etcd -<span class="attr">advertise-client-urls</span><span class="operator">=</span>http:<span class="comment">//127.0.0.1:2379 -listen-client-urls http://0.0.0.0:2379 --data-dir /etcd</span></span><br><span class="line"><span class="symbol">    healthcheck:</span></span><br><span class="line"><span class="symbol">    test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;etcdctl&quot;</span>, <span class="string">&quot;endpoint&quot;</span>, <span class="string">&quot;health&quot;</span>]</span><br><span class="line"><span class="symbol">    interval:</span> <span class="number">30</span>s</span><br><span class="line"><span class="symbol">    timeout:</span> <span class="number">20</span>s</span><br><span class="line"><span class="symbol">    retries:</span> <span class="number">3</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">minio:</span></span><br><span class="line"><span class="symbol">    container_name:</span> milvus-minio</span><br><span class="line"><span class="symbol">    image:</span> minio/minio:RELEASE<span class="number">.2023</span><span class="number">-03</span><span class="number">-20</span>T20<span class="number">-16</span><span class="number">-18</span>Z</span><br><span class="line"><span class="symbol">    environment:</span></span><br><span class="line"><span class="symbol">    MINIO_ACCESS_KEY:</span> minioadmin</span><br><span class="line"><span class="symbol">    MINIO_SECRET_KEY:</span> minioadmin</span><br><span class="line"><span class="symbol">    ports:</span></span><br><span class="line">    - <span class="string">&quot;9001:9001&quot;</span></span><br><span class="line">    - <span class="string">&quot;9000:9000&quot;</span></span><br><span class="line"><span class="symbol">    volumes:</span></span><br><span class="line">    - $<span class="punctuation">&#123;</span>DOCKER_VOLUME_DIRECTORY:-.<span class="punctuation">&#125;</span><span class="keyword">/volumes/</span>minio:/minio_data</span><br><span class="line"><span class="symbol">    command:</span> minio server /minio_data --console-address <span class="string">&quot;:9001&quot;</span></span><br><span class="line"><span class="symbol">    healthcheck:</span></span><br><span class="line"><span class="symbol">    test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost:9000/minio/health/live&quot;</span>]</span><br><span class="line"><span class="symbol">    interval:</span> <span class="number">30</span>s</span><br><span class="line"><span class="symbol">    timeout:</span> <span class="number">20</span>s</span><br><span class="line"><span class="symbol">    retries:</span> <span class="number">3</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">standalone:</span></span><br><span class="line"><span class="symbol">    container_name:</span> milvus-standalone</span><br><span class="line"><span class="symbol">    image:</span> milvusdb/milvus:v2<span class="number">.3</span><span class="number">.12</span></span><br><span class="line"><span class="symbol">    command:</span> [<span class="string">&quot;milvus&quot;</span>, <span class="string">&quot;run&quot;</span>, <span class="string">&quot;standalone&quot;</span>]</span><br><span class="line"><span class="symbol">    environment:</span></span><br><span class="line"><span class="symbol">    ETCD_ENDPOINTS:</span> etcd:<span class="number">2379</span></span><br><span class="line"><span class="symbol">    MINIO_ADDRESS:</span> minio:<span class="number">9000</span></span><br><span class="line"><span class="symbol">    volumes:</span></span><br><span class="line">    - $<span class="punctuation">&#123;</span>DOCKER_VOLUME_DIRECTORY:-.<span class="punctuation">&#125;</span><span class="keyword">/volumes/</span>milvus:<span class="keyword">/var/</span>lib/milvus</span><br><span class="line"><span class="symbol">    healthcheck:</span></span><br><span class="line"><span class="symbol">    test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost:9091/healthz&quot;</span>]</span><br><span class="line"><span class="symbol">    interval:</span> <span class="number">30</span>s</span><br><span class="line"><span class="symbol">    start_period:</span> <span class="number">90</span>s</span><br><span class="line"><span class="symbol">    timeout:</span> <span class="number">20</span>s</span><br><span class="line"><span class="symbol">    retries:</span> <span class="number">3</span></span><br><span class="line"><span class="symbol">    ports:</span></span><br><span class="line">    - <span class="string">&quot;19530:19530&quot;</span></span><br><span class="line">    - <span class="string">&quot;9091:9091&quot;</span></span><br><span class="line"><span class="symbol">    depends_on:</span></span><br><span class="line">    - <span class="string">&quot;etcd&quot;</span></span><br><span class="line">    - <span class="string">&quot;minio&quot;</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">networks:</span></span><br><span class="line"><span class="symbol">default:</span></span><br><span class="line"><span class="symbol">    name:</span> milvus</span><br></pre></td></tr></table></figure></code></pre><p>使用docker-compose后台启动<br>    <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker-compose up -d</span></span><br></pre></td></tr></table></figure></p><p>查看容器状态<br>    <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="literal">-compose</span> <span class="built_in">ps</span></span><br><span class="line">docker <span class="built_in">ps</span> <span class="literal">-a</span></span><br></pre></td></tr></table></figure></p><h2 id="启动milvus客户端attu"><a href="#启动milvus客户端attu" class="headerlink" title="启动milvus客户端attu"></a>启动milvus客户端attu</h2><p>启动attu容器<br>    <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> -d <span class="attribute">--name</span>=attu -p 8000:3000 -e <span class="attribute">MILVUS_URL</span>=0.0.0.0:19530 zilliz/attu:v2.3.8</span><br></pre></td></tr></table></figure></p><p>milvus客户端attu(用户名密码为空)：<br>    <a href="http://192.168.0.1:8000/">http://192.168.0.1:8000/</a></p><p>minio客户端地址：<br>    <a href="http://192.168.0.1:9001/">http://192.168.0.1:9001/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;docker安装部署milvus单机版&quot;&gt;&lt;a href=&quot;#docker安装部署milvus单机版&quot; class=&quot;headerlink&quot; title=&quot;docker安装部署milvus单机版&quot;&gt;&lt;/a&gt;docker安装部署milvus单机版&lt;/h2&gt;&lt;p&gt;使用</summary>
      
    
    
    
    <category term="开发" scheme="http://www.xiaokunli.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="docker" scheme="http://www.xiaokunli.com/tags/docker/"/>
    
    <category term="milvus" scheme="http://www.xiaokunli.com/tags/milvus/"/>
    
  </entry>
  
  <entry>
    <title>近期训练计划</title>
    <link href="http://www.xiaokunli.com/2021/09/11/%E8%BF%91%E6%9C%9F%E8%AE%AD%E7%BB%83%E8%AE%A1%E5%88%92/"/>
    <id>http://www.xiaokunli.com/2021/09/11/%E8%BF%91%E6%9C%9F%E8%AE%AD%E7%BB%83%E8%AE%A1%E5%88%92/</id>
    <published>2021-09-11T08:09:01.000Z</published>
    <updated>2021-09-13T11:28:49.732Z</updated>
    
    <content type="html"><![CDATA[<h2 id="力量训练"><a href="#力量训练" class="headerlink" title="力量训练"></a>力量训练</h2><h3 id="频度：每周两次"><a href="#频度：每周两次" class="headerlink" title="频度：每周两次"></a>频度：每周两次</h3><h3 id="时间：周一到周五之间时间不定，尽量周二和周四"><a href="#时间：周一到周五之间时间不定，尽量周二和周四" class="headerlink" title="时间：周一到周五之间时间不定，尽量周二和周四"></a>时间：周一到周五之间时间不定，尽量周二和周四</h3><h3 id="计划："><a href="#计划：" class="headerlink" title="计划："></a>计划：</h3><ul><li>第一次<ul><li>深蹲<ul><li>60KG * 10，80KG * 10，100KG * 5，110KG * 3，120KG 2 * 2</li><li>尝试 130KG PR</li></ul></li><li>颈后推 30KG 8*4</li><li>跳箱 10*4</li></ul></li><li>第二次<ul><li>硬拉<ul><li>60KG * 10，80KG * 10，100KG * 5，120KG * 3，140KG * 3，150KG * 2</li><li>尝试 160KG PR</li><li>抓举 40 * 5</li></ul></li></ul></li></ul><h2 id="有氧训练"><a href="#有氧训练" class="headerlink" title="有氧训练"></a>有氧训练</h2><p>跑步5<del>10公里，每周1</del>2次</p><h2 id="养生锻炼"><a href="#养生锻炼" class="headerlink" title="养生锻炼"></a>养生锻炼</h2><p>八段锦：每天一遍</p><p>两手托天理三焦，一上一下为一次，一共6次<br>左右开弓似射雕，一左一右为一次，一共3次<br>调理脾胃须单举，一左一右为一次，一共3次<br>五劳七伤往后瞧，一左一右为一次，一共3次<br>摆头摆尾去心火，一左一右为一次，一共3次<br>两手攀足固肾腰，一上一下为一次，一共6次<br>攒拳怒目增气力，一左一右为一次，一共3次<br>背后七颠百病消，一起一落为一次，一共7次</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;力量训练&quot;&gt;&lt;a href=&quot;#力量训练&quot; class=&quot;headerlink&quot; title=&quot;力量训练&quot;&gt;&lt;/a&gt;力量训练&lt;/h2&gt;&lt;h3 id=&quot;频度：每周两次&quot;&gt;&lt;a href=&quot;#频度：每周两次&quot; class=&quot;headerlink&quot; title=&quot;频度：</summary>
      
    
    
    
    <category term="锻炼" scheme="http://www.xiaokunli.com/categories/%E9%94%BB%E7%82%BC/"/>
    
    
    <category term="健身" scheme="http://www.xiaokunli.com/tags/%E5%81%A5%E8%BA%AB/"/>
    
    <category term="跑步" scheme="http://www.xiaokunli.com/tags/%E8%B7%91%E6%AD%A5/"/>
    
    <category term="养生" scheme="http://www.xiaokunli.com/tags/%E5%85%BB%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记-新一分钟经理人</title>
    <link href="http://www.xiaokunli.com/2021/08/10/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%20-%20%E6%96%B0%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/"/>
    <id>http://www.xiaokunli.com/2021/08/10/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%20-%20%E6%96%B0%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/</id>
    <published>2021-08-10T03:58:12.828Z</published>
    <updated>2021-08-10T04:04:28.720Z</updated>
    
    <content type="html"><![CDATA[<h1 id="读书笔记-新一分钟经理人"><a href="#读书笔记-新一分钟经理人" class="headerlink" title="读书笔记-新一分钟经理人"></a><strong>读书笔记-新一分钟经理人</strong></h1><p><img src="/images/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.png"></p><h2 id="1-一分钟目标"><a href="#1-一分钟目标" class="headerlink" title="1. 一分钟目标"></a>1. 一分钟目标</h2><h3 id="共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准"><a href="#共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准" class="headerlink" title="共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准"></a>共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准</h3><ul><li>一个工作目标、衡量标准和完成期限，应该用一到两段话说明白，读一遍大概花一分钟。把目标简洁地写下来，便于查阅并能把精力集中在最重要的部分</li></ul><h3 id="2-8原则，对20-的关键任务设定一分钟目标，可能一共只有3到5个工作目标"><a href="#2-8原则，对20-的关键任务设定一分钟目标，可能一共只有3到5个工作目标" class="headerlink" title="2&#x2F;8原则，对20%的关键任务设定一分钟目标，可能一共只有3到5个工作目标"></a>2&#x2F;8原则，对20%的关键任务设定一分钟目标，可能一共只有3到5个工作目标</h3><ul><li>每一项清楚描述出来，一个目标大概一页纸，遵循SMART原则</li></ul><h3 id="规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致"><a href="#规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致" class="headerlink" title="规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致"></a>规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致</h3><h3 id="若与目标不一致，反思自己的工作表现，以便调整"><a href="#若与目标不一致，反思自己的工作表现，以便调整" class="headerlink" title="若与目标不一致，反思自己的工作表现，以便调整"></a>若与目标不一致，反思自己的工作表现，以便调整</h3><ul><li><p>引导员工自己思考</p><ul><li>不把猴子背在自己身上</li></ul></li><li><p>在哪里，要去哪里，差距有多大，怎么去？</p></li></ul><h3 id="为什么这么有效"><a href="#为什么这么有效" class="headerlink" title="为什么这么有效"></a><strong>为什么这么有效</strong></h3><ul><li><p>把问题浮到水面上</p></li><li><p>目标透明，量化，回顾(参考OKR)</p><ul><li><p>对优秀的人一起设定一分钟目标，其余他会自己搞定</p></li><li><p>对潜力者一起设定目标并定期回顾</p></li></ul></li></ul><h2 id="2-一分钟称赞"><a href="#2-一分钟称赞" class="headerlink" title="2. 一分钟称赞"></a>2. 一分钟称赞</h2><h3 id="前半分钟"><a href="#前半分钟" class="headerlink" title="前半分钟"></a>前半分钟</h3><ul><li><p>及时称赞员工</p><ul><li><p>及时激励，发现员工做对了事情就立即给予称赞，而不是等到考核</p><ul><li><p>及时的表扬会鼓舞士气，延时的鼓励会让积极性受损</p></li><li><p>从心理学的角度来说，人是需要被认可的</p></li></ul></li></ul></li><li><p>告诉他们对在哪里–要说的非常具体</p><ul><li>说明你对员工做的事情很了解，很关心他的状况</li></ul></li><li><p>告诉他们这件事情做对之后，会让你感到多么高兴，对整个团队和其他同事又会有多大帮助。</p><ul><li>价值赞美</li></ul></li></ul><h3 id="停顿一会儿"><a href="#停顿一会儿" class="headerlink" title="停顿一会儿"></a>停顿一会儿</h3><ul><li>沉默几秒，让他们静静地体会做对事情带来的喜悦</li></ul><h3 id="后半分钟"><a href="#后半分钟" class="headerlink" title="后半分钟"></a>后半分钟</h3><ul><li><p>鼓励他们以后继续这样做</p></li><li><p>明确说明你对他们有信心，并会支持他们获得成功</p></li></ul><h3 id="为什么这么做有效"><a href="#为什么这么做有效" class="headerlink" title="为什么这么做有效"></a><strong>为什么这么做有效</strong></h3><ul><li><p>训练成功者最重要的是发现他们做对了的事情——开始也许只是大概做对，接着要逐渐引导他们做得越来越完美</p><ul><li><p>示例：鼓励小孩子走路，从摇摇晃晃到站起来，鼓励最有效</p></li><li><p>示例：教孩子说会喝水，从指着水，到说水，到喝水</p></li></ul></li><li><p>设立一系列小目标，可以帮助人们更顺利的完成整项工作</p><ul><li>示例：游戏的新手村任务引导，不断完成小目标直到会玩这个游戏，及时的激励和反馈会激发潜力</li></ul></li><li><p>被挑毛病的、饱受打击的人总是尽量少做事情</p><ul><li>原因在于领导者总是在挑毛病，总是在留意哪些事情未到达期望</li></ul></li><li><p>惩罚不如帮助员工重新设定目标，更正行为，确保其了解该做什么以及怎么做</p></li></ul><h2 id="3-一分钟改正"><a href="#3-一分钟改正" class="headerlink" title="3. 一分钟改正"></a>3. 一分钟改正</h2><h3 id="开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平"><a href="#开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平" class="headerlink" title="开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平"></a>开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平</h3><h3 id="前半分钟-1"><a href="#前半分钟-1" class="headerlink" title="前半分钟"></a>前半分钟</h3><ul><li><p>错误发生后立即进行更正</p><ul><li><p>反馈应该及时</p></li><li><p>工作出了差错，不更正只称赞于事无补。每个人都不喜欢经常被人指出错误，但一次‘更正’可以帮助员工重回工作轨道并完成工作目标，公司和个人才能实现双赢</p></li></ul></li><li><p>确认既有的事实，分析错在哪里–要说的非常具体</p></li><li><p>告诉他们这件事带给你的感受，以及对工作成果可能造成的影响</p></li></ul><h3 id="停顿一会儿-1"><a href="#停顿一会儿-1" class="headerlink" title="停顿一会儿"></a>停顿一会儿</h3><ul><li>沉默几秒，让他们审视锁犯的错误</li></ul><h3 id="后半分钟-1"><a href="#后半分钟-1" class="headerlink" title="后半分钟"></a>后半分钟</h3><ul><li><p>告诉对方，他们的实际能力比这次表现出来更强， 你认为他们很不错</p><ul><li>特别期待再跟我碰面——只要不是因为犯了同样的错误</li></ul></li><li><p>告诉对方，你对他们有信心，任然信任他们</p></li><li><p>更正过去，整件事就过去了</p></li></ul><h3 id="为什么这么做有效-1"><a href="#为什么这么做有效-1" class="headerlink" title="为什么这么做有效"></a><strong>为什么这么做有效</strong></h3><ul><li><p>反馈应该是及时的，一旦发现下属做错事，立即指出来</p><ul><li>及时提出意见，就可以一个一个地处理问题，被批评的人也不会觉得那么难接受，反而会听进心里去</li></ul></li><li><p>后半分钟称赞是很重要的一部分</p><ul><li><p>我们的目的是帮助人们建立自尊自信，而不是贬低他们的价值。</p><ul><li>人格受到伤害时，哪怕扭曲事实，人们也会为自己和自己的行为开脱。一旦形成防备心态，就很难听得进去</li></ul></li><li><p>区分行为和价值区，指出行为的错误，不贬低员工的人格，最后肯定他们的价值</p><ul><li>你转身离开后，员工会更留意自己的行为，而不是跟同事抱怨自己碰了钉子或是质疑你的领导方式</li></ul></li><li><p>“严厉”在前，“和气”在后</p><ul><li><p>示例：皇帝和丞相的故事，皇帝先和气后严厉被推翻，丞相先严厉后和气被推选为皇帝</p></li><li><p>示例：棒球运动运表现不佳，先指出问题，再肯定其能力比表现强，调整后再上场</p></li></ul></li><li><p>真正尊重和关心下属，才会获得真正的成功</p><ul><li><p>必须表现得严厉，才是真正关心别人。但只是就事论事，从不针对人。犯错不可怕，不吸取教训才会导致真正的挫败</p></li><li><p>不是操控，是真的关心</p></li></ul></li></ul></li></ul><h2 id="4-一分钟管理体系"><a href="#4-一分钟管理体系" class="headerlink" title="4. 一分钟管理体系"></a>4. 一分钟管理体系</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><img src="/images/755A6CDE-96EE-4486-BE7C-F1D606426AE4.png"></p><h2 id="5-一分钟经理人座右铭"><a href="#5-一分钟经理人座右铭" class="headerlink" title="5. 一分钟经理人座右铭"></a>5. 一分钟经理人座右铭</h2><h3 id="通过发现别人做对的事，来帮助他们充分发挥潜力"><a href="#通过发现别人做对的事，来帮助他们充分发挥潜力" class="headerlink" title="通过发现别人做对的事，来帮助他们充分发挥潜力"></a>通过发现别人做对的事，来帮助他们充分发挥潜力</h3><ul><li>管理的本质就是激发他人的善意</li></ul><h3 id="最好的投资，就是把时间花在人的身上"><a href="#最好的投资，就是把时间花在人的身上" class="headerlink" title="最好的投资，就是把时间花在人的身上"></a>最好的投资，就是把时间花在人的身上</h3><ul><li>培养人</li></ul><h3 id="每个人都可能成功，有些人貌似失败者，但人不可貌相"><a href="#每个人都可能成功，有些人貌似失败者，但人不可貌相" class="headerlink" title="每个人都可能成功，有些人貌似失败者，但人不可貌相"></a>每个人都可能成功，有些人貌似失败者，但人不可貌相</h3><ul><li>爱因斯坦会拿电话簿查自己家电话号码</li></ul><h3 id="拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致"><a href="#拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致" class="headerlink" title="拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致"></a>拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致</h3><ul><li>桌面卡片</li></ul><h3 id="我们不仅能够表现自己，还能够管理自己"><a href="#我们不仅能够表现自己，还能够管理自己" class="headerlink" title="我们不仅能够表现自己，还能够管理自己"></a>我们不仅能够表现自己，还能够管理自己</h3><ul><li>人是值得信任的，是可靠的</li></ul><h3 id="目标引发行为，结果巩固行为"><a href="#目标引发行为，结果巩固行为" class="headerlink" title="目标引发行为，结果巩固行为"></a>目标引发行为，结果巩固行为</h3>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;读书笔记-新一分钟经理人&quot;&gt;&lt;a href=&quot;#读书笔记-新一分钟经理人&quot; class=&quot;headerlink&quot; title=&quot;读书笔记-新一分钟经理人&quot;&gt;&lt;/a&gt;&lt;strong&gt;读书笔记-新一分钟经理人&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/im</summary>
      
    
    
    
    <category term="读后感" scheme="http://www.xiaokunli.com/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
    <category term="管理" scheme="http://www.xiaokunli.com/tags/%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>DDD分层架构规范</title>
    <link href="http://www.xiaokunli.com/2021/07/05/DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E8%A7%84%E8%8C%83/"/>
    <id>http://www.xiaokunli.com/2021/07/05/DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E8%A7%84%E8%8C%83/</id>
    <published>2021-07-05T06:49:14.000Z</published>
    <updated>2021-07-08T06:25:25.162Z</updated>
    
    <content type="html"><![CDATA[<h2 id="分层架构图"><a href="#分层架构图" class="headerlink" title="分层架构图"></a>分层架构图</h2><p><img src="/images/tapd_39034059_1621152827_39.png"></p><h2 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h2><ol><li>Controller层：接口层，负责对前端展示的路由和适配；如果需要的话，消费事件和发送消息通知等也可以放在这里；</li><li>Application层：主要负责获取输入，组装上下文，参数校验，调用领域层做业务处理</li><li>Domain层：领域是应用的核心，主要是封装了核心业务逻辑，通过领域服务（Domain Service）、领域对象（Entity）的方法对App层提供业务实体和业务逻辑计算；</li><li>Infrastructure层：主要负责技术细节问题的处理，比如数据库的CRUD、搜索引擎、文件系统、分布式服务的RPC等；</li></ol><h2 id="分层说明"><a href="#分层说明" class="headerlink" title="分层说明"></a>分层说明</h2><ul><li>APP层采用CQE模型，查询和命令分离</li><li>AppService调用实体和IRepo进行编排实现简单业务，通过调用DomainService实现复杂业务场景</li><li>AppService和DomainService均为无状态服务</li><li>App只允许调用仓储以及实体自带方法，不允许写任何方法，避免出现AppService过大的情况</li><li>DomainService封装所有跨实体的业务逻辑</li><li>为避免出现AppService之间或者Domainservice之间相互调用，抽取出两者公共部分为一个Helper</li></ul><h2 id="聚合根和实体"><a href="#聚合根和实体" class="headerlink" title="聚合根和实体"></a>聚合根和实体</h2><ul><li>按聚合根分包，和包名一样的实体为聚合根</li><li>可以识别的聚合根就写成聚合根，否则做成实体</li><li>聚合根的一致性由自己保障</li><li>跨实体的操作放到领域服务中</li></ul><blockquote><p>领域对象实体为充血模型，为一般业务对象，具备业务属性和业务行为</p></blockquote><ul><li>实体都有自己的唯一标识通常</li><li>实体可以不和表一一对应，通常操作单个表，可以操作多表</li></ul><h2 id="领域服务"><a href="#领域服务" class="headerlink" title="领域服务"></a>领域服务</h2><blockquote><p>某个操作过程或转换过程不是实体的职责时，我们便应该将该操作放在一个单独的接口中，即领域服务。</p></blockquote><ul><li>用于实现某个领域的任务，不适合放在实体对象上时，就放在领域服务上</li><li>放在实体的静态方法上有悖DDD</li><li>避免在实体中调用资源库，数据通过AppService调用Repo传入</li><li>如果有复杂逻辑，其中间的状态依赖前面步骤结果查询数据库作为后续逻辑的输入，通过把Repo传入到Domainservice的方式达到无状态效果</li></ul><h2 id="传输对象"><a href="#传输对象" class="headerlink" title="传输对象"></a>传输对象</h2><ul><li>DTO：接受Controller层发来的请求，返回结果</li><li>Entity ：将DTO转换为要操作的领域层对象</li></ul><h2 id="无状态"><a href="#无状态" class="headerlink" title="无状态"></a>无状态</h2><ul><li>一次请求所需的全部信息，要么都包含在这个请求里，要么可以从外部获取到（比如说数据库），服务本身不存储任何信息</li><li>有状态服务（stateful service）则相反，它会在自身保存一些数据，先后的请求是有关联的</li><li>无状态服务的优势在于可以很方便地水平伸缩</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;分层架构图&quot;&gt;&lt;a href=&quot;#分层架构图&quot; class=&quot;headerlink&quot; title=&quot;分层架构图&quot;&gt;&lt;/a&gt;分层架构图&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/images/tapd_39034059_1621152827_39.png&quot;&gt;&lt;/p&gt;
&lt;h</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="DDD" scheme="http://www.xiaokunli.com/tags/DDD/"/>
    
  </entry>
  
  <entry>
    <title>公司战略构建</title>
    <link href="http://www.xiaokunli.com/2021/06/26/%E6%88%98%E7%95%A5%E6%9E%84%E5%BB%BA/"/>
    <id>http://www.xiaokunli.com/2021/06/26/%E6%88%98%E7%95%A5%E6%9E%84%E5%BB%BA/</id>
    <published>2021-06-26T06:49:14.000Z</published>
    <updated>2021-07-08T01:30:06.010Z</updated>
    
    <content type="html"><![CDATA[<h2 id="整体逻辑"><a href="#整体逻辑" class="headerlink" title="整体逻辑"></a>整体逻辑</h2><ul><li>给什么样的客户群，解决什么样的痛点&#x2F;诉求，投放什么样的产品组合</li><li>SAAS模式：订阅+可复制，核心是产品解决客户痛点达到订阅效果</li><li>递进逻辑：初始纵向(客户)切分后面横向(产品)，先收割容易的越往后越难，找到破局点需要解决关键的客户问题，构建壁垒</li></ul><h2 id="看市场"><a href="#看市场" class="headerlink" title="看市场"></a>看市场</h2><pre><code>待补充</code></pre><h2 id="看客户"><a href="#看客户" class="headerlink" title="看客户"></a>看客户</h2><ul><li>客户群划分：遵守MECE原则，综合考虑数量、消费力、意愿、净值、消费频次、年龄等维度。</li><li>痛点&#x2F;诉求分析：针对客户群的痛点和诉求进行分析，并进行层次化解析，区分基础诉求、高阶诉求、特殊需求。</li><li>小结：客户的群体特性简述，产品和服务的增长可能性在哪里。</li></ul><h2 id="看竞品"><a href="#看竞品" class="headerlink" title="看竞品"></a>看竞品</h2><ul><li>选择竞品：客户群中排在前部的品牌，从市场占有率、行业认可、产品体验等维度选择</li><li>竞品对比：分析每个竞品的核心优劣势，三点为佳</li><li>小结：竞品优势和劣势总结</li></ul><h2 id="看自己"><a href="#看自己" class="headerlink" title="看自己"></a>看自己</h2><ul><li>优劣势分析：基于行业地位、市场进入先后、组织能力、品牌、客户资源和渠道、解决方案能力、研发能力等角度</li><li>策略：如何发挥优势，克服劣势，构建产品，打开市场，增强品牌。。。</li></ul><h2 id="SWOT分析"><a href="#SWOT分析" class="headerlink" title="SWOT分析"></a>SWOT分析</h2><ul><li>基于三看，进行SWOT分析，总结SO&#x2F;WO&#x2F;WT&#x2F;ST策略</li></ul><h2 id="客户群选择"><a href="#客户群选择" class="headerlink" title="客户群选择"></a>客户群选择</h2><ul><li>基于SWOT分析来进行客户群选择和聚焦(找到三个点)，包含对聚焦的细分客户进行产品组合投放(分层)</li></ul><h2 id="产品矩阵"><a href="#产品矩阵" class="headerlink" title="产品矩阵"></a>产品矩阵</h2><ul><li>产品组合策略：对客户群的诉求解决进行产品组合细分</li><li>差异化价值分析：对每个产品&#x2F;模块进行价值分析，凸显产品价值，解决为什么是你的问题。</li></ul><h2 id="营销策略"><a href="#营销策略" class="headerlink" title="营销策略"></a>营销策略</h2><ul><li>对前线伙伴(区域)，做到真正赋能、解决问题并合力前行，让前线从要我做到我要做</li><li>对不同市场，分析客户特征，制定市场策略、经营策略和组织策略</li></ul><h2 id="制定战略屋"><a href="#制定战略屋" class="headerlink" title="制定战略屋"></a>制定战略屋</h2><ul><li>划分四个维度：经营目标、主要战场及核心策略、关键战役和组织支撑；逻辑为层层往上支撑。</li><li>经营目标：<ul><li>初创和小型的企业 -&gt; 活下去+构建产品+商业壁垒</li><li>成熟企业：市场规模扩大，数字化(利润&#x2F;客户数等)</li></ul></li><li>主要战场及策略：在这些战场打赢了可以支撑经营目标。</li><li>关键战役：通过关键战役来获得整体战场的胜利。</li><li>组织支撑：对不同的战场给与什么样的团队资源，采取什么策略。</li></ul><h2 id="业务蓝图"><a href="#业务蓝图" class="headerlink" title="业务蓝图"></a>业务蓝图</h2><pre><code>待补充</code></pre><h2 id="推导OKR"><a href="#推导OKR" class="headerlink" title="推导OKR"></a>推导OKR</h2><pre><code>待补充</code></pre><h2 id="问题合集"><a href="#问题合集" class="headerlink" title="问题合集"></a>问题合集</h2><ul><li>用什么“产品组合”？  </li><li>打什么“目标客户”？  </li><li>解决啥“核心问题”？ </li><li>有什么“差异竞争”</li></ul><h3 id="问题列表1"><a href="#问题列表1" class="headerlink" title="问题列表1"></a>问题列表1</h3><ul><li>是认知错误，还是策略错误，还是执行错误？</li><li>某些客户可以作为门票，这张门票很重要,怎么设计好它？</li><li>我们到底选择什么客户、打什么痛点，提供什么产品和服务？</li><li>把问题打开来看，扎进去看!</li><li>已经到了这个体量，未来到底何以增长?</li><li>历史问题怎么解决？？不要逃避！</li><li>要回答为什么是你，而不是其他人!</li><li>尝试A A不行尝试B B也不行，请问我们的洞察是什么?</li><li>一定要有客户成功视角：续签率、续费率，看数据！</li></ul><h3 id="问题列表2"><a href="#问题列表2" class="headerlink" title="问题列表2"></a>问题列表2</h3><ul><li>没有绝对的优势或劣势，怎么转化为胜势</li><li>不要丢掉你们自己，不要把战略屋当填空题</li><li>那90%的精力做什么？怎么做？</li><li>拼两件事情：成本结构、运营能力</li><li>区域视角，客户成功视角，多视角看战略</li><li>花更多时间思考产品本身</li><li>越往下越难割，越需要靠产品</li><li>如何后发制胜?</li><li>每个阶段的战略选择不一样，从0到1、从1到10的阶段，先聚焦打透</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;整体逻辑&quot;&gt;&lt;a href=&quot;#整体逻辑&quot; class=&quot;headerlink&quot; title=&quot;整体逻辑&quot;&gt;&lt;/a&gt;整体逻辑&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;给什么样的客户群，解决什么样的痛点&amp;#x2F;诉求，投放什么样的产品组合&lt;/li&gt;
&lt;li&gt;SAAS模式：订阅+</summary>
      
    
    
    
    <category term="战略" scheme="http://www.xiaokunli.com/categories/%E6%88%98%E7%95%A5/"/>
    
    
    <category term="战略" scheme="http://www.xiaokunli.com/tags/%E6%88%98%E7%95%A5/"/>
    
  </entry>
  
  <entry>
    <title>COLA框架的架构和调用流程</title>
    <link href="http://www.xiaokunli.com/2021/02/05/COLA/"/>
    <id>http://www.xiaokunli.com/2021/02/05/COLA/</id>
    <published>2021-02-05T06:49:14.000Z</published>
    <updated>2021-02-05T07:17:19.383Z</updated>
    
    <content type="html"><![CDATA[<h2 id="架构图"><a href="#架构图" class="headerlink" title="架构图"></a>架构图</h2><p>四层结构<br><img src="/images/cola-arch.jpg"></p><ol><li>适配层（Adapter Layer）：负责对前端展示（web，wireless，wap）的路由和适配，对于传统B&#x2F;S系统而言，adapter就相当于MVC中的controller；</li><li>应用层（Application Layer）：主要负责获取输入，组装上下文，参数校验，调用领域层做业务处理，如果需要的话，发送消息通知等。层次是开放的，应用层也可以绕过领域层，直接访问基础实施层；</li><li>领域层（Domain Layer）：主要是封装了核心业务逻辑，并通过领域服务（Domain Service）和领域对象（Domain Entity）的方法对App层提供业务实体和业务逻辑计算。领域是应用的核心，不依赖任何其他层次；</li><li>基础实施层（Infrastructure Layer）：主要负责技术细节问题的处理，比如数据库的CRUD、搜索引擎、文件系统、分布式服务的RPC等。此外，领域防腐的重任也落在这里，外部依赖需要通过gateway的转义处理，才能被上面的App层和Domain层使用。</li></ol><h2 id="组件说明"><a href="#组件说明" class="headerlink" title="组件说明"></a>组件说明</h2><ol><li>gateway是为了防腐</li><li>Infra层起数据屏蔽作用，如果提供的接口不变，数据层的改动都可以直接在Infra里面完成</li><li>第三方服务的调用在Infra层</li><li>为了易于理解可以把Adapter改为Controller</li></ol><h2 id="调用关系"><a href="#调用关系" class="headerlink" title="调用关系"></a>调用关系</h2><p><img src="/images/cola-invoke-chain.jpg"></p><ol><li>APP —&gt; Infra, 为了可以直接CRUD，同时也是为什么Infra 可以直接依赖Client包</li><li>APP —&gt; gateway, 为了解耦&#x2F;防腐&#x2F;数据聚合</li><li>APP —&gt; domain service —&gt; gateway —&gt; 存储&#x2F;缓存&#x2F;外部服务, 为了实现复杂领域业务<br>灵活使用，覆盖不同的场景</li></ol><p>调用过程及对象使用</p><ol><li>Client<br> 定义如下对象<ul><li>VO(View Object)，Adapter层使用</li><li>Command，APP层使用，包含Qry、Add&#x2F;Update&#x2F;Delete</li><li>DomainEvent，Infra层发布领域事件使用</li><li>ServiceI，APP层实现该服务对外提供应用API</li></ul></li><li>Adapter层<br> 接收Command或者参数列表传递给ServiceI<br> 返回Response+VO给前端</li><li>APP层<br> ServiceImpl接收Command<ul><li>直接&#x2F;间接传给Mapper</li><li>转换成Entity，传给gateway或者domainservice<br> 返回Response+VO给Adapter层</li></ul></li><li>Domain — 不依赖其他任何层<br> 定义领域对象Entity<br> Entity作为gateway的参数或返回<br> Entity作为domain service的参数或返回</li><li>Infa<ol><li>调用数据库直接用Mybatis的Mapper，返回DO</li><li>调用第三方服务封装DO和Mapper，返回DO</li><li>gatewayImpl通过mapper聚合来提供上层数据接口，返回Entity</li><li>DomainEvent的发布</li></ol></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;架构图&quot;&gt;&lt;a href=&quot;#架构图&quot; class=&quot;headerlink&quot; title=&quot;架构图&quot;&gt;&lt;/a&gt;架构图&lt;/h2&gt;&lt;p&gt;四层结构&lt;br&gt;&lt;img src=&quot;/images/cola-arch.jpg&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;适配层（Adapter</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="DDD" scheme="http://www.xiaokunli.com/tags/DDD/"/>
    
  </entry>
  
  <entry>
    <title>ELK搭建</title>
    <link href="http://www.xiaokunli.com/2020/12/17/ELK%E6%90%AD%E5%BB%BA/"/>
    <id>http://www.xiaokunli.com/2020/12/17/ELK%E6%90%AD%E5%BB%BA/</id>
    <published>2020-12-17T06:49:14.000Z</published>
    <updated>2021-02-05T07:58:16.543Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>ELK是elasticsearch、logstash、kibana软件的集合，对外是作为一个日志管理系统的开源方案，它可以从任何来源、任何格式进行日志搜索、分析与可视化展示。<br>基本组成软件：</p></blockquote><ul><li>elasticsearch：一个开源分布式搜索引擎，提供收集、分析、存储数据三大功能。</li><li>kibana：一个基于web的图形界面，用于搜索、分析和可视化存储在elasticsearch中的日志数据。</li><li>logstash：一个服务端的数据处理管道，可以从多个源中提取数据，对其进行转换，然后将其存储到Elasticsearch中。简单来说就是日志的收集、分析、过滤工具。</li></ul><h2 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h2><p>使用版本是7.9.3，部署前我们可以先提前从官网上下载下面4个安装包：<br>elasticsearch-7.9.3-linux-x86_64.tar.gz<br>kibana-7.9.3-linux-x86_64.tar.gz<br>logstash-7.9.3.tar.gz</p><p>这4个组件可以部署在不同的机器上，只要机器之间是端口开放即可<br>本文档中elasticsearch、logstash、kibana部署在一台机器，filebeat部署在有业务服务的机器上。</p><ol><li><p>创建用户和解压文件<br> groupadd elk<br> useradd elk -g elk<br> 解压文件：<br> tar -zxvf elasticsearch-7.9.3-linux-x86_64.tar.gz -C &#x2F;home&#x2F;elk<br> tar -zxvf kibana-7.9.3-linux-x86_64.tar.gz -C &#x2F;home&#x2F;elk<br> tar -zxvf logstash-7.9.3.tar.gz -C &#x2F;home&#x2F;elk<br><br> cd &#x2F;home&#x2F;elk<br> mv kibana-7.9.3-linux-x86_64 kibana-7.9.3<br><br> chown -R elk:elk &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3<br> chown -R elk:elk &#x2F;home&#x2F;elk&#x2F;kibana-7.9.3<br> chown -R elk:elk &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3</p></li><li><p>部署elasticsearch</p><ol><li>切换到elk用户<br> su - elasticsearch<br> cd &#x2F;home&#x2F;elk&#x2F;</li><li>修改elasticsearch.yml<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;config<br> vi elasticsearch.yml<br> 在文件末尾增加以下内容<br> # 集群初始主节点<br> cluster.name: “es-cluster”<br> network.host: 0.0.0.0<br> node.name: “node-1”<br><br> # discovery type<br> discovery.type: single-node<br> #discovery.seed_hosts: [“127.0.0.1”, “[::1]”]<br><br> # 设置允许所有ip可以连接该elasticsearch<br> network.host: 0.0.0.0<br><br> # 开启监听的端口为9200<br> http.port: 9200<br><br> # 增加新的参数，为了让elasticsearch-head插件可以访问es<br> http.cors.enabled: true<br> http.cors.allow-origin: “*”<br><br> # 启用密码<br> xpack.security.enabled: true<br><br> # 使用默认密码<br> xpack.security.authc.accept_default_password: true<br> xpack.security.transport.ssl.enabled: true<br> 如果需要外置存储和日志，需要修改path.data和path.logs<br> path.data: &#x2F;nfsc&#x2F;cnas_csp_pase_hrx_id010797_vol1003_dev&#x2F;elasticsearch<br> path.logs: &#x2F;nfsc&#x2F;cnas_csp_pase_hrx_id010797_vol1003_dev&#x2F;elasticsearch_logs</li><li>修改Elasticsearch占用内存<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;config<br> vi jvm.options<br> 修改JVM参数 ：<br> -Xms16g<br> -Xmx16g</li><li>启动es的时候有可能会报类似的下面的错误<code>【max virtual memory areas vm.max_map_count [65530] is too low】</code>，所以我们可以通过下面的方法去处理：<br> vi &#x2F;etc&#x2F;sysctl.conf<br> 文件末尾添加一行<br> vm.max_map_count&#x3D;655360<br> 保存之后执行下面的命令加载参数<br> sysctl -p</li><li>启动Elasticsearch<br> 切换用户，进入bin目录启动：<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;bin<br> .&#x2F;elasticsearch -d</li><li>为内置账号添加密码<br> # interactive：给用户一一设置密码<br> # auto：自动生成密码<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;bin&#x2F;<br> .&#x2F;elasticsearch-setup-passwords interactive</li><li>验证是否启动成功<br> # curl -XGET -u elastic ‘localhost:9200’<br><br> {<br>   “name” : “node-1”,<br>   “cluster_name” : “es-cluster”,<br>   “cluster_uuid” : “8eGk8_ohRbWl8ZcNSPsFDQ”,<br>   “version” : {<br>     “number” : “7.9.3”,<br>     “build_flavor” : “default”,<br>     “build_type” : “tar”,<br>     “build_hash” : “c4138e51121ef06a6404866cddc601906fe5c868”,<br>     “build_date” : “2020-10-16T10:36:16.141335Z”,<br>     “build_snapshot” : false,<br>     “lucene_version” : “8.6.2”,<br>     “minimum_wire_compatibility_version” : “6.8.0”,<br>     “minimum_index_compatibility_version” : “6.0.0-beta1”<br>   },<br>   “tagline” : “You Know, for Search”<br> }</li></ol></li><li><p>部署kibana</p><ol><li>修改配置文件，文件位置在&#x2F;home&#x2F;elk&#x2F;kibana-7.9.3&#x2F;config目录下<br> su - elasticsearch<br> cd &#x2F;home&#x2F;elk&#x2F;kibana-7.9.3&#x2F;config<br> vi kibana.yml<br> 添加es的配置，由于是都在同一台机器所以用localhost，如果是不同机器，就换成对应的ip即可<br> # kibana端口<br> server.port: 5601<br><br> # 允许所有ip访问<br> server.host: “0.0.0.0”<br><br> # elasticsearch所在的ip及监听的地址<br> elasticsearch.hosts: [“<a href="http://localhost:9200"]">http://localhost:9200&quot;]</a><br> elasticsearch.username: “kibana_system”<br> elasticsearch.password: “kibana_system”<br><br> # kibana默认创建的索引<br> kibana.index: “.kibana”<br><br> # 字符编码<br> i18n.locale: “zh-CN”<br><br> # elasticsearch加密所需配置<br> xpack.reporting.encryptionKey: “a_random_string”<br> xpack.security.encryptionKey: “something_at_least_32_characters”</li><li>启动kibana<br> cd &#x2F;home&#x2F;elk&#x2F;kibana-7.9.3&#x2F;bin<br> .&#x2F;kibana &amp;</li><li>访问kibana<br> <a href="http://ip:5601/">http://IP:5601/</a></li></ol></li><li><p>部署Logstash</p><ol><li>修改Logstash的YML配置文件<br> cd &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;config&#x2F;<br> vim logstash.yml<br> 修改以下内容<br> # 配置自动刷新<br> config.reload.automatic: true<br> config.reload.interval: 20s<br><br> # 配置可任意地址都可访问<br> http.host: 0.0.0.0<br> http.port: 9600<br><br> # 配置es的访问密码<br> xpack.monitoring.enabled: true<br> xpack.monitoring.elasticsearch.username: logstash_system<br> xpack.monitoring.elasticsearch.password: logstash_system<br> xpack.monitoring.elasticsearch.hosts: [“<a href="http://localhsot:9200"]">http://localhsot:9200&quot;]</a></li><li>修改 pipelines配置文件<br> - pipeline.id: gmp-logs<br>   queue.type: persisted<br>   path.config: “&#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;conf.d&#x2F;*.config”</li><li>创建日志的config文件<br> touch &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;conf.d&#x2F;logstash-beats.conf<br> 写入文件内容<br> input {<br>   beats {<br>     port &#x3D;&gt; 5044<br>   }<br> }<br><br> filter {<br>     grok {<br>         match &#x3D;&gt; [<br>             “message”, “%{TIMESTAMP_ISO8601:timestamp_string}%{SPACE}%{GREEDYDATA:line}”<br>         ]<br>     }<br>     date  {<br>         match &#x3D;&gt; [“timestamp_string”, “ISO8601”]<br>     }<br>     mutate {<br>         remove_field &#x3D;&gt; [message, timestamp_string]<br>     }<br> }<br><br> output {<br>     elasticsearch {<br>         hosts &#x3D;&gt;  [“<a href="http://localhost:9200"]">http://localhost:9200&quot;]</a><br>         user &#x3D;&gt; elastic<br>         password &#x3D;&gt; “elastic”<br>     }<br>     stdout {<br>         codec &#x3D;&gt; rubydebug<br>     }<br> }</li><li>启动Logstash(root用户)<br> cd &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;bin<br> sh logstash -f ..&#x2F;conf.d&#x2F;logstash-beats.conf &amp;</li></ol></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ELK是elasticsearch、logstash、kibana软件的集合，对外是作为一个日志管理系统的开源方案</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="ELK" scheme="http://www.xiaokunli.com/tags/ELK/"/>
    
  </entry>
  
  <entry>
    <title>简单时间管理</title>
    <link href="http://www.xiaokunli.com/2020/10/10/%E7%AE%80%E5%8D%95%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/"/>
    <id>http://www.xiaokunli.com/2020/10/10/%E7%AE%80%E5%8D%95%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/</id>
    <published>2020-10-10T07:24:02.000Z</published>
    <updated>2020-10-09T01:38:35.644Z</updated>
    
    <content type="html"><![CDATA[<h1 id="时间管理"><a href="#时间管理" class="headerlink" title="时间管理"></a>时间管理</h1><h2 id="目标感"><a href="#目标感" class="headerlink" title="目标感"></a>目标感</h2><ol><li>给每件事情设定deadline</li><li>给长期的事情设置周期循环事项</li></ol><h2 id="时间块"><a href="#时间块" class="headerlink" title="时间块"></a>时间块</h2><ul><li>30分钟刻度划分<br>  一般管理人员的时间快划分可以到30分钟或者1小时</li><li>半天刻度划分<br>  研发人员会按照半天来划分时间，涉及到写代码、用例、测试计划、编译、部署等具体工作，需要时间来思考及实现，所以有效的时间块划分是半天或者一天。</li></ul><h2 id="固化日程"><a href="#固化日程" class="headerlink" title="固化日程"></a>固化日程</h2><p>固化日程即养成好的习惯，使得时间利用率高，事情处理效率高。<br>有些固定模板可套用，如：</p><ul><li><strong>上班后&#x2F;下班前处理今日事项和明日规划</strong></li><li><strong>早会及总结</strong></li><li><strong>上午做需求评审，下午写代码，晚上做分享</strong></li></ul><p>个人日程示例：<br>    <figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8.45-9.00</span>：查看日程，规划今天事务</span><br><span class="line"><span class="number">9.15-9.30</span>： 早会</span><br><span class="line"><span class="number">9.30-9.45</span>：整理项目的进度和风险</span><br><span class="line"><span class="number">10.00-11.00</span>： 检视<span class="number">930</span>版本需求</span><br><span class="line"><span class="number">11.00-11.50</span>： XX技术方案/需求评审会议</span><br><span class="line">———————————————————</span><br><span class="line"><span class="number">1.30-3.00</span>：写代码</span><br><span class="line"><span class="number">3.15-6.00</span>： 接口设计</span><br><span class="line"><span class="number">7.00-8.45</span>：  小组分享</span><br><span class="line"><span class="number">8.45-9.00</span>： 今日事项总结，明日事项规划</span><br></pre></td></tr></table></figure></p><h2 id="工具和方法论"><a href="#工具和方法论" class="headerlink" title="工具和方法论"></a>工具和方法论</h2><p>工具：microsoft todo、滴答清单、calendar<br>方法论：GTD(Get things done)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;时间管理&quot;&gt;&lt;a href=&quot;#时间管理&quot; class=&quot;headerlink&quot; title=&quot;时间管理&quot;&gt;&lt;/a&gt;时间管理&lt;/h1&gt;&lt;h2 id=&quot;目标感&quot;&gt;&lt;a href=&quot;#目标感&quot; class=&quot;headerlink&quot; title=&quot;目标感&quot;&gt;&lt;/a&gt;目标</summary>
      
    
    
    
    
    <category term="效率" scheme="http://www.xiaokunli.com/tags/%E6%95%88%E7%8E%87/"/>
    
  </entry>
  
  <entry>
    <title>无题2</title>
    <link href="http://www.xiaokunli.com/2020/08/24/%E6%97%A0%E9%A2%982/"/>
    <id>http://www.xiaokunli.com/2020/08/24/%E6%97%A0%E9%A2%982/</id>
    <published>2020-08-24T07:24:02.000Z</published>
    <updated>2020-08-24T01:03:05.941Z</updated>
    
    <content type="html"><![CDATA[<h2 id="我与地坛"><a href="#我与地坛" class="headerlink" title="我与地坛"></a>我与地坛</h2><p>但是太阳，他每时每刻都是夕阳也都是旭日。当他熄灭着走下山去收尽苍凉残照之际，正是他在另一面燃烧着爬上山巅布散烈烈朝辉之时。那一天，我也将沉静着走下山去，扶着我的拐杖。<br>有一天，在某一处山洼里，势必会跑上来一个欢蹦的孩子，抱着他的玩具。<br>当然，那不是我。<br>但是，那不是我吗？<br>宇宙以其不息的欲望将一个歌舞炼为永恒。这欲望有怎样一个人间的姓名，大可忽略不计。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;我与地坛&quot;&gt;&lt;a href=&quot;#我与地坛&quot; class=&quot;headerlink&quot; title=&quot;我与地坛&quot;&gt;&lt;/a&gt;我与地坛&lt;/h2&gt;&lt;p&gt;但是太阳，他每时每刻都是夕阳也都是旭日。当他熄灭着走下山去收尽苍凉残照之际，正是他在另一面燃烧着爬上山巅布散烈烈朝辉之时。那</summary>
      
    
    
    
    
    <category term="鸡汤" scheme="http://www.xiaokunli.com/tags/%E9%B8%A1%E6%B1%A4/"/>
    
  </entry>
  
  <entry>
    <title>无题</title>
    <link href="http://www.xiaokunli.com/2020/02/06/%E6%97%A0%E9%A2%981/"/>
    <id>http://www.xiaokunli.com/2020/02/06/%E6%97%A0%E9%A2%981/</id>
    <published>2020-02-06T07:24:02.000Z</published>
    <updated>2020-02-06T07:36:16.361Z</updated>
    
    <content type="html"><![CDATA[<h2 id="在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。"><a href="#在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。" class="headerlink" title="在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。"></a>在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。</h2><p>Independence of mind or strength of character are rarely found among those who cannot be confident that they will make their way by their own effort.<br>                                                                —— 哈耶克《通往奴役之路》</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。&quot;&gt;&lt;a href=&quot;#在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。&quot; class=&quot;headerlink&quot; title=&quot;在那些没有信心靠自己</summary>
      
    
    
    
    <category term="心理学" scheme="http://www.xiaokunli.com/categories/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
    
    <category term="鸡汤" scheme="http://www.xiaokunli.com/tags/%E9%B8%A1%E6%B1%A4/"/>
    
  </entry>
  
  <entry>
    <title>Mac安装k8s for docker desktop</title>
    <link href="http://www.xiaokunli.com/2020/01/27/Mac%E5%AE%89%E8%A3%85k8s%20for%20docker%20desktop/"/>
    <id>http://www.xiaokunli.com/2020/01/27/Mac%E5%AE%89%E8%A3%85k8s%20for%20docker%20desktop/</id>
    <published>2020-01-27T04:49:00.000Z</published>
    <updated>2020-01-29T13:50:45.965Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装docker-desktop-for-mac"><a href="#安装docker-desktop-for-mac" class="headerlink" title="安装docker desktop for mac"></a>安装docker desktop for mac</h2><ol><li><p>下载 Docker CE最新版本<br> 地址： <a href="https://store.docker.com/search?type=edition&offering=community">https://store.docker.com/search?type=edition&amp;offering=community</a><br> 版本信息：<br> <img src="/images/docker-k8s1.png"></p></li><li><p>配置镜像加速</p><ul><li>阿里云镜像服务 <a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</a></li><li>中科大镜像加速地址 <a href="https://docker.mirrors.ustc.edu.cn/">https://docker.mirrors.ustc.edu.cn</a></li></ul><p> mac配置：<br> <img src="/images/docker-k8s2.png"></p></li></ol><h2 id="开启kubernetes"><a href="#开启kubernetes" class="headerlink" title="开启kubernetes"></a>开启kubernetes</h2><ol><li><p>下载离线镜像</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/AliyunContainerService/k8s-for-docker-desktop</span><br><span class="line"><span class="built_in">cd</span> k8s-for-docker-desktop</span><br><span class="line">./load_images.sh</span><br></pre></td></tr></table></figure></li><li><p>安装并启动kubernetes</p><ul><li>配置 CPU 和 内存资源<br> <img src="/images/docker-k8s3.png"></li><li>开启 Kubernetes<br> <img src="/images/docker-k8s4.png"></li></ul></li></ol><h2 id="安装k8s-dashboard应用"><a href="#安装k8s-dashboard应用" class="headerlink" title="安装k8s dashboard应用"></a>安装k8s dashboard应用</h2><ol><li><p>部署dashboard</p> <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/kubernetes/</span>dashboard<span class="regexp">/v1.10.1/</span>src<span class="regexp">/deploy/</span>recommended/kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure><p> 或者</p> <figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl <span class="keyword">create</span> -f kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure></li><li><p>开启API Server访问代理</p> <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">kubectl proxy</span></span><br></pre></td></tr></table></figure></li><li><p>访问Kubernetes dashboard<br> URL：<br> <a href="http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/#!/overview?namespace=default">http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/#!/overview?namespace=default</a></p></li><li><p>配置控制台访问令牌</p><p> 登录dashboard时<br> <img src="/images/k8s_credentials.png"></p><ul><li>选择令牌，输入下文控制台输出的内容</li></ul> <figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">TOKEN</span>=$(<span class="string">kubectl</span> -<span class="string">n</span> <span class="string">kube-system</span> <span class="string">describe</span> <span class="string">secret</span> <span class="string">default</span>| <span class="string">awk</span> <span class="string">&#x27;$1==&quot;token:&quot;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line"><span class="string">kubectl</span> <span class="string">config</span> <span class="built_in">set-credentials</span> <span class="string">docker-for-desktop</span> <span class="built_in">--token=&quot;$&#123;TOKEN&#125;&quot;</span></span><br><span class="line"><span class="string">echo</span> $<span class="string">TOKEN</span></span><br></pre></td></tr></table></figure><ul><li>选择 Kubeconfig 文件<br>  路径如下：$HOME&#x2F;.kube&#x2F;config</li></ul></li></ol><h2 id="安装过程中的问题"><a href="#安装过程中的问题" class="headerlink" title="安装过程中的问题"></a>安装过程中的问题</h2><p>kubernets is starting<br>    k8s 一直是开始状态而不是running状态，查看官方的issue列表中找到如下解决方案<br>    1. 使用如下命令查看日志<br>    <figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">pred</span>=&#x27;process matches <span class="string">&quot;.*(ocker|vpnkit).*&quot;</span> || (process <span class="keyword">in</span> &#123;<span class="string">&quot;taskgated-helper&quot;</span>, <span class="string">&quot;launchservicesd&quot;</span>, <span class="string">&quot;kernel&quot;</span>&#125; &amp;&amp; eventMessage contains[c] <span class="string">&quot;docker&quot;</span>)&#x27;</span><br><span class="line">$ /usr/bin/<span class="built_in">log</span> stream --<span class="built_in">style</span> syslog --level=debug --<span class="built_in">color</span>=always --predicate <span class="string">&quot;$pred&quot;</span></span><br></pre></td></tr></table></figure><br>    2. 卸载docker panel<br>    3. 删除 .kube file<br>    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf ~/.kube</span><br></pre></td></tr></table></figure><br>    4. 编辑&#x2F;etc&#x2F;hosts. (第一行包含<strong>docker-for-desktop</strong>)<br>    编辑后如下:<br>    <figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0.0.1</span>truelocalhost docker-for-desktop</span><br><span class="line"><span class="number">255.255.255.255</span> broadcasthost</span><br><span class="line">::<span class="number">1</span> localhost</span><br></pre></td></tr></table></figure><br>    5. 重新安装kubernets</p><p>问题参考链接<br>    <a href="https://github.com/docker/for-mac/issues">https://github.com/docker/for-mac/issues</a><br>    <a href="https://github.com/docker/for-mac/issues/3327">https://github.com/docker/for-mac/issues/3327</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;安装docker-desktop-for-mac&quot;&gt;&lt;a href=&quot;#安装docker-desktop-for-mac&quot; class=&quot;headerlink&quot; title=&quot;安装docker desktop for mac&quot;&gt;&lt;/a&gt;安装docker deskt</summary>
      
    
    
    
    <category term="开发" scheme="http://www.xiaokunli.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="kubernets" scheme="http://www.xiaokunli.com/tags/kubernets/"/>
    
    <category term="Mac" scheme="http://www.xiaokunli.com/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7和8下搭建shadowsocks-libev</title>
    <link href="http://www.xiaokunli.com/2019/10/12/CentOS%207%E5%92%8C8%E6%90%AD%E5%BB%BASS/"/>
    <id>http://www.xiaokunli.com/2019/10/12/CentOS%207%E5%92%8C8%E6%90%AD%E5%BB%BASS/</id>
    <published>2019-10-12T06:19:05.653Z</published>
    <updated>2019-10-12T06:56:36.831Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CentOS-7和8下搭建shadowsocks-libev"><a href="#CentOS-7和8下搭建shadowsocks-libev" class="headerlink" title="CentOS 7和8下搭建shadowsocks-libev"></a>CentOS 7和8下搭建shadowsocks-libev</h2><h3 id="安装shadowsocks-libev"><a href="#安装shadowsocks-libev" class="headerlink" title="安装shadowsocks-libev"></a>安装shadowsocks-libev</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/etc/yum</span>.repos.d/</span><br><span class="line">curl -O https:<span class="regexp">//</span>copr.fedorainfracloud.org<span class="regexp">/coprs/</span>librehat<span class="regexp">/shadowsocks/</span>repo<span class="regexp">/epel-7/</span>librehat-shadowsocks-epel-<span class="number">7</span>.repo</span><br></pre></td></tr></table></figure><p>源路径在CentOS7和8下不同，如下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CentOS7</span></span><br><span class="line">URL=https:<span class="regexp">//</span>copr.fedorainfracloud.org<span class="regexp">/coprs/</span>outman<span class="regexp">/shadowsocks-libev/</span>repo<span class="regexp">/epel-7/</span>outman-shadowsocks-libev-epel-<span class="number">7</span>.repo</span><br><span class="line"><span class="comment"># CentOS8</span></span><br><span class="line">URL=https:<span class="regexp">//</span>copr.fedorainfracloud.org<span class="regexp">/coprs/</span>outman<span class="regexp">/shadowsocks-libev/</span>repo<span class="regexp">/epel-8/</span>outman-shadowsocks-libev-epel-<span class="number">8</span>.repo</span><br></pre></td></tr></table></figure><p>安装</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line">yum <span class="keyword">install </span>-y epel-release</span><br><span class="line">yum <span class="keyword">install </span>-y libsodium <span class="keyword">shadowsocks-libev </span>simple-obfs</span><br><span class="line">yum <span class="keyword">install </span>-y <span class="keyword">shadowsocks-libev</span></span><br></pre></td></tr></table></figure><h3 id="配置ss"><a href="#配置ss" class="headerlink" title="配置ss"></a>配置ss</h3><p>打开&#x2F;etc&#x2F;shadowsocks-libev&#x2F;config.json，如果不存在该文件则需要新建。</p><p>配置对应的参数：</p><ul><li><p>server：当前自己的服务器的地址<br>比如：<code>0.0.0.0</code></p></li><li><p>server_port：ss服务的端口<br>一般要大于1024，小于65536,可以随意取值，只要不和其他端口冲突即可<br>比如：<code>21500</code></p></li><li><p>password：ss客户端使用ss时要使用的密码<br>最好设置一个复杂但安全的密码，例如：<code>Ci20s5a6y96F</code></p></li><li><p>method：加密方式<br>以前常见的方式是：<code>aes-256-cfb</code><br>最新更加复杂但更安全的是：chacha20-ietf-poly1305<br>注意: 需要ss客户端要支持该加密方式才能正常使用ss服务</p></li><li><p>timeout：超时时间，单位：秒<br>比如：<code>300</code></p></li><li><p>mode：ss服务的模式<br>比如：<code>tcp_and_udp</code>，即支持tcp也支持udp</p></li></ul><p>示例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;server_port&quot;</span><span class="punctuation">:</span> <span class="number">21500</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Ci20s5a6y96F&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chacha20-ietf-poly1305&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tcp_and_udp&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="防火墙上打开端口"><a href="#防火墙上打开端口" class="headerlink" title="防火墙上打开端口"></a>防火墙上打开端口</h3><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">permanent</span> <span class="literal">--</span><span class="comment">add</span><span class="literal">-</span><span class="comment">port=xxxx/tcp</span></span><br><span class="line"><span class="comment">firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">reload</span></span><br></pre></td></tr></table></figure><h3 id="启动shadowsocks-libev"><a href="#启动shadowsocks-libev" class="headerlink" title="启动shadowsocks-libev"></a>启动shadowsocks-libev</h3><p>启动：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">systemctl restart shadowsocks-libev</span></span><br></pre></td></tr></table></figure><p>开机启动：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> shadowsocks-libev</span><br></pre></td></tr></table></figure><h3 id="生成复杂但安全的密码"><a href="#生成复杂但安全的密码" class="headerlink" title="生成复杂但安全的密码"></a>生成复杂但安全的密码</h3><p><a href="http://ucdok.com/project/generate_password.html">http://ucdok.com/project/generate_password.html</a></p><h3 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h3><p>查看服务状态</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">systemctl status shadowsocks-libev</span></span><br></pre></td></tr></table></figure><p>查看日志</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl -u shadowsocks-libev</span><br></pre></td></tr></table></figure><p>查看端口是否启动</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -tnlp <span class="string">| grep xxxx</span></span><br></pre></td></tr></table></figure><h3 id="实现shadowsocks-libev多用户"><a href="#实现shadowsocks-libev多用户" class="headerlink" title="实现shadowsocks-libev多用户"></a>实现shadowsocks-libev多用户</h3><p>新建另外一个配置文件，比如：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>shadowsocks-libev/config2.json</span><br></pre></td></tr></table></figure><p>内容和之前一致，只是端口号<code>server_port</code>和密码<code>password</code>改了一下即可：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;server_port&quot;</span><span class="punctuation">:</span> <span class="number">21501</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;passowrd2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;aes-256-cfb&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tcp_and_udp&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>注意: 端口号不要和系统中其他服务的端口号冲突了。</p></blockquote><p>另外再去用：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setsid ss-<span class="keyword">server</span> -c /etc/shadowsocks-libev/config2.json -u</span><br></pre></td></tr></table></figure><p>启用新端口对应的ss服务。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;CentOS-7和8下搭建shadowsocks-libev&quot;&gt;&lt;a href=&quot;#CentOS-7和8下搭建shadowsocks-libev&quot; class=&quot;headerlink&quot; title=&quot;CentOS 7和8下搭建shadowsocks-libev&quot;&gt;</summary>
      
    
    
    
    <category term="firewall" scheme="http://www.xiaokunli.com/categories/firewall/"/>
    
    
    <category term="墙" scheme="http://www.xiaokunli.com/tags/%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>MySQL面试题</title>
    <link href="http://www.xiaokunli.com/2019/09/06/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>http://www.xiaokunli.com/2019/09/06/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98/</id>
    <published>2019-09-06T09:24:02.000Z</published>
    <updated>2019-09-06T10:11:35.150Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL面试题"><a href="#MySQL面试题" class="headerlink" title="MySQL面试题"></a>MySQL面试题</h2><h4 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h4><ul><li>常用的MySQL引擎有哪些？ MyISAM和InnoDB区别</li><li>MySQL事务，解释ACID</li><li>SQL标准定义的四个隔离级别</li><li>CHAR和VARCHAR的区别？</li><li>FLOAT和DOUBLE的区别是什么？</li><li>列设置为AUTO INCREMENT时，如果在表中达到最大值，会发生什么情况？</li><li>BLOB和TEXT有什么区别？</li><li>Heap表是什么？</li><li>DROP、DELETE、TRUNCATE的区别</li><li>MySQL里记录货币用什么字段类型好</li><li>通用SQL函数有哪些？</li><li>NOW（）和CURRENT_DATE（）有什么区别？</li><li>MySQL查询是否区分大小写？</li><li>主键 超键 候选键 外键</li><li>视图的作用，视图的优缺点，视图可以更改么？</li><li>MySQL有关权限的表都有哪几个？</li><li>MySQL数据表在什么情况下容易损坏？</li><li>对Explain参数及重要参数的理解？</li><li>MySQL binlog的几种日志录入格式以及区别</li></ul><h4 id="索引、锁"><a href="#索引、锁" class="headerlink" title="索引、锁"></a>索引、锁</h4><ul><li>MySQL索引的目的和原理 </li><li>MySQL索引的数据结构和算法原理</li><li>索引对性能的影响</li><li>索引的使用场景</li><li>索引的创建原则</li><li>什么是索引合并？</li><li>什么是覆盖索引？</li><li>MySQL索引的注意事项</li><li>列举创建索引但是无法命中索引的情况</li><li>为什么使用B+Tree</li><li>B-Tree和B+Tree的区别</li><li>最左前缀原理</li><li>什么是聚集索引和非聚集索引</li><li>可以使用多少列创建索引？</li><li>MySQL中有哪几种锁？</li><li>什么是乐观锁和悲观锁</li><li>乐观锁和悲观锁的区别及使用场景</li><li>乐观锁常见的两种实现方式</li><li>乐观锁的缺点</li><li>什么是MVCC</li><li>MySQL的innodb引擎是如何实现MVCC的</li><li>MySQL中InnoDB引擎的行锁是怎么实现的？为什么是这样子的？</li></ul><h4 id="调优诊断"><a href="#调优诊断" class="headerlink" title="调优诊断"></a>调优诊断</h4><ul><li>对SQL语句优化有哪些方法？</li><li>MySQL如何优化DISTINCT？</li><li>锁的优化策略</li><li>MySQL数据库CPU飙升到500%的话他怎么处理？</li><li>MySQL数据库服务器性能分析的方法命令有哪些?</li><li>数据库结构优化的建议有哪些</li><li>Schema设计对系统性能有什么影响？</li></ul><h4 id="解答题"><a href="#解答题" class="headerlink" title="解答题"></a>解答题</h4><ul><li>一张表，里面有ID自增主键，当insert了17条记录之后，删除了第15,16,17条记录，再把MySQL重启，再insert一条记录，这条记录的ID是18还是15 ？</li><li>如何在MySQL种获取当前日期？</li><li>如何查询第n高的工资？ </li><li>有A(id,sex,par,c1,c2),B(id,age,c1,c2)两张表，其中A.id与B.id关联，现在要求写出一条SQL语句，将B中age&gt;50的记录的c1,c2更新到A表中同一记录中的c1,c2字段中</li><li>一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录</li><li>1000w条数据，使用limit offset 分页时，为什么越往后翻越慢？如何解决？</li></ul><h4 id="运维安全"><a href="#运维安全" class="headerlink" title="运维安全"></a>运维安全</h4><ul><li>SQL注入漏洞产生的原因？如何防止？</li><li>关于SQL语句应该考虑哪些安全性？</li><li>简述数据库的读写分离？</li><li>简述数据库分库分表？（水平、垂直）</li><li>MySQL的复制原理以及流程</li><li>Mysql热备方案和原理</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;MySQL面试题&quot;&gt;&lt;a href=&quot;#MySQL面试题&quot; class=&quot;headerlink&quot; title=&quot;MySQL面试题&quot;&gt;&lt;/a&gt;MySQL面试题&lt;/h2&gt;&lt;h4 id=&quot;基础知识&quot;&gt;&lt;a href=&quot;#基础知识&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="面试题" scheme="http://www.xiaokunli.com/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
    <category term="MySQL" scheme="http://www.xiaokunli.com/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Java面试题</title>
    <link href="http://www.xiaokunli.com/2019/08/27/Java%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>http://www.xiaokunli.com/2019/08/27/Java%E9%9D%A2%E8%AF%95%E9%A2%98/</id>
    <published>2019-08-27T13:06:02.000Z</published>
    <updated>2019-09-06T09:24:35.037Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Java面试题"><a href="#Java面试题" class="headerlink" title="Java面试题"></a>Java面试题</h2><h4 id="Java基础面试知识点"><a href="#Java基础面试知识点" class="headerlink" title="Java基础面试知识点"></a>Java基础面试知识点</h4><ul><li>java中&#x3D;&#x3D;和equals和hashCode的区别</li><li>int、char、long各占多少字节数</li><li>int与integer的区别</li><li>解释下多态性（polymorphism），封装性（encapsulation），内聚（cohesion）以及耦合（coupling）</li><li>String、StringBuffer、StringBuilder区别</li><li>什么是内部类？内部类的作用</li><li>抽象类和接口区别</li><li>抽象类的意义</li><li>抽象类与接口的应用场景</li><li>抽象类是否可以没有方法和属性？</li><li>接口的意义</li><li>泛型中extends和super的区别</li><li>父类的静态方法能否被子类重写</li><li>进程和线程的区别</li><li>final，finally，finalize的区别</li><li>序列化的方式</li><li>transient关键字的作用</li><li>Serializable 和Parcelable 的区别</li><li>静态属性和静态方法是否可以被继承？是否可以被重写？以及原因？</li><li>静态内部类的设计意图</li><li>成员内部类、静态内部类、局部内部类和匿名内部类的理解，以及项目中的应用</li><li>string 转换成 integer的方式及原理</li><li>反射是如何实现的，在哪些场景用到反射</li><li>反射中 Class.forName 和 ClassLoader 区别</li><li>反射创建类实例的三种方式是什么</li><li>如何通过反射调用对象的方法，获取和设置对象私有字段的值</li><li>反射机制的优缺点</li><li>什么是正则表达式？用途是什么？哪个包使用正则表达式来实现模式匹配</li><li>什么是懒加载（Lazy Loading）</li><li>什么是尾递归，为什么需要尾递归</li></ul><h4 id="Java高级面试题"><a href="#Java高级面试题" class="headerlink" title="Java高级面试题"></a>Java高级面试题</h4><ul><li>讲一下常见编码方式？</li><li>utf-8编码中的中文占几个字节；int型几个字节？</li><li>静态代理和动态代理的区别，什么场景使用？</li><li>Java的异常体系</li><li>修改对象A的equals方法的签名，那么使用HashMap存放这个对象实例的时候，会调用哪个equals方法？</li><li>为什么在重写 equals 方法的时候需要重写 hashCode 方法？equals与 hashCode 的异同点在哪里</li><li>可以在 hashcode() 中使用随机数字吗？</li><li>Java中实现多态的机制是什么？</li><li>如何将一个Java对象序列化到文件里？</li><li>说说你对Java反射的理解</li><li>Java动态代理的实现方式及原理</li><li>说说你对Java注解的理解</li><li>说说你对依赖注入的理解</li><li>说一下泛型原理，并举例说明</li><li>Java中String的了解</li><li>String为什么要设计成不可变的？</li><li>java中的四种引用的区别以及使用场景</li><li>强引用置为null，会不会被回收？</li></ul><h4 id="Java数据结构"><a href="#Java数据结构" class="headerlink" title="Java数据结构"></a>Java数据结构</h4><ul><li>常用数据结构有哪些</li><li>并发集合了解哪些？</li><li>列举java的集合以及集合之间的继承关系</li><li>集合类以及集合框架</li><li>容器类介绍以及之间的区别（容器类估计很多人没听这个词，Java容器主要可以划分为4个部分：List列表、Set集合、Map映射、工具类（Iterator迭代器、Enumeration枚举类、Arrays和Collections）</li><li>List、Set、Map的区别</li><li>List和Map的实现方式以及存储方式</li><li>ArrayList和LinkedList的区别，以及应用场景</li><li>数组和链表的区别</li><li>HashMap的实现原理及源码理解</li><li>HashMap如何put数据（从HashMap源码角度讲解）</li><li>HashMap的遍历方式及效率</li><li>怎么手写实现一个HashMap</li><li>HashTable实现原理</li><li>TreeMap具体实现</li><li>ConcurrentHashMap的实现原理</li><li>ArrayMap和HashMap的对比</li><li>HashMap与HashSet的区别</li><li>HashMap 、HashTable、ConcurrentHashMap 的区别</li><li>HashMap、LinkedMap、TreeMap的区别</li><li>如何决定选用HashMap还是TreeMap</li><li>HashSet与HashMap怎么判断集合元素重复</li><li>集合Set实现Hash怎么防止碰撞</li><li>WeakHashMap 是怎么工作的？</li><li>二叉树的深度优先遍历和广度优先遍历的具体实现</li><li>堆的结构</li><li>堆和树的区别</li><li>堆和栈在内存中的区别是什么(解答提示：可以从数据结构方面以及实际实现方面两个方面去回答)？</li><li>什么是深拷贝和浅拷贝</li><li>讲一下对树、B+树的理解</li><li>讲一下对图的理解</li><li>判断单链表成环与否？</li></ul><h4 id="Java线程、多线程、线程池、锁"><a href="#Java线程、多线程、线程池、锁" class="headerlink" title="Java线程、多线程、线程池、锁"></a>Java线程、多线程、线程池、锁</h4><ul><li>开启线程的三种方式？</li><li>线程和进程的区别？</li><li>为什么要有线程，而不是仅仅用进程？</li><li>run()和start()方法区别</li><li>如何控制某个方法允许并发访问线程的个数？</li><li>在Java中wait和seelp方法的不同；</li><li>谈谈wait&#x2F;notify关键字的理解</li><li>什么导致线程阻塞？</li><li>线程如何关闭？</li><li>讲一下java中的同步的方法</li><li>数据一致性如何保证？</li><li>如何保证线程安全？</li><li>如何实现线程同步？</li><li>两个进程同时要求写或者读，能不能实现？如何防止进程的同步？</li><li>线程间操作List</li><li>Java中对象的生命周期</li><li>Synchronized用法和原理</li><li>谈谈对Synchronized关键字，类锁，方法锁，重入锁的理解</li><li>static synchronized 方法的多线程访问和作用</li><li>同一个类里面两个synchronized方法，两个线程同时访问的问题</li><li>volatile的原理</li><li>谈谈volatile关键字的用法和作用以及场景</li><li>谈谈NIO的理解</li><li>synchronized 和volatile 关键字的区别</li><li>synchronized与Lock的区别</li><li>ReentrantLock 、synchronized和volatile比较</li><li>ReentrantLock的内部实现</li><li>lock原理</li><li>死锁的四个必要条件？</li><li>怎么避免死锁？</li><li>对象锁和类锁是否会互相影响？</li><li>什么是线程池，如何使用?</li><li>Java的并发、多线程、线程模型</li><li>ThreadLocal 用途是什么，原理是什么，用的时候要注意什么</li><li>ThreadPool用法与优势，线程池队列已满时会发会生什么</li><li>线程池的实现策略</li><li>线程池的关闭方式有几种，各自的区别是什么</li><li>线程池中submit() 和 execute()方法有什么区别？</li><li>谈谈对多线程的理解</li><li>多线程有什么要注意的问题？</li><li>Java中用到的线程调度算法是什么</li><li>什么是多线程中的上下文切换，避免上下文切换的方案(无锁编程&#x2F;CAS&#x2F;合理的创建线程)</li><li>JAVA线程间的状态转换</li><li>你对线程优先级的理解是什么</li><li>Java多线程的三大核心是什么？(原子性、可见性、顺序性)</li><li>什么是线程调度器 (Thread Scheduler) 和时间分片 (Time Slicing)</li><li>谈谈你对多线程同步机制的理解？</li><li>什么是多线程环境下的伪共享（false sharing）</li><li>如何保证多线程读写文件的安全？</li><li>多线程断点续传原理</li><li>断点续传的实现</li></ul><h4 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h4><ul><li>谈谈你对并发编程的理解并举例说明</li><li>Java 中锁机制：synchronized、Lock、Condition</li><li>深入分析ConcurrentHashMap</li><li>BlockingQueue是什么</li><li>简述 ConcurrentLinkedQueue LinkedBlockingQueue 的用处和不同之处</li><li>ArrayBlockingQueue, CountDownLatch的用法</li><li>CyclicBarrier 和 CountDownLatch有什么不同？各自的内部原理和用法是什么</li><li>Semaphore的用法</li><li>什么是乐观锁（Optimistic Locking）？如何实现乐观锁？如何避免ABA问题</li><li>解释以下名词：重排序，自旋锁，偏向锁，轻量级锁，可重入锁，公平锁，非公平锁，乐观锁，悲观锁</li><li>什么时候应该使用可重入锁</li><li>简述锁的等级方法锁、对象锁、类锁</li><li>Java中活锁和死锁有什么区别？</li><li>什么是死锁(Deadlock)？导致线程死锁的原因？如何确保 N 个线程可以访问 N 个资源同时又不导致死锁</li><li>死锁与活锁的区别，死锁与饥饿的区别</li><li>怎么检测一个线程是否拥有锁</li><li>如何实现分布式锁</li><li>有哪些无锁数据结构，他们实现的原理是什么</li><li>读写锁可以用于什么应用场景</li></ul><h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><ul><li>Java 内存模型，1.8和1.9的区别</li><li>Java类加载机制</li><li>Java 堆内存溢出分析</li><li>MetaSpace (元数据) 内存溢出一般是什么原因</li><li>垃圾回收算法有哪些</li><li>哪些情况下的对象会被垃圾回收机制处理掉？</li><li>深入理解java内存模型–参考InfoQ系列文章</li></ul><h4 id="架构设计和设计模式"><a href="#架构设计和设计模式" class="headerlink" title="架构设计和设计模式"></a>架构设计和设计模式</h4><ul><li>聊了下曾经参与设计的服务器架构</li><li>为什么要进行系统拆分？如何进行系统拆分？拆分后不用 Dubbo 可以吗？</li><li>BS与CS的联系与区别</li><li>什么是领域模型(domain model)？贫血模型(anaemic domain model) 和充血模型(rich domain model)有什么区别</li><li>什么是领域驱动开发（Domain Driven Development）</li><li>请简要讲一下你对测试驱动开发（TDD）的认识</li><li>微服务（MicroServices）与单体应用（Monolithic Applications）之间的区别在哪里</li><li>REST、RPC、RMI有什么区别</li><li>MVC MVP MVVM原理和区别</li><li>你所知道的设计模式有哪些？</li><li>项目中常用的设计模式</li><li>手写生产者&#x2F;消费者模式</li><li>写一个你认为最好的单例模式</li><li>写出观察者模式的代码</li><li>适配器模式，装饰者模式，外观模式的异同？</li><li>用到的一些开源框架，介绍一个看过源码的，内部实现过程。</li><li>从0设计一个小程序项目整体架构，如何去做？</li><li>说一款你认为当前比较火的应用并设计(比如：电商、直播APP，P2P金融，小视频等)</li><li>谈谈对java状态机理解</li><li>对于应用更新这块是如何做的？(解答：灰度，强制更新，分区域更新)？</li><li>你常用的持续集成（Continuous Integration）、静态代码分析（Static Code Analysis）工具有哪些</li><li>实现一个Json解析器(可以通过正则提高速度)</li><li>什么样的项目不适合用框架</li><li>新浪微博是如何实现把微博推给订阅者</li><li>说出数据连接池的工作机制是什么</li><li>怎么提升系统的QPS和吞吐量</li><li>你有了解过存在哪些反模式（Anti-Patterns）吗</li><li>你用过的网站前端优化的技术有哪些</li><li>如何搭建一个高可用系统</li><li>如何启动时不需输入用户名与密码</li><li>如何在基于Java的Web项目中实现文件上传和下载</li><li>如何实现一个秒杀系统，保证只有几位用户能买到某件商品。</li><li>如何实现负载均衡，有哪些算法可以实现</li><li>如何设计一个购物车？想想淘宝的购物车如何实现的</li><li>如何设计一套高并发支付方案，架构如何设计</li><li>如何设计建立和保持 100w 的长连接</li><li>如何避免浏览器缓存。</li><li>如何限流？在工作中是怎么做的？说一下具体的实现？</li><li>如何进行熔断？</li><li>熔断框架都有哪些？具体实现原理知道吗？</li><li>如何进行降级？</li><li>如何防止缓存雪崩</li><li>如果有人恶意创建非法连接，怎么解决</li><li>什么是微服务？微服务之间是如何独立通讯的？</li><li>Spring Cloud 和 Dubbo 有哪些区别？</li><li>Spring Boot 和 Spring Cloud，谈谈你对它们的理解？</li><li>什么是服务熔断？什么是服务降级？</li><li>微服务的优缺点分别是什么？说一下你在项目开发中碰到的坑？</li><li>你所知道的微服务技术栈都有哪些？</li><li>Eureka 和 Zookeeper 都可以提供服务注册与发现的功能，它们有什么区别？</li></ul><h4 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h4><ul><li>遇到过的内存泄漏或栈溢出场景，CPU利用率飙高，应用无响应时怎么解决？</li><li>如何分析Thread dump</li><li>Java多线程引发的性能问题，怎么解决？</li><li>如何保持应用的稳定性</li><li>线上系统突然变得异常缓慢，你如何查找问题</li><li>网站性能优化如何优化</li><li>SQL优化的常见手段</li></ul><h4 id="分布式"><a href="#分布式" class="headerlink" title="分布式"></a>分布式</h4><ul><li>CDN实现原理</li><li>什么是 Raft和Paxos 算法</li><li>什么是 zab 协议</li><li>解释什么是 MESI 协议(缓存一致性)</li><li>解释CAP、BASE</li><li>什么是幂等，如何实现</li><li>分布式事务的原理，优缺点，如何使用分布式事务？</li><li>你们如何解决分布式事务问题的？TCC 如果出现网络连不通怎么办？XA 的一致性如何保证？</li><li>分布式ID 生成器的实现方案及优缺点(数据库、本地UUID、本地时间、雪花算法)</li><li>分布式锁的实现方式及优缺点</li><li>分布式缓存设计需要考虑哪些因素</li><li>分布式 Session如何实现</li><li>为什么使用消息队列？消息队列有什么优点和缺点？Kafka、ActiveMQ、RabbitMQ、RocketMQ 都有什么优点和缺点？</li><li>如何保证消息队列的高可用？</li><li>如何保证消息不被重复消费？（如何保证消息消费的幂等性）</li><li>如何保证消息的可靠性传输？（如何处理消息丢失的问题）</li><li>如何保证消息的顺序性？</li><li>如何解决消息队列的延时以及过期失效问题？消息队列满了以后该怎么处理？有几百万消息持续积压几小时，说说怎么解决？</li><li>高并发下，如何做到安全的修改同一行数据</li><li>12306网站的订票系统如何实现，如何保证不会票不被超卖</li><li>实现分布式环境下的 countDownLatch</li><li>es 的分布式架构原理能说一下么（es 是如何实现分布式的啊）？</li><li>es 写入数据的工作原理是什么啊？es 查询数据的工作原理是什么啊？底层的 lucene 介绍一下呗？倒排索引了解吗？</li><li>es 在数据量很大的情况下（数十亿级别）如何提高查询效率啊？</li><li>es 生产集群的部署架构是什么？每个索引的数据量大概有多少？每个索引大概有多少个分片？</li></ul><h4 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h4><ul><li>排序算法有哪些？</li><li>最快的排序算法是哪个？</li><li>手写一个冒泡排序</li><li>手写快速排序代码</li><li>手写一个折半查找</li><li>手写堆排序</li><li>实现一个电梯模拟器用</li><li>随机产生20个不能重复的字符并排序</li><li>写一个函数，传入 2 个有序的整数数组，返回一个有序的整数数组</li><li>写一段代码在遍历 ArrayList 时移除一个元素</li><li>快速排序的过程、时间复杂度、空间复杂度</li><li>堆排序过程、时间复杂度及空间复杂度</li><li>写出你所知道的排序算法及时空复杂度，稳定性</li><li>二叉树给出根节点和目标节点，找出从根节点到目标节点的路径</li><li>给阿里2万多名员工按年龄排序应该选择哪个算法？</li><li>GC算法(各种算法的优缺点以及应用场景)</li><li>蚁群算法与蒙特卡洛算法</li><li>约瑟芬环游戏</li><li>子串包含问题(KMP 算法)写代码实现</li><li>一个无序，不重复数组，输出N个元素，使得N个元素的和相加为M，给出时间复杂度、空间复杂度。手写算法</li><li>万亿级别的两个URL文件A和B，如何求出A和B的差集C(提示：Bit映射-&gt;hash分组-&gt;多文件读写效率-&gt;磁盘寻址以及应用层面对寻址的优化)</li><li>百度POI中如何试下查找最近的商家功能(提示：坐标镜像+R树)。</li><li>两个不重复的数组集合中，求共同的元素。</li><li>两个不重复的数组集合中，这两个集合都是海量数据，内存中放不下，怎么求共同的元素？</li><li>一个文件中有100万个整数，由空格分开，在程序中判断用户输入的整数是否在此文件中。说出最优的方法</li><li>一张Bitmap所占内存以及内存占用的计算</li><li>2000万个整数，找出第五十大的数字？</li><li>烧一根不均匀的绳，从头烧到尾总共需要1个小时。现在有若干条材质相同的绳子，问如何用烧绳的方法来计时一个小时十五分钟呢？</li><li>求1000以内的水仙花数以及40亿以内的水仙花数</li><li>5枚硬币，2正3反如何划分为两堆然后通过翻转让两堆中正面向上的硬8币和反面向上的硬币个数相同</li><li>时针走一圈，时针分针重合几次</li><li>N*N的方格纸,里面有多少个正方形</li><li>x个苹果，一天只能吃一个、两个、或者三个，问多少天可以吃完？</li><li>50个人围坐一圈，当数到三或者三的倍数出圈，问剩下的人是谁，原来的位置是多少</li><li>古典问题：有一对兔子，从出生后第3个月起每个月都生一对兔子，小兔子长到第四个月后每个月又生一对兔子，假如兔子都不死，问每个月的兔子总数为多少</li><li>如果让你实现一个并发安全的链表，你会怎么做</li><li>计算两个日期之间的差距</li></ul><h4 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h4><p><strong>1. 计算加班费</strong></p><p>加班10小时以下加班费是时薪的1.5倍。加班10小时或以上，按4元&#x2F;时算。提示：（一个月工作26天，一天正常工作8小时）</p><ul><li>计算1000月薪，加班9小时的加班费</li><li>计算2500月薪，加班11小时的加班费</li><li>计算1000月薪，加班15小时的加班费</li></ul><p><strong>2. 卖东西</strong></p><p>一家商场有红苹果和青苹果出售。（红苹果5元&#x2F;个，青苹果4元&#x2F;个）。</p><ul><li>模拟一个进货。红苹果跟青苹果各进200个。</li><li>模拟一个出售。红苹果跟青苹果各买出10个。每卖出一个苹果需要进行统计。</li></ul><p>提示：一个苹果是一个单独的实体。</p><p><strong>3. 日期提取</strong></p><p>有这样一个时间字符串：2008-8-8 20:08:08 ， 请编写能够匹配它的正则表达式，并编写Java代码将日期后面的时分秒提取出来，即：20:08:08</p><p><strong>4. 线程</strong></p><ul><li>8设计4个线程，其中两个线程每次对j增加1，另外两个线程对j每次减少1。写出程序。</li><li>用Java写一个多线程程序，如写四个线程，二个加1，二个对一个变量减一，输出</li><li>wait-notify 写一段代码来解决生产者-消费者问题</li></ul><p><strong>5. 数字计算</strong></p><ul><li><p>判断101-200之间有多少个素数，并输出所有素数</p></li><li><p>用最有效率的方法算出2乘以17等于多少</p></li><li><p>有 1 亿个数字，其中有 2 个是重复的，快速找到它，时间和空间要最优</p></li><li><p>2 亿个随机生成的无序整数,找出中间大小的值</p></li><li><p>10 亿个数字里里面找最小的 10 个</p></li><li><p>1到1亿的自然数，求所有数的拆分后的数字之和，如286 拆分成2、8、6，如1到11拆分后的数字之和 &#x3D;&gt; 1 + … + 9 + 1 + 0 + 1 + 1</p></li><li><p>一个数如果恰好等于它的因子之和，这个数就称为 “完数 “。例如6&#x3D;1＋2＋3.编程 找出1000以内的所有完数</p></li><li><p>一个数组中所有的元素都出现了三次，只有一个元素出现了一次找到这个元素</p></li><li><p>一球从100米高度自由落下，每次落地后反跳回原高度的一半；再落下，求它在 第10次落地时，共经过多少米？第10次反弹多高？</p></li><li><p>求100－1000内质数的和</p></li><li><p>求1到100的和的平均数</p></li><li><p>求s&#x3D;a+a+aaa+aaaa+aa…a的值，其中a是一个数字。例如2+22+222+2222+22222(此时共有5个数相加)，几个数相加有键盘控制。 求出1到100的和</p></li><li><p>算出1到40的质数，放进数组里</p><ul><li>显示放组里的数</li><li>找出第[5]个数</li><li>删除第[9]个数，再显示删除后的第[9]个</li></ul></li><li><p>有 3n+1 个数字，其中 3n 个中是重复的，只有 1 个是不重复的，怎么找出来。</p></li><li><p>有一组数1.1.2.3.5.8.13.21.34。写出程序随便输入一个数就能给出和前一组数字同规律的头5个数</p></li><li><p>计算指定数字的阶乘</p></li><li><p>给定一个包含 N 个整数的数组，找出丢失的整数</p></li><li><p>一个排好序的数组，找出两数之和为m的所有组合</p></li><li><p>将一个正整数分解质因数。例如：输入90,打印出90&#x3D;2<em>3</em>3*5。</p></li><li><p>打印出所有的 “水仙花数 “，所谓 “水仙花数 “是指一个三位数，其各位数字立方和等于该数本身。例如：153是一个 “水仙花数 “，因为153&#x3D;1的三次方＋5的三次方＋3的三次方</p></li><li><p>原地交换两个变量的值</p></li><li><p>找出4字节整数的中位数</p></li><li><p>找到整数的平方根</p></li></ul><p><strong>6. 逻辑代码题</strong></p><ul><li>FizzBuzz问题</li><li>实现斐波那契</li><li>写一个死锁</li><li>手写生产者&#x2F;消费者模式</li><li>写一个你认为最好的单例模式</li><li>写一个观察者模式</li><li>手写一个冒泡排序</li><li>手写快速排序代码</li><li>手写一个折半查找</li><li>手写堆排序</li><li>手写链表逆序代码</li><li>合并有序链表</li><li>约瑟芬环游戏</li></ul><h4 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h4><ul><li>在你的职业生涯中，算得上最困难的技术挑战是什么</li><li>如果有机会重新设计你们的产品，你会怎么做</li><li>最近看什么书，印象最深刻的是什么</li><li>你的学习方法是什么样的？实习过程中如何学习？实习项目中遇到的最大困难是什么以及如何解决的？</li><li>如果通过这次面试我们单位录用了你，但工作一段时间却发现你根本不适合这个职位，你怎么办？</li><li>工作过程中周围同事&#x2F;同学有哪些值得学习的地方？</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Java面试题&quot;&gt;&lt;a href=&quot;#Java面试题&quot; class=&quot;headerlink&quot; title=&quot;Java面试题&quot;&gt;&lt;/a&gt;Java面试题&lt;/h2&gt;&lt;h4 id=&quot;Java基础面试知识点&quot;&gt;&lt;a href=&quot;#Java基础面试知识点&quot; class=&quot;he</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Java" scheme="http://www.xiaokunli.com/tags/Java/"/>
    
    <category term="面试题" scheme="http://www.xiaokunli.com/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>约瑟夫环问题</title>
    <link href="http://www.xiaokunli.com/2019/07/10/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98/"/>
    <id>http://www.xiaokunli.com/2019/07/10/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98/</id>
    <published>2019-07-10T08:19:17.000Z</published>
    <updated>2019-07-10T08:26:40.124Z</updated>
    
    <content type="html"><![CDATA[<h1 id="约瑟夫斯问题"><a href="#约瑟夫斯问题" class="headerlink" title="约瑟夫斯问题"></a>约瑟夫斯问题</h1><p>有时也称为约瑟夫斯置换，是一个出现在计算机科学和数学中的问题。在计算机编程的算法中，类似问题又称为约瑟夫环。</br><br>人们站在一个等待被处决的圈子里。 计数从圆圈中的指定点开始，并沿指定方向围绕圆圈进行。 在跳过指定数量的人之后，执行下一个人。 对剩下的人重复该过程，从下一个人开始，朝同一方向跳过相同数量的人，直到只剩下一个人，并被释放。</br><br>问题即，给定人数、起点、方向和要跳过的数字，选择初始圆圈中的位置以避免被处决。</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>有n个人编号，站成一圈：<br>1  2  3  4 … … n-1  n</p><p>现在从1开始进行报数，报到k的出列自杀，然后剩下的人继续从1报数（当到达编号为n的人时，下一个报数的从编号为1的人开始进行）：</br><br>1  2  3  4… k(出列自杀)  1  2  …</p><p>直到圈内只剩余m人，求胜利者的编号。</br><br>例如：当n&#x3D;6, k&#x3D;5, m&#x3D;1时，5,4,6,2,3将会被依次处决，而1将会幸免。</p><p>示例代码如下：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> JosephProblem &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回活着的人的位置</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param total 总人数</span></span><br><span class="line"><span class="comment">     * @param magicNum 报数到该数字的人自杀</span></span><br><span class="line"><span class="comment">     * @param remain 笑着活下去的人</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    private List getJosephNumbers(<span class="type">int</span> total, <span class="type">int</span> magicNum, <span class="type">int</span> remain) &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;<span class="type">Integer</span>&gt; peopleList = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= total; i++) &#123;</span><br><span class="line">            peopleList.<span class="keyword">add</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;<span class="type">Integer</span>&gt; diedList = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="keyword">index</span> = <span class="number">-1</span>;  //当前应该删除的位置</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">index</span> = (<span class="keyword">index</span> + magicNum) % peopleList.size();</span><br><span class="line"></span><br><span class="line">            diedList.<span class="keyword">add</span>(peopleList.<span class="keyword">get</span>(<span class="keyword">index</span>));</span><br><span class="line">            peopleList.remove(<span class="keyword">index</span>);</span><br><span class="line"></span><br><span class="line">            //从上一个位置开始计数</span><br><span class="line">            <span class="keyword">index</span><span class="comment">--;</span></span><br><span class="line"></span><br><span class="line">            //判断是否剩余m个，如果是的话结束</span><br><span class="line">            <span class="keyword">if</span> (peopleList.size() == remain) &#123;</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;共&quot; + total + &quot;人，依次报数，当报到&quot; + magicNum + &quot;的人自杀，&quot; + remain + &quot;个人笑着活下去.&quot;);</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;死掉的序号顺序为：&quot; + diedList);</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;笑着活下去序号为：&quot; + peopleList);</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;----------------------------------&quot;);</span><br><span class="line">                <span class="keyword">return</span> peopleList;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">        JosephProblem test = <span class="built_in">new</span> JosephProblem();</span><br><span class="line"></span><br><span class="line">        test.getJosephNumbers(<span class="number">10</span>, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">10</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">20</span>, <span class="number">10</span>, <span class="number">3</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">20</span>, <span class="number">4</span>, <span class="number">6</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">共10人，依次报数，当报到4的人自杀，1个人笑着活下去.</span><br><span class="line">死掉的序号顺序为：[4, 8, 2, 7, 3, 10, 9, 1, 6]</span><br><span class="line">笑着活下去序号为：[5]</span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line"><span class="code">共10人，依次报数，当报到2的人自杀，1个人笑着活下去.</span></span><br><span class="line"><span class="code">死掉的序号顺序为：[2, 4, 6, 8, 10, 3, 7, 1, 9]</span></span><br><span class="line"><span class="code">笑着活下去序号为：[5]</span></span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line">共10人，依次报数，当报到3的人自杀，1个人笑着活下去.</span><br><span class="line">死掉的序号顺序为：[3, 6, 9, 2, 7, 1, 8, 5, 10]</span><br><span class="line">笑着活下去序号为：[4]</span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line"><span class="code">共20人，依次报数，当报到10的人自杀，3个人笑着活下去.</span></span><br><span class="line"><span class="code">死掉的序号顺序为：[10, 20, 11, 2, 14, 6, 19, 15, 9, 7, 5, 8, 13, 18, 12, 4, 17]</span></span><br><span class="line"><span class="code">笑着活下去序号为：[1, 3, 16]</span></span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line">共20人，依次报数，当报到4的人自杀，6个人笑着活下去.</span><br><span class="line">死掉的序号顺序为：[4, 8, 12, 16, 20, 5, 10, 15, 1, 7, 14, 2, 11, 19]</span><br><span class="line">笑着活下去序号为：[3, 6, 9, 13, 17, 18]</span><br><span class="line">----------------------------------</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;约瑟夫斯问题&quot;&gt;&lt;a href=&quot;#约瑟夫斯问题&quot; class=&quot;headerlink&quot; title=&quot;约瑟夫斯问题&quot;&gt;&lt;/a&gt;约瑟夫斯问题&lt;/h1&gt;&lt;p&gt;有时也称为约瑟夫斯置换，是一个出现在计算机科学和数学中的问题。在计算机编程的算法中，类似问题又称为约瑟夫环。</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="算法" scheme="http://www.xiaokunli.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>团队规划考核</title>
    <link href="http://www.xiaokunli.com/2019/06/27/%E5%9B%A2%E9%98%9F%E8%A7%84%E5%88%92%E5%8F%8A%E8%80%83%E6%A0%B8/"/>
    <id>http://www.xiaokunli.com/2019/06/27/%E5%9B%A2%E9%98%9F%E8%A7%84%E5%88%92%E5%8F%8A%E8%80%83%E6%A0%B8/</id>
    <published>2019-06-27T08:09:01.000Z</published>
    <updated>2019-06-27T10:57:19.756Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>团队需要一些好的机制来保障团队的目标达成，规划、汇报和考核需要做到常规化，下面写的是一些个人实践。</p><h2 id="规划和汇报"><a href="#规划和汇报" class="headerlink" title="规划和汇报"></a>规划和汇报</h2><ul><li>按季度&#x2F;月度做规划，建议采用OKR或者OKR+KPI结合的方式来规划目标、拆解关键点以及结果。</li><li>按双周迭代方式来进行开发测试，采用敏捷的方式<blockquote><p>腾讯TAPD是个不错的工具，经历了几家公司都推行使用，效果不错，关键是免费。</p></blockquote></li><li>按周进行团队事务管理<ul><li>每周一 团队协调人让组员规划本周所要做的事情，如有不合理需要沟通解决</li><li>每天   组员自行记录工作日志<blockquote><p>今天做了什么、明天要做什么、有什么问题和困难</p></blockquote></li><li>每周末 团队协调人写周报(本周工作内容和下周计划)，主要包含<blockquote><p>项目、月&#x2F;季度目标、关键节点、负责人、当前进度、预期完成时间、问题</p></blockquote></li></ul></li><li>按月进行绩效考核<blockquote><p>优秀的会有工资浮动</p></blockquote></li></ul><h2 id="月度考核"><a href="#月度考核" class="headerlink" title="月度考核"></a>月度考核</h2><p>目前的组织架构参考敏捷团队模型，我们把原有的职能型组织架构做成虚拟组织，采用敏捷团队(包含前后端测试)来推进，更加偏向于业务推进型，原有职能型组织的Leader组成委员会成员</p><p>类似与Spotify的分队和协会，具体理念参考Spotify大规模敏捷之路</p><p>对团队的评分标准参考下图：<br><img src="/images/monthly_appraisal.png"></p><p>说明如下：</p><ul><li><ol><li>先确定整个大团队月度优秀员工数量</li></ol></li><li><ol start="2"><li>由委员会和总监直接提名少量优秀员工，主要是针对有一些岗位不在团队内部或者在团队中占少数不好参与团队考核，比如助理、设计师、都是人数少的岗位。</li></ol></li><li><ol start="3"><li>确定团队的优秀员工数，按照下面的标准来评测</li></ol><ul><li>第一和最末的团队，优秀员工数量加一和减一</li><li>标准维度主要如下：  <figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">项目进度<span class="comment">(本月)</span></span><br><span class="line">项目质量<span class="comment">(Bug数据)</span></span><br><span class="line">组内制度的制定与落地&amp;外部沟通</span><br><span class="line">对公共项目、外部项目、委员会的工作支持</span><br></pre></td></tr></table></figure>数据依据:  <figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">月初工作计划表</span><br><span class="line">TAPD <span class="keyword">Bug数据</span></span><br><span class="line"><span class="keyword"></span>制度落地和实施状况及外部反馈</span><br><span class="line">委员会成员的评分</span><br></pre></td></tr></table></figure></li></ul></li><li><ol start="4"><li>确定团队成员中哪些拿到优秀员工，有两条维度线来打分</li></ol><ul><li>Leader打分</li><li>委员会打分</li><li>得出分数排名，给与优秀员工</li></ul><p>  委员会标准如下图：<br>  <img src="/images/standard_a.png"></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;团队需要一些好的机制来保障团队的目标达成，规划、汇报和考核需要做到常规化，下面写的是一些个人实践。&lt;/p&gt;
&lt;h2 id=&quot;规划和汇报&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="管理" scheme="http://www.xiaokunli.com/categories/%E7%AE%A1%E7%90%86/"/>
    
    
    <category term="规划" scheme="http://www.xiaokunli.com/tags/%E8%A7%84%E5%88%92/"/>
    
    <category term="考核" scheme="http://www.xiaokunli.com/tags/%E8%80%83%E6%A0%B8/"/>
    
  </entry>
  
  <entry>
    <title>RPA常见问题</title>
    <link href="http://www.xiaokunli.com/2019/06/27/RPA%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"/>
    <id>http://www.xiaokunli.com/2019/06/27/RPA%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</id>
    <published>2019-06-27T03:38:05.000Z</published>
    <updated>2019-06-27T03:39:03.135Z</updated>
    
    <content type="html"><![CDATA[<h2 id="What-is-RPA"><a href="#What-is-RPA" class="headerlink" title="What is RPA?"></a>What is RPA?</h2><p> RPA (Robotic Process Automation) is a type of automation where a machine or computer mimics a human’s action in completing rules based tasks.</p><h2 id="How-RPA-is-different-from-Test-Automation"><a href="#How-RPA-is-different-from-Test-Automation" class="headerlink" title="How RPA is different from Test Automation?"></a>How RPA is different from Test Automation?</h2><ul><li><p>Both Test Automation and RPA involve “Automation” and offer advantages of reducing manual intervention and delivering quality, but these two or different…</p></li><li><p>RPA – Robotic Process Automation, Automates Business Processes like Data Entry, Queries, Calculations, and Transactions in various organizations. where as Test Automation Automates Software Testing Processes,It automates Functional Testing, Performance Testing, Web Services Testing Etc. of Software Products.</p></li><li><p>Using Blueprism, Automation Anywhere, Uipath etc… tools we can automate Business Automation, and Using Selenium, UFT&#x2F;QTP, LoadRunner SoapUI etc…Software Tools we can automate software Testing Processes.</p></li></ul><h2 id="What-type-of-processes-can-be-automated-with-RPA"><a href="#What-type-of-processes-can-be-automated-with-RPA" class="headerlink" title="What type of processes can be automated with RPA?"></a>What type of processes can be automated with RPA?</h2><ul><li><p>RPA is software-based, it can be used to perform various tasks. These include Maintenance of records, queries, calculations, and transactions.</p></li><li><p>Additionally, any application commonly used by your company can be operated by RPA. Citrix, .NET, HTML, and Java are all technologies commonly supported by RPA.</p></li><li><p>Compatible systems include Mainframe Terminals, SAP, Oracle, Blackline, and many more. RPA can be configured to perform almost any rule-based task.</p></li></ul><h2 id="What-are-the-Popular-RPA-Tools"><a href="#What-are-the-Popular-RPA-Tools" class="headerlink" title="What are the Popular RPA Tools?"></a>What are the Popular RPA Tools?</h2><p>Popular Robotic Process Automation (RPA) Tools to automate the Business Processes.</p><ul><li><p>Blue Prism</p><p>Blue Prism is the trading name of the Blue Prism Group, a UK multinational software corporation, the term Robotic Process Automation was invented by Blue Prism, that itself proves they are the pioneers in Robotic Process Automation Software Development.</p></li><li><p>Automation Anywhere</p><p>Automation Anywhere is another top RPA vendors providing powerful and User- friendly robotic process automation tools to automate tasks of any complexity.</p></li><li><p>UiPath</p><p>UiPath is a Windows desktop Robotic Process Automation (RPA) Software used for automation for various web,desktop,citrix,etc based applications.</p></li></ul><p>Other Popular RPA tools are Pega, Nice, and Workfusion etc…</p><h2 id="How-to-Select-a-RPA-Tool"><a href="#How-to-Select-a-RPA-Tool" class="headerlink" title="How to Select a RPA Tool?"></a>How to Select a RPA Tool?</h2><p>By considering several factors we select a RPA Tool for Businness Process Automation,</p><ul><li><p>Technology</p><p>First and foremost is the technology in which RPA tool has been built, like Microsift .NET, IBM Mainframe, Java, web etc. The tool has to be platform independent, considering many of the organizations perform their day to day tasks outside the local desktop using Citrix or Virtual machines etc. So the automation solution should be able to support any application and platform.</p></li><li><p>Interface</p><p>Next most important feature is the RPA tool’s user interface. A complex user interface will delay the process of implementation and increase the learning curve and adaptability. A more user friendly interface like drag and drop, auto capture, image recognition etc. would be better.</p></li><li><p>Management</p><p>It is important to know how effectively and easily the robots can be managed, considering these robots are going to be replacing your human workforce. There should be a high level of visibility and control in terms of process monitoring, process change, development, re-use etc.</p></li><li><p>Security</p><p>Security is one of the most important factor to be considered. How safe are the robots when compared to the humans? After all robots&#x2F;RPA tools are also a piece of software, so how much more security controls can be implemented, test the code rigidly and lock it up, the better.</p></li></ul><h2 id="6-What-are-the-important-Phases-of-RPA-Life-Cycle"><a href="#6-What-are-the-important-Phases-of-RPA-Life-Cycle" class="headerlink" title="6) What are the important Phases of RPA Life Cycle?"></a>6) What are the important Phases of RPA Life Cycle?</h2><p>Phases of RPA Life Cycle:</p><ul><li><p>Analysis</p><p>Life cycle in RPA begins with analysis phase. Business team and RPA Architect work together to identify a business process for RPA development.</p></li><li><p>Bot Development</p><p>RPA developer(Team) starts working on requirement in their environment possibly a separate development environment.</p></li><li><p>Testing</p><p>There are two approaches on which testing is being carried out-</p><p>Some organisations conduct Testing by Separate Testing Team, While other few have a dedicated testing team which perform a dedicated QA like normal SDLC flow.</p><p>Best Practice is to have a dedicated testing team which perform QA of developed bot.</p></li><li><p>Deployment and Maintenance-</p><p>After the Development and Testing closure, a bot is ready for deployment and enters maintenance phase.</p></li></ul><h2 id="How-to-implement-Robotic-Process-Automation"><a href="#How-to-implement-Robotic-Process-Automation" class="headerlink" title="How to implement Robotic Process Automation?"></a>How to implement Robotic Process Automation?</h2><p>There are mainly 6 steps to be followed for a successful RPA implementation.</p><ul><li>Identify the Automation Opportunities</li><li>Optimize the Identified Processes</li><li>Build a Business Case</li><li>RPA Vendor Selection</li><li>Pilot RPA Development</li><li>Ramp up and Continue Building Expertise RPA bots.</li></ul><h2 id="Explain-about-RPA-Testing"><a href="#Explain-about-RPA-Testing" class="headerlink" title="Explain about RPA Testing?"></a>Explain about RPA Testing?</h2><p>At a broader level RPA testing can be grouped in to 2 categories.</p><blockquote><p>First one is testing the business processes automated through RPA and the second one is testing the instructions passed on to Robots to execute user actions.</p></blockquote><ul><li><p>Business Process Testing</p><p>This is nothing but the conventional testing done for any application. The end to end business process automated by the RPA tool has to be validated here.</p><p>If we have to test the RPA use case, a scenario would be to test if Robot is able to get the file from server, read the data from application, compare these two data sources, identify any conflicts and send an email notification to respective owner. All combinations of data are to be validate like it is done for any other application.</p></li><li><p>Robots Testing</p><p>There are multiple aspects when testing Robots. The first one is interpretation of the models by Robots. It is very important that the Robots are able to interpret the instructions given through the models correctly and able to perform actions on the UI accordingly. This need not be tested regularly but when the model is designed&#x2F;modified or before a Robot is put into use.</p></li></ul><h2 id="What-are-different-RPA-Jobs"><a href="#What-are-different-RPA-Jobs" class="headerlink" title="What are different RPA Jobs?"></a>What are different RPA Jobs?</h2><p>Robotics Process Automation jobs can be broadly classify into 3 major categories.</p><ul><li>RPA Developers&#x2F;Architects</li><li>Robotic Process Automation Consultants</li><li>RPA Leads&#x2F;Managers</li></ul><h2 id="What-are-advantages-of-Robotic-Process-Automation"><a href="#What-are-advantages-of-Robotic-Process-Automation" class="headerlink" title="What are advantages of Robotic Process Automation?"></a>What are advantages of Robotic Process Automation?</h2><ul><li><p>Faster</p><p>As bots are handling the execution here, a larger amount of work can be done in a relatively much shorter period. A faster delivery, coupled with accuracy.</p></li><li><p>Cost Effective</p><p>It has been estimated that using robotics cuts operational costs, Robots can operate 24&#x2F;7 and take no vacation, when compared to humans.</p></li><li><p>Consistency</p><p>Robotics is a safe, non-invasive technology that doesn’t interfere with the inherent systems and provides perfect consistency in performing the activities across the board, each time and every time.</p></li><li><p>Accuracy &amp; Quality</p><p>RPA offers improved services to processes that have a high probability of human error, thereby increasing accuracy. Robots are reliable, and consistent and do not whine when expected to work tirelessly.</p></li><li><p>Increased Customer Satisfaction</p><p>Delivering better quality of work with high accuracy and improved customer&#x2F;client interaction leads to increased customer and client satisfaction.</p></li><li><p>Improved Analytics</p><p>Having access to error free, accurate data from various sources would improve the quality of analytics in the process.</p></li></ul><h2 id="What-are-Limitations-of-Robotic-Process-Automation"><a href="#What-are-Limitations-of-Robotic-Process-Automation" class="headerlink" title="What are Limitations of Robotic Process Automation?"></a>What are Limitations of Robotic Process Automation?</h2><ul><li><p>RPA certainly boosts company efficiency by automating repetitive human effort, but there are limitations to the types of work that it can be applied to – specifically ones that require judgement.</p></li><li><p>RPA cannot read any data that is non-electronic with unstructured inputs.</p></li><li><p>companies need to be aware of diverse inputs coming from multiple sources.</p></li><li><p>RPA is not a cognitive computing solution. It cannot learn from experience and therefore has a ‘shelf life’. As processes evolve</p></li><li><p>Applying RPA to a broken and inefficient process will not fix it. RPA is not a Business Process Management solution and does not bring an end-to-end process view.</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;What-is-RPA&quot;&gt;&lt;a href=&quot;#What-is-RPA&quot; class=&quot;headerlink&quot; title=&quot;What is RPA?&quot;&gt;&lt;/a&gt;What is RPA?&lt;/h2&gt;&lt;p&gt; RPA (Robotic Process Automation</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="RPA" scheme="http://www.xiaokunli.com/tags/RPA/"/>
    
  </entry>
  
  <entry>
    <title>Libra环境搭建和第一笔交易</title>
    <link href="http://www.xiaokunli.com/2019/06/22/Libra%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E7%AC%AC%E4%B8%80%E7%AC%94%E4%BA%A4%E6%98%93/"/>
    <id>http://www.xiaokunli.com/2019/06/22/Libra%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E7%AC%AC%E4%B8%80%E7%AC%94%E4%BA%A4%E6%98%93/</id>
    <published>2019-06-22T07:58:02.000Z</published>
    <updated>2019-06-22T09:00:34.530Z</updated>
    
    <content type="html"><![CDATA[<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><ul><li>Linux或者Mac OS系统，本次测试使用CentOS 7.5</li><li>稳定的网络环境，并且连接到互联网</li><li>提前安装Git</li><li>如果是MacOS，需要提前安装Homebrew</li><li>yum 或者 apt-get命令</li></ul><p>踩的坑：</p><ul><li>安装包：yum install -y git gcc gcc-c++ ncurses-devel bison</li><li>CMake版本低(2.8)导致编译错误，升级到3.14.4解决</li></ul><h1 id="安装Libra-Core"><a href="#安装Libra-Core" class="headerlink" title="安装Libra Core"></a>安装Libra Core</h1><p>克隆代码库</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/libra/libra.git</span><br></pre></td></tr></table></figure><p>运行安装脚本，安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> libra</span><br><span class="line">./scripts/dev_setup.sh</span><br></pre></td></tr></table></figure><p>该初始化脚本执行了如下动作：</p><ul><li>安装rustup – rustup是Rust官方的跨平台安装工具器, Libra Core使用Rust来实现</li><li>安装rust-toolchain的必要版本</li><li>安装CMake  – 管理编译和构建</li><li>安装protoc – protocol buffers的编译器</li><li>安装Go     – 为了构建protocol buffers使用</li></ul><h1 id="构建Libra-CLI客户端并连接到测试网络"><a href="#构建Libra-CLI客户端并连接到测试网络" class="headerlink" title="构建Libra CLI客户端并连接到测试网络"></a>构建Libra CLI客户端并连接到测试网络</h1><p>执行客户端脚本来连接到测试网络上的节点，时间较长，需耐心等待。。。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./scripts/<span class="keyword">cli</span>/start_cli_testnet.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure><p>一旦连接到网络会看到如下输出信息：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Connected <span class="keyword">to</span> validator at: ac.testnet.libra.<span class="built_in">or</span><span class="variable">g:8000</span></span><br><span class="line">usage: <span class="symbol">&lt;command&gt;</span> <span class="symbol">&lt;args&gt;</span></span><br><span class="line"></span><br><span class="line">Use the following commands:</span><br><span class="line"></span><br><span class="line">account | <span class="keyword">a</span></span><br><span class="line">trueAccount operations</span><br><span class="line">query | q</span><br><span class="line">trueQuery operations</span><br><span class="line">transfer | transferb | t | tb</span><br><span class="line">true<span class="symbol">&lt;sender_account_address&gt;</span>|<span class="symbol">&lt;sender_account_ref_id&gt;</span> <span class="symbol">&lt;receiver_account_address&gt;</span>|<span class="symbol">&lt;receiver_account_ref_id&gt;</span> <span class="symbol">&lt;number_of_coins&gt;</span> [gas_unit_price_in_micro_libras (default=<span class="number">0</span>)] [max_gas_amount_in_micro_libras (default <span class="number">10000</span>)] Suffix <span class="string">&#x27;b&#x27;</span> <span class="keyword">is</span> <span class="keyword">for</span> blocking.</span><br><span class="line">trueTransfer coins (in libra) from account <span class="keyword">to</span> another.</span><br><span class="line"><span class="keyword">help</span> | h</span><br><span class="line">truePrints this <span class="keyword">help</span></span><br><span class="line"><span class="keyword">quit</span> | q!</span><br><span class="line">trueExit this client</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please, <span class="built_in">input</span> commands:</span><br><span class="line"></span><br><span class="line">libra%</span><br></pre></td></tr></table></figure><p>使用help可以看到命令列表，可以执行的命令如下：</p><ul><li>account – 账户相关操作<ul><li>create – 创建账户</li><li>list – 查看所有账户列表</li><li>mint – 增加libra币</li><li>write <file_path>  – 保存libra钱包到磁盘</li><li>recover <file_path>  – 从磁盘恢复libra钱包</li></ul></li><li>query – 查询操作<ul><li>balance <account_ref_id>|<account_address> – 查询账户余额</li><li>sequence – 获得账户当前sequence number</li><li>account_state – 获取账户最近状态</li><li>txn_acc_seq – 通过账号或者sequence number获取已提交的交易</li><li>txn_range – 通过version范围获取已提交的交易</li><li>event – 通过账号或者事件类型来获取事件列表</li></ul></li><li>transfer – 转账操作<ul><li>transfer – 从一个账户转libra币到另外一个账户</li><li>transferb – transfer的阻塞式操作</li></ul></li><li>quit – 退出连接</li></ul><h1 id="创建账户"><a href="#创建账户" class="headerlink" title="创建账户"></a>创建账户</h1><p>创建账户A</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account create</span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Creating</span>/retrieving <span class="keyword">next</span> account from wallet</span><br><span class="line"><span class="title class_">Created</span>/retrieved account <span class="comment">#0 address 1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span></span><br></pre></td></tr></table></figure><p>创建账户B</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account create</span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Creating</span>/retrieving <span class="keyword">next</span> account from wallet</span><br><span class="line"><span class="title class_">Created</span>/retrieved account <span class="comment">#1 address fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span></span><br></pre></td></tr></table></figure><p>列出本地所有账户信息：</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account list</span><br><span class="line">User account <span class="built_in">index</span>: <span class="number">0</span>, address: <span class="number">1</span>b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158, <span class="keyword">sequence</span> <span class="keyword">number</span>: <span class="number">0</span>, <span class="keyword">status</span>: <span class="keyword">Local</span></span><br><span class="line">User account <span class="built_in">index</span>: <span class="number">1</span>, address: fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691, <span class="keyword">sequence</span> <span class="keyword">number</span>: <span class="number">0</span>, <span class="keyword">status</span>: <span class="keyword">Local</span></span><br></pre></td></tr></table></figure><blockquote><p>A和B只是为了方便书面称谓，Libra目前不支持给账户命名，但如上A对应编号为0的账户，B对应编号为1的账户。地址后面的 sequence 指的是这个账户主动发起转账的次数，目前两个账户都还没有发起过转账，所以都是 0。</p></blockquote><h1 id="给账户铸币"><a href="#给账户铸币" class="headerlink" title="给账户铸币"></a>给账户铸币</h1><p>给A账户铸币1000</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account mint <span class="number">0</span> <span class="number">1000</span></span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Minting</span> coins</span><br><span class="line"><span class="title class_">Mint</span> request submitted</span><br></pre></td></tr></table></figure><p>可能会由于网络原因失败</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libra% account mint 0 1000</span><br><span class="line">&gt;&gt; Minting coins</span><br><span class="line"></span><br><span class="line">[<span class="built_in">ERROR</span>] <span class="built_in">Error</span> minting coins: <span class="built_in">error</span> trying <span class="keyword">to</span> connect: failed <span class="keyword">to</span> lookup<span class="built_in"> address </span>information: Name <span class="keyword">or</span><span class="built_in"> service </span><span class="keyword">not</span> known</span><br></pre></td></tr></table></figure><p>给B账户铸币50</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account mint <span class="number">1</span> <span class="number">50</span></span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Minting</span> coins</span><br><span class="line"><span class="title class_">Mint</span> request submitted</span><br></pre></td></tr></table></figure><p>查询账户余额</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">libra</span>% query balance <span class="number">0</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">libra</span>% query balance <span class="number">1</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">50</span></span><br></pre></td></tr></table></figure><h1 id="发起转账交易"><a href="#发起转账交易" class="headerlink" title="发起转账交易"></a>发起转账交易</h1><p>查询账户的sequence，由于两个账户都没有交易记录，所以都是0</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">0</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">0</span></span><br><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">1</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>从A给B转账100</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libra% transfer <span class="number">0</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line">&gt;&gt; Transferring</span><br><span class="line"><span class="keyword">Transaction</span> submitted <span class="keyword">to</span> <span class="keyword">validator</span></span><br><span class="line"><span class="keyword">To</span> query <span class="keyword">for</span> <span class="keyword">transaction</span> status, run: query txn_acc_seq <span class="number">0</span> <span class="number">0</span> &lt;fetch_events=<span class="keyword">true</span>|<span class="keyword">false</span>&gt;</span><br></pre></td></tr></table></figure><p>查询账户余额：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">libra</span>% query balance <span class="number">0</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">900</span></span><br><span class="line"><span class="attribute">libra</span>% query balance <span class="number">1</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">150</span></span><br></pre></td></tr></table></figure><p>再次从A给B转账100</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">libra% transferb <span class="number">0</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line">&gt;&gt; Transferring</span><br><span class="line">[waiting <span class="keyword">Transaction</span> completed, <span class="built_in">found</span> <span class="keyword">sequence</span> number <span class="number">2</span>]</span><br><span class="line">Finished <span class="keyword">transaction</span>!</span><br><span class="line"><span class="keyword">To</span> query <span class="keyword">for</span> <span class="keyword">transaction</span> status, run: query txn_acc_seq <span class="number">0</span> <span class="number">1</span> &lt;fetch_events=<span class="keyword">true</span>|<span class="keyword">false</span>&gt;</span><br></pre></td></tr></table></figure><p>再查询账户余额：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">libra</span>% query balance <span class="number">1</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">250</span></span><br><span class="line"><span class="attribute">libra</span>% query balance <span class="number">0</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">800</span></span><br></pre></td></tr></table></figure><p>查询A和B账户的sequence， A的账户sequence number是2表示A发起了两个交易，B账户的sequence number是0表示B账户没有发起交易</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">0</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">2</span></span><br><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">1</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>可以使用 query txn_acc_seq 0 0 true查询详细的转账信息:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">libra%</span> <span class="string">query</span> <span class="string">txn_acc_seq</span> <span class="number">0</span> <span class="number">0</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&gt;&gt;</span> <span class="string">Getting</span> <span class="string">committed</span> <span class="string">transaction</span> <span class="string">by</span> <span class="string">account</span> <span class="string">and</span> <span class="string">sequence</span> <span class="string">number</span></span><br><span class="line"><span class="attr">Committed transaction:</span> <span class="string">SignedTransaction</span> &#123;</span><br><span class="line"> <span class="attr">raw_txn:</span> <span class="string">RawTransaction</span> &#123;</span><br><span class="line">true<span class="attr">sender:</span> <span class="string">1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span>,</span><br><span class="line">true<span class="attr">sequence_number:</span> <span class="number">0</span>,</span><br><span class="line">true<span class="attr">payload:</span> &#123;,</span><br><span class="line">truetrue<span class="attr">transaction:</span> <span class="string">peer_to_peer_transaction</span>,</span><br><span class="line">truetrue<span class="attr">args:</span> [</span><br><span class="line">truetruetrue&#123;<span class="attr">ADDRESS:</span> <span class="string">fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span>&#125;,</span><br><span class="line">truetruetrue&#123;<span class="attr">U64:</span> <span class="number">100000000</span>&#125;,</span><br><span class="line">truetrue]</span><br><span class="line">true&#125;,</span><br><span class="line">true<span class="attr">max_gas_amount:</span> <span class="number">10000</span>,</span><br><span class="line">true<span class="attr">gas_unit_price:</span> <span class="number">0</span>,</span><br><span class="line">true<span class="attr">expiration_time:</span> <span class="string">1561190218s</span>,</span><br><span class="line">&#125;,</span><br><span class="line"> <span class="attr">public_key:</span> <span class="string">2a9c5aa44975912b7eda3bc9df6047d19dd5f4937404bade1f922acce9cab42c</span>,</span><br><span class="line"> <span class="attr">signature:</span> <span class="string">Signature(</span> <span class="attr">R: CompressedEdwardsY:</span> [<span class="number">203</span>, <span class="number">171</span>, <span class="number">64</span>, <span class="number">238</span>, <span class="number">247</span>, <span class="number">224</span>, <span class="number">54</span>, <span class="number">137</span>, <span class="number">221</span>, <span class="number">158</span>, <span class="number">125</span>, <span class="number">30</span>, <span class="number">230</span>, <span class="number">58</span>, <span class="number">66</span>, <span class="number">151</span>, <span class="number">147</span>, <span class="number">23</span>, <span class="number">112</span>, <span class="number">148</span>, <span class="number">192</span>, <span class="number">216</span>, <span class="number">201</span>, <span class="number">210</span>, <span class="number">123</span>, <span class="number">53</span>, <span class="number">94</span>, <span class="number">96</span>, <span class="number">129</span>, <span class="number">180</span>, <span class="number">182</span>, <span class="number">126</span>], <span class="attr">s:</span> <span class="string">Scalar</span>&#123;</span><br><span class="line">true<span class="attr">bytes:</span> [<span class="number">71</span>, <span class="number">53</span>, <span class="number">181</span>, <span class="number">160</span>, <span class="number">59</span>, <span class="number">152</span>, <span class="number">34</span>, <span class="number">26</span>, <span class="number">218</span>, <span class="number">59</span>, <span class="number">72</span>, <span class="number">202</span>, <span class="number">235</span>, <span class="number">202</span>, <span class="number">104</span>, <span class="number">248</span>, <span class="number">52</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">191</span>, <span class="number">171</span>, <span class="number">105</span>, <span class="number">222</span>, <span class="number">117</span>, <span class="number">50</span>, <span class="number">57</span>, <span class="number">155</span>, <span class="number">35</span>, <span class="number">206</span>, <span class="number">52</span>, <span class="number">185</span>, <span class="number">14</span>],</span><br><span class="line">&#125; <span class="string">)</span>,</span><br><span class="line"> &#125;</span><br><span class="line"><span class="attr">Events:</span></span><br><span class="line"><span class="string">ContractEvent</span> &#123; <span class="attr">access_path:</span> <span class="string">AccessPath</span> &#123; <span class="attr">address:</span> <span class="string">1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span>, <span class="attr">type:</span> <span class="string">Resource</span>, <span class="attr">hash:</span> <span class="string">&quot;217da6c6b3e19f1825cfb2676daecce3bf3de03cf26647c78df00b371b25cc97&quot;</span>, <span class="attr">suffix:</span> <span class="string">&quot;/sent_events_count/&quot;</span> &#125; , <span class="attr">index:</span> <span class="number">0</span>, <span class="attr">event_data:</span> <span class="string">AccountEvent</span> &#123; <span class="attr">account:</span> <span class="string">fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span>, <span class="attr">amount:</span> <span class="number">100000000</span> &#125; &#125;</span><br><span class="line"><span class="string">ContractEvent</span> &#123; <span class="attr">access_path:</span> <span class="string">AccessPath</span> &#123; <span class="attr">address:</span> <span class="string">fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span>, <span class="attr">type:</span> <span class="string">Resource</span>, <span class="attr">hash:</span> <span class="string">&quot;217da6c6b3e19f1825cfb2676daecce3bf3de03cf26647c78df00b371b25cc97&quot;</span>, <span class="attr">suffix:</span> <span class="string">&quot;/received_events_count/&quot;</span> &#125; , <span class="attr">index:</span> <span class="number">0</span>, <span class="attr">event_data:</span> <span class="string">AccountEvent</span> &#123; <span class="attr">account:</span> <span class="string">1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span>, <span class="attr">amount:</span> <span class="number">100000000</span> &#125; &#125;</span><br></pre></td></tr></table></figure><p>Over!</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;环境准备&quot;&gt;&lt;a href=&quot;#环境准备&quot; class=&quot;headerlink&quot; title=&quot;环境准备&quot;&gt;&lt;/a&gt;环境准备&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Linux或者Mac OS系统，本次测试使用CentOS 7.5&lt;/li&gt;
&lt;li&gt;稳定的网络环境，并且连接到互</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="区块链" scheme="http://www.xiaokunli.com/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>Git仓库的多个子目录独立成一个新仓库</title>
    <link href="http://www.xiaokunli.com/2019/05/17/Git%E4%BB%93%E5%BA%93%E7%9A%84%E5%AD%90%E7%9B%AE%E5%BD%95%E7%8B%AC%E7%AB%8B%E6%88%90%E6%96%B0%E4%BB%93%E5%BA%93/"/>
    <id>http://www.xiaokunli.com/2019/05/17/Git%E4%BB%93%E5%BA%93%E7%9A%84%E5%AD%90%E7%9B%AE%E5%BD%95%E7%8B%AC%E7%AB%8B%E6%88%90%E6%96%B0%E4%BB%93%E5%BA%93/</id>
    <published>2019-05-17T06:49:14.000Z</published>
    <updated>2019-05-22T06:23:21.083Z</updated>
    
    <content type="html"><![CDATA[<h2 id="需求描述"><a href="#需求描述" class="headerlink" title="需求描述"></a>需求描述</h2><p>我有一个仓库AAA，目录结构如下：</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">├── .git</span><br><span class="line">├── <span class="keyword">common</span>-api     </span><br><span class="line">├── commons-pojo</span><br><span class="line">├── commons-utils  </span><br><span class="line">├── account </span><br><span class="line">└── payment </span><br><span class="line">└── <span class="built_in">product</span></span><br></pre></td></tr></table></figure><p>现在我需要把common-api、commons-pojo、commons-utils独立为一个新仓库xxx-common<br>从网上找到可以用”git filter-branch”和”git subtree split”两种方式独立目录为仓库，但是”git subtree split”只能独立一个目录为仓库，如果需要独立多个目录为仓库需要使用”git filter-branch”。</p><h2 id="实施步骤"><a href="#实施步骤" class="headerlink" title="实施步骤"></a>实施步骤</h2><h3 id="1-Clone原有仓库到本地"><a href="#1-Clone原有仓库到本地" class="headerlink" title="1. Clone原有仓库到本地"></a>1. Clone原有仓库到本地</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git</span> clone git@<span class="number">192</span>.<span class="number">168</span>.<span class="number">0</span>.xxx:test/AAA.git</span><br></pre></td></tr></table></figure><h3 id="2-在本地创建需要保留的分支"><a href="#2-在本地创建需要保留的分支" class="headerlink" title="2. 在本地创建需要保留的分支"></a>2. 在本地创建需要保留的分支</h3><p>下面示例中保留了dev和feature_20190516_xxx_aaa_bbb</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -<span class="keyword">b </span>dev <span class="keyword">origin/dev</span></span><br><span class="line"><span class="keyword"></span>git checkout -<span class="keyword">b </span>feature_20190516_xxx_aaa_bbb <span class="keyword">origin/feature_20190516_xxx_aaa_bbb</span></span><br></pre></td></tr></table></figure><h3 id="3-取消远程库的关联"><a href="#3-取消远程库的关联" class="headerlink" title="3. 取消远程库的关联"></a>3. 取消远程库的关联</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="built_in">rm</span> origin</span><br></pre></td></tr></table></figure><h3 id="4-删除所有tag"><a href="#4-删除所有tag" class="headerlink" title="4. 删除所有tag"></a>4. 删除所有tag</h3><p>需要删除所有的tag，否则会出错</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">tag</span> <span class="title">-l</span> | xargs git <span class="keyword">tag</span> <span class="title">-d</span></span><br></pre></td></tr></table></figure><h3 id="5-保留需要的目录和git历史"><a href="#5-保留需要的目录和git历史" class="headerlink" title="5. 保留需要的目录和git历史"></a>5. 保留需要的目录和git历史</h3><p>把”GIT_COMMIT –”后面的目录改为自己需要保留的</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">git filter</span><span class="literal">-</span><span class="comment">branch</span> <span class="literal">-</span><span class="comment">f</span> <span class="literal">--</span><span class="comment">prune</span><span class="literal">-</span><span class="comment">empty</span> <span class="literal">--</span><span class="comment">index</span><span class="literal">-</span><span class="comment">filter \</span></span><br><span class="line">  <span class="comment">&#x27;git rm</span> <span class="literal">--</span><span class="comment">cached</span> <span class="literal">-</span><span class="comment">r</span> <span class="literal">-</span><span class="comment">q</span> <span class="literal">--</span> <span class="string">.</span> <span class="comment">; git reset</span> <span class="literal">-</span><span class="comment">q $GIT_COMMIT</span> <span class="literal">--</span> <span class="comment">commons</span><span class="literal">-</span><span class="comment">api  commons</span><span class="literal">-</span><span class="comment">pojo  commons</span><span class="literal">-</span><span class="comment">utils&#x27;</span> <span class="literal">--</span> <span class="literal">--</span><span class="comment">all</span></span><br></pre></td></tr></table></figure><h3 id="6-清理仓库并减小体积"><a href="#6-清理仓库并减小体积" class="headerlink" title="6. 清理仓库并减小体积"></a>6. 清理仓库并减小体积</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reset <span class="params">--hard</span></span><br><span class="line">git for-each-ref <span class="params">--format=</span><span class="string">&quot;%(refname)&quot;</span> refs/original/ | xargs -n 1 git update-ref -d</span><br><span class="line">git reflog expire <span class="params">--expire=now</span> <span class="params">--all</span></span><br><span class="line">git gc <span class="params">--aggressive</span> <span class="params">--prune=now</span></span><br></pre></td></tr></table></figure><h3 id="7-关联到新的远程库-空仓库-，并推送代码到远端"><a href="#7-关联到新的远程库-空仓库-，并推送代码到远端" class="headerlink" title="7. 关联到新的远程库(空仓库)，并推送代码到远端"></a>7. 关联到新的远程库(空仓库)，并推送代码到远端</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">add</span> origin git@<span class="number">192.168</span><span class="number">.0</span><span class="number">.</span>xxx:<span class="keyword">test</span>/xxx-<span class="meta">common</span><span class="number">.</span>git</span><br><span class="line">git <span class="keyword">push</span> -u origin master</span><br><span class="line">git <span class="keyword">push</span> -u origin dev</span><br><span class="line">git <span class="keyword">push</span> -u origin feature_20190516_xxx_aaa_bbb</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;需求描述&quot;&gt;&lt;a href=&quot;#需求描述&quot; class=&quot;headerlink&quot; title=&quot;需求描述&quot;&gt;&lt;/a&gt;需求描述&lt;/h2&gt;&lt;p&gt;我有一个仓库AAA，目录结构如下：&lt;/p&gt;
&lt;figure class=&quot;highlight fortran&quot;&gt;&lt;table</summary>
      
    
    
    
    <category term="技术" scheme="http://www.xiaokunli.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Git" scheme="http://www.xiaokunli.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>上线发布流程</title>
    <link href="http://www.xiaokunli.com/2019/04/16/%E4%B8%8A%E7%BA%BF%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/"/>
    <id>http://www.xiaokunli.com/2019/04/16/%E4%B8%8A%E7%BA%BF%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/</id>
    <published>2019-04-16T07:34:20.000Z</published>
    <updated>2019-04-16T08:38:08.350Z</updated>
    
    <content type="html"><![CDATA[<h2 id="上线发布流程图"><a href="#上线发布流程图" class="headerlink" title="上线发布流程图"></a>上线发布流程图</h2><p><img src="/images/officially_release_process.png"></p><h2 id="计划阶段"><a href="#计划阶段" class="headerlink" title="计划阶段"></a>计划阶段</h2><p>在迭代完成前半周的会议上确认迭代是否需要发布版本，如果需要则制定发布计划并确定是否需要做回归测试</p><blockquote><p>是否需要回归测试？</p></blockquote><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">现有的分支模型为开发直接从Master拉取<span class="built_in">feature</span>分支，测试从Master拉取release/test分组然后合并<span class="built_in">feature</span> branch到release/test形成测试分支</span><br><span class="line">上线前如果Master分支上没有其他<span class="built_in">feature</span>上线，则直接使用release/test打包上线</span><br><span class="line"></span><br><span class="line">以下情况需要回归测试：</span><br><span class="line">上线前如果Master分支上有其他<span class="built_in">feature</span>上线，则从Master拉取release/pro并合并相关<span class="built_in">feature</span> branch打包上线，并进行回归测试</span><br></pre></td></tr></table></figure><h2 id="发布策略"><a href="#发布策略" class="headerlink" title="发布策略"></a>发布策略</h2><p>能做灰度发布尽量灰度，并且设计开关，有些Bug在测试环境测不出来</p><p>常见策略：</p><ul><li>灰度&#x2F;金丝雀</li><li>滚动发布</li><li>蓝绿发布</li></ul><h2 id="上线审批"><a href="#上线审批" class="headerlink" title="上线审批"></a>上线审批</h2><p>使用邮件或者TAPD流程进行审批</p><p>如下为内容框架：</p><ul><li>上线时间</li><li>上线内容</li><li>影响范围<ul><li>影响到的服务</li><li>数据变更说明</li><li>配置变更说明</li></ul></li><li>详细操作步骤(测试和运维可以操作的step by step说明)</li><li>上线注意事项</li><li>数据监控</li></ul><h2 id="上线后"><a href="#上线后" class="headerlink" title="上线后"></a>上线后</h2><ul><li>线上验收<ul><li>验证特性的正确性</li><li>验证所有业务流程</li><li>检查各项数据的正确性</li></ul></li><li>数据监控<ul><li>线上数据的正确性</li><li>临界值监控</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;上线发布流程图&quot;&gt;&lt;a href=&quot;#上线发布流程图&quot; class=&quot;headerlink&quot; title=&quot;上线发布流程图&quot;&gt;&lt;/a&gt;上线发布流程图&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/images/officially_release_process.png&quot;&gt;</summary>
      
    
    
    
    
  </entry>
  
</feed>
