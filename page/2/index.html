<!DOCTYPE html>


<html lang="zh-Hans">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="Logic will get you from A to B. Imagination will take you everywhere." />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 二三</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="二三" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/N2XK"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">二三</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '我见青山多妩媚，青山见我应如是', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Mac安装k8s for docker desktop"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/01/27/Mac%E5%AE%89%E8%A3%85k8s%20for%20docker%20desktop/"
    >Mac安装k8s for docker desktop</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/01/27/Mac%E5%AE%89%E8%A3%85k8s%20for%20docker%20desktop/" class="article-date">
  <time datetime="2020-01-27T04:49:00.000Z" itemprop="datePublished">2020-01-27</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="安装docker-desktop-for-mac"><a href="#安装docker-desktop-for-mac" class="headerlink" title="安装docker desktop for mac"></a>安装docker desktop for mac</h2><ol>
<li><p>下载 Docker CE最新版本<br> 地址： <a target="_blank" rel="noopener" href="https://store.docker.com/search?type=edition&offering=community">https://store.docker.com/search?type=edition&amp;offering=community</a><br> 版本信息：<br> <img src="/images/docker-k8s1.png"></p>
</li>
<li><p>配置镜像加速</p>
<ul>
<li>阿里云镜像服务 <a target="_blank" rel="noopener" href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</a></li>
<li>中科大镜像加速地址 <a target="_blank" rel="noopener" href="https://docker.mirrors.ustc.edu.cn/">https://docker.mirrors.ustc.edu.cn</a></li>
</ul>
<p> mac配置：<br> <img src="/images/docker-k8s2.png"></p>
</li>
</ol>
<h2 id="开启kubernetes"><a href="#开启kubernetes" class="headerlink" title="开启kubernetes"></a>开启kubernetes</h2><ol>
<li><p>下载离线镜像</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/AliyunContainerService/k8s-for-docker-desktop</span><br><span class="line"><span class="built_in">cd</span> k8s-for-docker-desktop</span><br><span class="line">./load_images.sh</span><br></pre></td></tr></table></figure></li>
<li><p>安装并启动kubernetes</p>
<ul>
<li>配置 CPU 和 内存资源<br> <img src="/images/docker-k8s3.png"></li>
<li>开启 Kubernetes<br> <img src="/images/docker-k8s4.png"></li>
</ul>
</li>
</ol>
<h2 id="安装k8s-dashboard应用"><a href="#安装k8s-dashboard应用" class="headerlink" title="安装k8s dashboard应用"></a>安装k8s dashboard应用</h2><ol>
<li><p>部署dashboard</p>
 <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/kubernetes/</span>dashboard<span class="regexp">/v1.10.1/</span>src<span class="regexp">/deploy/</span>recommended/kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure>
<p> 或者</p>
 <figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl <span class="keyword">create</span> -f kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure></li>
<li><p>开启API Server访问代理</p>
 <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">kubectl proxy</span></span><br></pre></td></tr></table></figure></li>
<li><p>访问Kubernetes dashboard<br> URL：<br> <a target="_blank" rel="noopener" href="http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/#!/overview?namespace=default">http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/#!/overview?namespace=default</a></p>
</li>
<li><p>配置控制台访问令牌</p>
<p> 登录dashboard时<br> <img src="/images/k8s_credentials.png"></p>
<ul>
<li>选择令牌，输入下文控制台输出的内容</li>
</ul>
 <figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">TOKEN</span>=$(<span class="string">kubectl</span> -<span class="string">n</span> <span class="string">kube-system</span> <span class="string">describe</span> <span class="string">secret</span> <span class="string">default</span>| <span class="string">awk</span> <span class="string">&#x27;$1==&quot;token:&quot;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line"><span class="string">kubectl</span> <span class="string">config</span> <span class="built_in">set-credentials</span> <span class="string">docker-for-desktop</span> <span class="built_in">--token=&quot;$&#123;TOKEN&#125;&quot;</span></span><br><span class="line"><span class="string">echo</span> $<span class="string">TOKEN</span></span><br></pre></td></tr></table></figure>
<ul>
<li>选择 Kubeconfig 文件<br>  路径如下：$HOME&#x2F;.kube&#x2F;config</li>
</ul>
</li>
</ol>
<h2 id="安装过程中的问题"><a href="#安装过程中的问题" class="headerlink" title="安装过程中的问题"></a>安装过程中的问题</h2><p>kubernets is starting<br>    k8s 一直是开始状态而不是running状态，查看官方的issue列表中找到如下解决方案<br>    1. 使用如下命令查看日志<br>    <figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">pred</span>=&#x27;process matches <span class="string">&quot;.*(ocker|vpnkit).*&quot;</span> || (process <span class="keyword">in</span> &#123;<span class="string">&quot;taskgated-helper&quot;</span>, <span class="string">&quot;launchservicesd&quot;</span>, <span class="string">&quot;kernel&quot;</span>&#125; &amp;&amp; eventMessage contains[c] <span class="string">&quot;docker&quot;</span>)&#x27;</span><br><span class="line">$ /usr/bin/<span class="built_in">log</span> stream --<span class="built_in">style</span> syslog --level=debug --<span class="built_in">color</span>=always --predicate <span class="string">&quot;$pred&quot;</span></span><br></pre></td></tr></table></figure><br>    2. 卸载docker panel<br>    3. 删除 .kube file<br>    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf ~/.kube</span><br></pre></td></tr></table></figure><br>    4. 编辑&#x2F;etc&#x2F;hosts. (第一行包含<strong>docker-for-desktop</strong>)<br>    编辑后如下:<br>    <figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0.0.1</span>truelocalhost docker-for-desktop</span><br><span class="line"><span class="number">255.255.255.255</span> broadcasthost</span><br><span class="line">::<span class="number">1</span> localhost</span><br></pre></td></tr></table></figure><br>    5. 重新安装kubernets</p>
<p>问题参考链接<br>    <a target="_blank" rel="noopener" href="https://github.com/docker/for-mac/issues">https://github.com/docker/for-mac/issues</a><br>    <a target="_blank" rel="noopener" href="https://github.com/docker/for-mac/issues/3327">https://github.com/docker/for-mac/issues/3327</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mac/" rel="tag">Mac</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kubernets/" rel="tag">kubernets</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-CentOS 7和8搭建SS"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/10/12/CentOS%207%E5%92%8C8%E6%90%AD%E5%BB%BASS/"
    >CentOS 7和8下搭建shadowsocks-libev</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/10/12/CentOS%207%E5%92%8C8%E6%90%AD%E5%BB%BASS/" class="article-date">
  <time datetime="2019-10-12T06:19:05.653Z" itemprop="datePublished">2019-10-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/firewall/">firewall</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="CentOS-7和8下搭建shadowsocks-libev"><a href="#CentOS-7和8下搭建shadowsocks-libev" class="headerlink" title="CentOS 7和8下搭建shadowsocks-libev"></a>CentOS 7和8下搭建shadowsocks-libev</h2><h3 id="安装shadowsocks-libev"><a href="#安装shadowsocks-libev" class="headerlink" title="安装shadowsocks-libev"></a>安装shadowsocks-libev</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/etc/yum</span>.repos.d/</span><br><span class="line">curl -O https:<span class="regexp">//</span>copr.fedorainfracloud.org<span class="regexp">/coprs/</span>librehat<span class="regexp">/shadowsocks/</span>repo<span class="regexp">/epel-7/</span>librehat-shadowsocks-epel-<span class="number">7</span>.repo</span><br></pre></td></tr></table></figure>

<p>源路径在CentOS7和8下不同，如下：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CentOS7</span></span><br><span class="line">URL=https:<span class="regexp">//</span>copr.fedorainfracloud.org<span class="regexp">/coprs/</span>outman<span class="regexp">/shadowsocks-libev/</span>repo<span class="regexp">/epel-7/</span>outman-shadowsocks-libev-epel-<span class="number">7</span>.repo</span><br><span class="line"><span class="comment"># CentOS8</span></span><br><span class="line">URL=https:<span class="regexp">//</span>copr.fedorainfracloud.org<span class="regexp">/coprs/</span>outman<span class="regexp">/shadowsocks-libev/</span>repo<span class="regexp">/epel-8/</span>outman-shadowsocks-libev-epel-<span class="number">8</span>.repo</span><br></pre></td></tr></table></figure>

<p>安装</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line">yum <span class="keyword">install </span>-y epel-release</span><br><span class="line">yum <span class="keyword">install </span>-y libsodium <span class="keyword">shadowsocks-libev </span>simple-obfs</span><br><span class="line">yum <span class="keyword">install </span>-y <span class="keyword">shadowsocks-libev</span></span><br></pre></td></tr></table></figure>

<h3 id="配置ss"><a href="#配置ss" class="headerlink" title="配置ss"></a>配置ss</h3><p>打开&#x2F;etc&#x2F;shadowsocks-libev&#x2F;config.json，如果不存在该文件则需要新建。</p>
<p>配置对应的参数：</p>
<ul>
<li><p>server：当前自己的服务器的地址<br>比如：<code>0.0.0.0</code></p>
</li>
<li><p>server_port：ss服务的端口<br>一般要大于1024，小于65536,可以随意取值，只要不和其他端口冲突即可<br>比如：<code>21500</code></p>
</li>
<li><p>password：ss客户端使用ss时要使用的密码<br>最好设置一个复杂但安全的密码，例如：<code>Ci20s5a6y96F</code></p>
</li>
<li><p>method：加密方式<br>以前常见的方式是：<code>aes-256-cfb</code><br>最新更加复杂但更安全的是：chacha20-ietf-poly1305<br>注意: 需要ss客户端要支持该加密方式才能正常使用ss服务</p>
</li>
<li><p>timeout：超时时间，单位：秒<br>比如：<code>300</code></p>
</li>
<li><p>mode：ss服务的模式<br>比如：<code>tcp_and_udp</code>，即支持tcp也支持udp</p>
</li>
</ul>
<p>示例：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;server_port&quot;</span><span class="punctuation">:</span> <span class="number">21500</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Ci20s5a6y96F&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chacha20-ietf-poly1305&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tcp_and_udp&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="防火墙上打开端口"><a href="#防火墙上打开端口" class="headerlink" title="防火墙上打开端口"></a>防火墙上打开端口</h3><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">permanent</span> <span class="literal">--</span><span class="comment">add</span><span class="literal">-</span><span class="comment">port=xxxx/tcp</span></span><br><span class="line"><span class="comment">firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">reload</span></span><br></pre></td></tr></table></figure>

<h3 id="启动shadowsocks-libev"><a href="#启动shadowsocks-libev" class="headerlink" title="启动shadowsocks-libev"></a>启动shadowsocks-libev</h3><p>启动：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">systemctl restart shadowsocks-libev</span></span><br></pre></td></tr></table></figure>

<p>开机启动：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> shadowsocks-libev</span><br></pre></td></tr></table></figure>

<h3 id="生成复杂但安全的密码"><a href="#生成复杂但安全的密码" class="headerlink" title="生成复杂但安全的密码"></a>生成复杂但安全的密码</h3><p><a target="_blank" rel="noopener" href="http://ucdok.com/project/generate_password.html">http://ucdok.com/project/generate_password.html</a></p>
<h3 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h3><p>查看服务状态</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">systemctl status shadowsocks-libev</span></span><br></pre></td></tr></table></figure>

<p>查看日志</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl -u shadowsocks-libev</span><br></pre></td></tr></table></figure>

<p>查看端口是否启动</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -tnlp <span class="string">| grep xxxx</span></span><br></pre></td></tr></table></figure>

<h3 id="实现shadowsocks-libev多用户"><a href="#实现shadowsocks-libev多用户" class="headerlink" title="实现shadowsocks-libev多用户"></a>实现shadowsocks-libev多用户</h3><p>新建另外一个配置文件，比如：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>shadowsocks-libev/config2.json</span><br></pre></td></tr></table></figure>

<p>内容和之前一致，只是端口号<code>server_port</code>和密码<code>password</code>改了一下即可：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;server_port&quot;</span><span class="punctuation">:</span> <span class="number">21501</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;passowrd2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;aes-256-cfb&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tcp_and_udp&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意: 端口号不要和系统中其他服务的端口号冲突了。</p>
</blockquote>
<p>另外再去用：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setsid ss-<span class="keyword">server</span> -c /etc/shadowsocks-libev/config2.json -u</span><br></pre></td></tr></table></figure>
<p>启用新端口对应的ss服务。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A2%99/" rel="tag">墙</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Mysql面试题"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/06/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98/"
    >MySQL面试题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/09/06/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98/" class="article-date">
  <time datetime="2019-09-06T09:24:02.000Z" itemprop="datePublished">2019-09-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="MySQL面试题"><a href="#MySQL面试题" class="headerlink" title="MySQL面试题"></a>MySQL面试题</h2><h4 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h4><ul>
<li>常用的MySQL引擎有哪些？ MyISAM和InnoDB区别</li>
<li>MySQL事务，解释ACID</li>
<li>SQL标准定义的四个隔离级别</li>
<li>CHAR和VARCHAR的区别？</li>
<li>FLOAT和DOUBLE的区别是什么？</li>
<li>列设置为AUTO INCREMENT时，如果在表中达到最大值，会发生什么情况？</li>
<li>BLOB和TEXT有什么区别？</li>
<li>Heap表是什么？</li>
<li>DROP、DELETE、TRUNCATE的区别</li>
<li>MySQL里记录货币用什么字段类型好</li>
<li>通用SQL函数有哪些？</li>
<li>NOW（）和CURRENT_DATE（）有什么区别？</li>
<li>MySQL查询是否区分大小写？</li>
<li>主键 超键 候选键 外键</li>
<li>视图的作用，视图的优缺点，视图可以更改么？</li>
<li>MySQL有关权限的表都有哪几个？</li>
<li>MySQL数据表在什么情况下容易损坏？</li>
<li>对Explain参数及重要参数的理解？</li>
<li>MySQL binlog的几种日志录入格式以及区别</li>
</ul>
<h4 id="索引、锁"><a href="#索引、锁" class="headerlink" title="索引、锁"></a>索引、锁</h4><ul>
<li>MySQL索引的目的和原理 </li>
<li>MySQL索引的数据结构和算法原理</li>
<li>索引对性能的影响</li>
<li>索引的使用场景</li>
<li>索引的创建原则</li>
<li>什么是索引合并？</li>
<li>什么是覆盖索引？</li>
<li>MySQL索引的注意事项</li>
<li>列举创建索引但是无法命中索引的情况</li>
<li>为什么使用B+Tree</li>
<li>B-Tree和B+Tree的区别</li>
<li>最左前缀原理</li>
<li>什么是聚集索引和非聚集索引</li>
<li>可以使用多少列创建索引？</li>
<li>MySQL中有哪几种锁？</li>
<li>什么是乐观锁和悲观锁</li>
<li>乐观锁和悲观锁的区别及使用场景</li>
<li>乐观锁常见的两种实现方式</li>
<li>乐观锁的缺点</li>
<li>什么是MVCC</li>
<li>MySQL的innodb引擎是如何实现MVCC的</li>
<li>MySQL中InnoDB引擎的行锁是怎么实现的？为什么是这样子的？</li>
</ul>
<h4 id="调优诊断"><a href="#调优诊断" class="headerlink" title="调优诊断"></a>调优诊断</h4><ul>
<li>对SQL语句优化有哪些方法？</li>
<li>MySQL如何优化DISTINCT？</li>
<li>锁的优化策略</li>
<li>MySQL数据库CPU飙升到500%的话他怎么处理？</li>
<li>MySQL数据库服务器性能分析的方法命令有哪些?</li>
<li>数据库结构优化的建议有哪些</li>
<li>Schema设计对系统性能有什么影响？</li>
</ul>
<h4 id="解答题"><a href="#解答题" class="headerlink" title="解答题"></a>解答题</h4><ul>
<li>一张表，里面有ID自增主键，当insert了17条记录之后，删除了第15,16,17条记录，再把MySQL重启，再insert一条记录，这条记录的ID是18还是15 ？</li>
<li>如何在MySQL种获取当前日期？</li>
<li>如何查询第n高的工资？ </li>
<li>有A(id,sex,par,c1,c2),B(id,age,c1,c2)两张表，其中A.id与B.id关联，现在要求写出一条SQL语句，将B中age&gt;50的记录的c1,c2更新到A表中同一记录中的c1,c2字段中</li>
<li>一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录</li>
<li>1000w条数据，使用limit offset 分页时，为什么越往后翻越慢？如何解决？</li>
</ul>
<h4 id="运维安全"><a href="#运维安全" class="headerlink" title="运维安全"></a>运维安全</h4><ul>
<li>SQL注入漏洞产生的原因？如何防止？</li>
<li>关于SQL语句应该考虑哪些安全性？</li>
<li>简述数据库的读写分离？</li>
<li>简述数据库分库分表？（水平、垂直）</li>
<li>MySQL的复制原理以及流程</li>
<li>Mysql热备方案和原理</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Java面试题"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/27/Java%E9%9D%A2%E8%AF%95%E9%A2%98/"
    >Java面试题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/27/Java%E9%9D%A2%E8%AF%95%E9%A2%98/" class="article-date">
  <time datetime="2019-08-27T13:06:02.000Z" itemprop="datePublished">2019-08-27</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="Java面试题"><a href="#Java面试题" class="headerlink" title="Java面试题"></a>Java面试题</h2><h4 id="Java基础面试知识点"><a href="#Java基础面试知识点" class="headerlink" title="Java基础面试知识点"></a>Java基础面试知识点</h4><ul>
<li>java中&#x3D;&#x3D;和equals和hashCode的区别</li>
<li>int、char、long各占多少字节数</li>
<li>int与integer的区别</li>
<li>解释下多态性（polymorphism），封装性（encapsulation），内聚（cohesion）以及耦合（coupling）</li>
<li>String、StringBuffer、StringBuilder区别</li>
<li>什么是内部类？内部类的作用</li>
<li>抽象类和接口区别</li>
<li>抽象类的意义</li>
<li>抽象类与接口的应用场景</li>
<li>抽象类是否可以没有方法和属性？</li>
<li>接口的意义</li>
<li>泛型中extends和super的区别</li>
<li>父类的静态方法能否被子类重写</li>
<li>进程和线程的区别</li>
<li>final，finally，finalize的区别</li>
<li>序列化的方式</li>
<li>transient关键字的作用</li>
<li>Serializable 和Parcelable 的区别</li>
<li>静态属性和静态方法是否可以被继承？是否可以被重写？以及原因？</li>
<li>静态内部类的设计意图</li>
<li>成员内部类、静态内部类、局部内部类和匿名内部类的理解，以及项目中的应用</li>
<li>string 转换成 integer的方式及原理</li>
<li>反射是如何实现的，在哪些场景用到反射</li>
<li>反射中 Class.forName 和 ClassLoader 区别</li>
<li>反射创建类实例的三种方式是什么</li>
<li>如何通过反射调用对象的方法，获取和设置对象私有字段的值</li>
<li>反射机制的优缺点</li>
<li>什么是正则表达式？用途是什么？哪个包使用正则表达式来实现模式匹配</li>
<li>什么是懒加载（Lazy Loading）</li>
<li>什么是尾递归，为什么需要尾递归</li>
</ul>
<h4 id="Java高级面试题"><a href="#Java高级面试题" class="headerlink" title="Java高级面试题"></a>Java高级面试题</h4><ul>
<li>讲一下常见编码方式？</li>
<li>utf-8编码中的中文占几个字节；int型几个字节？</li>
<li>静态代理和动态代理的区别，什么场景使用？</li>
<li>Java的异常体系</li>
<li>修改对象A的equals方法的签名，那么使用HashMap存放这个对象实例的时候，会调用哪个equals方法？</li>
<li>为什么在重写 equals 方法的时候需要重写 hashCode 方法？equals与 hashCode 的异同点在哪里</li>
<li>可以在 hashcode() 中使用随机数字吗？</li>
<li>Java中实现多态的机制是什么？</li>
<li>如何将一个Java对象序列化到文件里？</li>
<li>说说你对Java反射的理解</li>
<li>Java动态代理的实现方式及原理</li>
<li>说说你对Java注解的理解</li>
<li>说说你对依赖注入的理解</li>
<li>说一下泛型原理，并举例说明</li>
<li>Java中String的了解</li>
<li>String为什么要设计成不可变的？</li>
<li>java中的四种引用的区别以及使用场景</li>
<li>强引用置为null，会不会被回收？</li>
</ul>
<h4 id="Java数据结构"><a href="#Java数据结构" class="headerlink" title="Java数据结构"></a>Java数据结构</h4><ul>
<li>常用数据结构有哪些</li>
<li>并发集合了解哪些？</li>
<li>列举java的集合以及集合之间的继承关系</li>
<li>集合类以及集合框架</li>
<li>容器类介绍以及之间的区别（容器类估计很多人没听这个词，Java容器主要可以划分为4个部分：List列表、Set集合、Map映射、工具类（Iterator迭代器、Enumeration枚举类、Arrays和Collections）</li>
<li>List、Set、Map的区别</li>
<li>List和Map的实现方式以及存储方式</li>
<li>ArrayList和LinkedList的区别，以及应用场景</li>
<li>数组和链表的区别</li>
<li>HashMap的实现原理及源码理解</li>
<li>HashMap如何put数据（从HashMap源码角度讲解）</li>
<li>HashMap的遍历方式及效率</li>
<li>怎么手写实现一个HashMap</li>
<li>HashTable实现原理</li>
<li>TreeMap具体实现</li>
<li>ConcurrentHashMap的实现原理</li>
<li>ArrayMap和HashMap的对比</li>
<li>HashMap与HashSet的区别</li>
<li>HashMap 、HashTable、ConcurrentHashMap 的区别</li>
<li>HashMap、LinkedMap、TreeMap的区别</li>
<li>如何决定选用HashMap还是TreeMap</li>
<li>HashSet与HashMap怎么判断集合元素重复</li>
<li>集合Set实现Hash怎么防止碰撞</li>
<li>WeakHashMap 是怎么工作的？</li>
<li>二叉树的深度优先遍历和广度优先遍历的具体实现</li>
<li>堆的结构</li>
<li>堆和树的区别</li>
<li>堆和栈在内存中的区别是什么(解答提示：可以从数据结构方面以及实际实现方面两个方面去回答)？</li>
<li>什么是深拷贝和浅拷贝</li>
<li>讲一下对树、B+树的理解</li>
<li>讲一下对图的理解</li>
<li>判断单链表成环与否？</li>
</ul>
<h4 id="Java线程、多线程、线程池、锁"><a href="#Java线程、多线程、线程池、锁" class="headerlink" title="Java线程、多线程、线程池、锁"></a>Java线程、多线程、线程池、锁</h4><ul>
<li>开启线程的三种方式？</li>
<li>线程和进程的区别？</li>
<li>为什么要有线程，而不是仅仅用进程？</li>
<li>run()和start()方法区别</li>
<li>如何控制某个方法允许并发访问线程的个数？</li>
<li>在Java中wait和seelp方法的不同；</li>
<li>谈谈wait&#x2F;notify关键字的理解</li>
<li>什么导致线程阻塞？</li>
<li>线程如何关闭？</li>
<li>讲一下java中的同步的方法</li>
<li>数据一致性如何保证？</li>
<li>如何保证线程安全？</li>
<li>如何实现线程同步？</li>
<li>两个进程同时要求写或者读，能不能实现？如何防止进程的同步？</li>
<li>线程间操作List</li>
<li>Java中对象的生命周期</li>
<li>Synchronized用法和原理</li>
<li>谈谈对Synchronized关键字，类锁，方法锁，重入锁的理解</li>
<li>static synchronized 方法的多线程访问和作用</li>
<li>同一个类里面两个synchronized方法，两个线程同时访问的问题</li>
<li>volatile的原理</li>
<li>谈谈volatile关键字的用法和作用以及场景</li>
<li>谈谈NIO的理解</li>
<li>synchronized 和volatile 关键字的区别</li>
<li>synchronized与Lock的区别</li>
<li>ReentrantLock 、synchronized和volatile比较</li>
<li>ReentrantLock的内部实现</li>
<li>lock原理</li>
<li>死锁的四个必要条件？</li>
<li>怎么避免死锁？</li>
<li>对象锁和类锁是否会互相影响？</li>
<li>什么是线程池，如何使用?</li>
<li>Java的并发、多线程、线程模型</li>
<li>ThreadLocal 用途是什么，原理是什么，用的时候要注意什么</li>
<li>ThreadPool用法与优势，线程池队列已满时会发会生什么</li>
<li>线程池的实现策略</li>
<li>线程池的关闭方式有几种，各自的区别是什么</li>
<li>线程池中submit() 和 execute()方法有什么区别？</li>
<li>谈谈对多线程的理解</li>
<li>多线程有什么要注意的问题？</li>
<li>Java中用到的线程调度算法是什么</li>
<li>什么是多线程中的上下文切换，避免上下文切换的方案(无锁编程&#x2F;CAS&#x2F;合理的创建线程)</li>
<li>JAVA线程间的状态转换</li>
<li>你对线程优先级的理解是什么</li>
<li>Java多线程的三大核心是什么？(原子性、可见性、顺序性)</li>
<li>什么是线程调度器 (Thread Scheduler) 和时间分片 (Time Slicing)</li>
<li>谈谈你对多线程同步机制的理解？</li>
<li>什么是多线程环境下的伪共享（false sharing）</li>
<li>如何保证多线程读写文件的安全？</li>
<li>多线程断点续传原理</li>
<li>断点续传的实现</li>
</ul>
<h4 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h4><ul>
<li>谈谈你对并发编程的理解并举例说明</li>
<li>Java 中锁机制：synchronized、Lock、Condition</li>
<li>深入分析ConcurrentHashMap</li>
<li>BlockingQueue是什么</li>
<li>简述 ConcurrentLinkedQueue LinkedBlockingQueue 的用处和不同之处</li>
<li>ArrayBlockingQueue, CountDownLatch的用法</li>
<li>CyclicBarrier 和 CountDownLatch有什么不同？各自的内部原理和用法是什么</li>
<li>Semaphore的用法</li>
<li>什么是乐观锁（Optimistic Locking）？如何实现乐观锁？如何避免ABA问题</li>
<li>解释以下名词：重排序，自旋锁，偏向锁，轻量级锁，可重入锁，公平锁，非公平锁，乐观锁，悲观锁</li>
<li>什么时候应该使用可重入锁</li>
<li>简述锁的等级方法锁、对象锁、类锁</li>
<li>Java中活锁和死锁有什么区别？</li>
<li>什么是死锁(Deadlock)？导致线程死锁的原因？如何确保 N 个线程可以访问 N 个资源同时又不导致死锁</li>
<li>死锁与活锁的区别，死锁与饥饿的区别</li>
<li>怎么检测一个线程是否拥有锁</li>
<li>如何实现分布式锁</li>
<li>有哪些无锁数据结构，他们实现的原理是什么</li>
<li>读写锁可以用于什么应用场景</li>
</ul>
<h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><ul>
<li>Java 内存模型，1.8和1.9的区别</li>
<li>Java类加载机制</li>
<li>Java 堆内存溢出分析</li>
<li>MetaSpace (元数据) 内存溢出一般是什么原因</li>
<li>垃圾回收算法有哪些</li>
<li>哪些情况下的对象会被垃圾回收机制处理掉？</li>
<li>深入理解java内存模型–参考InfoQ系列文章</li>
</ul>
<h4 id="架构设计和设计模式"><a href="#架构设计和设计模式" class="headerlink" title="架构设计和设计模式"></a>架构设计和设计模式</h4><ul>
<li>聊了下曾经参与设计的服务器架构</li>
<li>为什么要进行系统拆分？如何进行系统拆分？拆分后不用 Dubbo 可以吗？</li>
<li>BS与CS的联系与区别</li>
<li>什么是领域模型(domain model)？贫血模型(anaemic domain model) 和充血模型(rich domain model)有什么区别</li>
<li>什么是领域驱动开发（Domain Driven Development）</li>
<li>请简要讲一下你对测试驱动开发（TDD）的认识</li>
<li>微服务（MicroServices）与单体应用（Monolithic Applications）之间的区别在哪里</li>
<li>REST、RPC、RMI有什么区别</li>
<li>MVC MVP MVVM原理和区别</li>
<li>你所知道的设计模式有哪些？</li>
<li>项目中常用的设计模式</li>
<li>手写生产者&#x2F;消费者模式</li>
<li>写一个你认为最好的单例模式</li>
<li>写出观察者模式的代码</li>
<li>适配器模式，装饰者模式，外观模式的异同？</li>
<li>用到的一些开源框架，介绍一个看过源码的，内部实现过程。</li>
<li>从0设计一个小程序项目整体架构，如何去做？</li>
<li>说一款你认为当前比较火的应用并设计(比如：电商、直播APP，P2P金融，小视频等)</li>
<li>谈谈对java状态机理解</li>
<li>对于应用更新这块是如何做的？(解答：灰度，强制更新，分区域更新)？</li>
<li>你常用的持续集成（Continuous Integration）、静态代码分析（Static Code Analysis）工具有哪些</li>
<li>实现一个Json解析器(可以通过正则提高速度)</li>
<li>什么样的项目不适合用框架</li>
<li>新浪微博是如何实现把微博推给订阅者</li>
<li>说出数据连接池的工作机制是什么</li>
<li>怎么提升系统的QPS和吞吐量</li>
<li>你有了解过存在哪些反模式（Anti-Patterns）吗</li>
<li>你用过的网站前端优化的技术有哪些</li>
<li>如何搭建一个高可用系统</li>
<li>如何启动时不需输入用户名与密码</li>
<li>如何在基于Java的Web项目中实现文件上传和下载</li>
<li>如何实现一个秒杀系统，保证只有几位用户能买到某件商品。</li>
<li>如何实现负载均衡，有哪些算法可以实现</li>
<li>如何设计一个购物车？想想淘宝的购物车如何实现的</li>
<li>如何设计一套高并发支付方案，架构如何设计</li>
<li>如何设计建立和保持 100w 的长连接</li>
<li>如何避免浏览器缓存。</li>
<li>如何限流？在工作中是怎么做的？说一下具体的实现？</li>
<li>如何进行熔断？</li>
<li>熔断框架都有哪些？具体实现原理知道吗？</li>
<li>如何进行降级？</li>
<li>如何防止缓存雪崩</li>
<li>如果有人恶意创建非法连接，怎么解决</li>
<li>什么是微服务？微服务之间是如何独立通讯的？</li>
<li>Spring Cloud 和 Dubbo 有哪些区别？</li>
<li>Spring Boot 和 Spring Cloud，谈谈你对它们的理解？</li>
<li>什么是服务熔断？什么是服务降级？</li>
<li>微服务的优缺点分别是什么？说一下你在项目开发中碰到的坑？</li>
<li>你所知道的微服务技术栈都有哪些？</li>
<li>Eureka 和 Zookeeper 都可以提供服务注册与发现的功能，它们有什么区别？</li>
</ul>
<h4 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h4><ul>
<li>遇到过的内存泄漏或栈溢出场景，CPU利用率飙高，应用无响应时怎么解决？</li>
<li>如何分析Thread dump</li>
<li>Java多线程引发的性能问题，怎么解决？</li>
<li>如何保持应用的稳定性</li>
<li>线上系统突然变得异常缓慢，你如何查找问题</li>
<li>网站性能优化如何优化</li>
<li>SQL优化的常见手段</li>
</ul>
<h4 id="分布式"><a href="#分布式" class="headerlink" title="分布式"></a>分布式</h4><ul>
<li>CDN实现原理</li>
<li>什么是 Raft和Paxos 算法</li>
<li>什么是 zab 协议</li>
<li>解释什么是 MESI 协议(缓存一致性)</li>
<li>解释CAP、BASE</li>
<li>什么是幂等，如何实现</li>
<li>分布式事务的原理，优缺点，如何使用分布式事务？</li>
<li>你们如何解决分布式事务问题的？TCC 如果出现网络连不通怎么办？XA 的一致性如何保证？</li>
<li>分布式ID 生成器的实现方案及优缺点(数据库、本地UUID、本地时间、雪花算法)</li>
<li>分布式锁的实现方式及优缺点</li>
<li>分布式缓存设计需要考虑哪些因素</li>
<li>分布式 Session如何实现</li>
<li>为什么使用消息队列？消息队列有什么优点和缺点？Kafka、ActiveMQ、RabbitMQ、RocketMQ 都有什么优点和缺点？</li>
<li>如何保证消息队列的高可用？</li>
<li>如何保证消息不被重复消费？（如何保证消息消费的幂等性）</li>
<li>如何保证消息的可靠性传输？（如何处理消息丢失的问题）</li>
<li>如何保证消息的顺序性？</li>
<li>如何解决消息队列的延时以及过期失效问题？消息队列满了以后该怎么处理？有几百万消息持续积压几小时，说说怎么解决？</li>
<li>高并发下，如何做到安全的修改同一行数据</li>
<li>12306网站的订票系统如何实现，如何保证不会票不被超卖</li>
<li>实现分布式环境下的 countDownLatch</li>
<li>es 的分布式架构原理能说一下么（es 是如何实现分布式的啊）？</li>
<li>es 写入数据的工作原理是什么啊？es 查询数据的工作原理是什么啊？底层的 lucene 介绍一下呗？倒排索引了解吗？</li>
<li>es 在数据量很大的情况下（数十亿级别）如何提高查询效率啊？</li>
<li>es 生产集群的部署架构是什么？每个索引的数据量大概有多少？每个索引大概有多少个分片？</li>
</ul>
<h4 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h4><ul>
<li>排序算法有哪些？</li>
<li>最快的排序算法是哪个？</li>
<li>手写一个冒泡排序</li>
<li>手写快速排序代码</li>
<li>手写一个折半查找</li>
<li>手写堆排序</li>
<li>实现一个电梯模拟器用</li>
<li>随机产生20个不能重复的字符并排序</li>
<li>写一个函数，传入 2 个有序的整数数组，返回一个有序的整数数组</li>
<li>写一段代码在遍历 ArrayList 时移除一个元素</li>
<li>快速排序的过程、时间复杂度、空间复杂度</li>
<li>堆排序过程、时间复杂度及空间复杂度</li>
<li>写出你所知道的排序算法及时空复杂度，稳定性</li>
<li>二叉树给出根节点和目标节点，找出从根节点到目标节点的路径</li>
<li>给阿里2万多名员工按年龄排序应该选择哪个算法？</li>
<li>GC算法(各种算法的优缺点以及应用场景)</li>
<li>蚁群算法与蒙特卡洛算法</li>
<li>约瑟芬环游戏</li>
<li>子串包含问题(KMP 算法)写代码实现</li>
<li>一个无序，不重复数组，输出N个元素，使得N个元素的和相加为M，给出时间复杂度、空间复杂度。手写算法</li>
<li>万亿级别的两个URL文件A和B，如何求出A和B的差集C(提示：Bit映射-&gt;hash分组-&gt;多文件读写效率-&gt;磁盘寻址以及应用层面对寻址的优化)</li>
<li>百度POI中如何试下查找最近的商家功能(提示：坐标镜像+R树)。</li>
<li>两个不重复的数组集合中，求共同的元素。</li>
<li>两个不重复的数组集合中，这两个集合都是海量数据，内存中放不下，怎么求共同的元素？</li>
<li>一个文件中有100万个整数，由空格分开，在程序中判断用户输入的整数是否在此文件中。说出最优的方法</li>
<li>一张Bitmap所占内存以及内存占用的计算</li>
<li>2000万个整数，找出第五十大的数字？</li>
<li>烧一根不均匀的绳，从头烧到尾总共需要1个小时。现在有若干条材质相同的绳子，问如何用烧绳的方法来计时一个小时十五分钟呢？</li>
<li>求1000以内的水仙花数以及40亿以内的水仙花数</li>
<li>5枚硬币，2正3反如何划分为两堆然后通过翻转让两堆中正面向上的硬8币和反面向上的硬币个数相同</li>
<li>时针走一圈，时针分针重合几次</li>
<li>N*N的方格纸,里面有多少个正方形</li>
<li>x个苹果，一天只能吃一个、两个、或者三个，问多少天可以吃完？</li>
<li>50个人围坐一圈，当数到三或者三的倍数出圈，问剩下的人是谁，原来的位置是多少</li>
<li>古典问题：有一对兔子，从出生后第3个月起每个月都生一对兔子，小兔子长到第四个月后每个月又生一对兔子，假如兔子都不死，问每个月的兔子总数为多少</li>
<li>如果让你实现一个并发安全的链表，你会怎么做</li>
<li>计算两个日期之间的差距</li>
</ul>
<h4 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h4><p><strong>1. 计算加班费</strong></p>
<p>加班10小时以下加班费是时薪的1.5倍。加班10小时或以上，按4元&#x2F;时算。提示：（一个月工作26天，一天正常工作8小时）</p>
<ul>
<li>计算1000月薪，加班9小时的加班费</li>
<li>计算2500月薪，加班11小时的加班费</li>
<li>计算1000月薪，加班15小时的加班费</li>
</ul>
<p><strong>2. 卖东西</strong></p>
<p>一家商场有红苹果和青苹果出售。（红苹果5元&#x2F;个，青苹果4元&#x2F;个）。</p>
<ul>
<li>模拟一个进货。红苹果跟青苹果各进200个。</li>
<li>模拟一个出售。红苹果跟青苹果各买出10个。每卖出一个苹果需要进行统计。</li>
</ul>
<p>提示：一个苹果是一个单独的实体。</p>
<p><strong>3. 日期提取</strong></p>
<p>有这样一个时间字符串：2008-8-8 20:08:08 ， 请编写能够匹配它的正则表达式，并编写Java代码将日期后面的时分秒提取出来，即：20:08:08</p>
<p><strong>4. 线程</strong></p>
<ul>
<li>8设计4个线程，其中两个线程每次对j增加1，另外两个线程对j每次减少1。写出程序。</li>
<li>用Java写一个多线程程序，如写四个线程，二个加1，二个对一个变量减一，输出</li>
<li>wait-notify 写一段代码来解决生产者-消费者问题</li>
</ul>
<p><strong>5. 数字计算</strong></p>
<ul>
<li><p>判断101-200之间有多少个素数，并输出所有素数</p>
</li>
<li><p>用最有效率的方法算出2乘以17等于多少</p>
</li>
<li><p>有 1 亿个数字，其中有 2 个是重复的，快速找到它，时间和空间要最优</p>
</li>
<li><p>2 亿个随机生成的无序整数,找出中间大小的值</p>
</li>
<li><p>10 亿个数字里里面找最小的 10 个</p>
</li>
<li><p>1到1亿的自然数，求所有数的拆分后的数字之和，如286 拆分成2、8、6，如1到11拆分后的数字之和 &#x3D;&gt; 1 + … + 9 + 1 + 0 + 1 + 1</p>
</li>
<li><p>一个数如果恰好等于它的因子之和，这个数就称为 “完数 “。例如6&#x3D;1＋2＋3.编程 找出1000以内的所有完数</p>
</li>
<li><p>一个数组中所有的元素都出现了三次，只有一个元素出现了一次找到这个元素</p>
</li>
<li><p>一球从100米高度自由落下，每次落地后反跳回原高度的一半；再落下，求它在 第10次落地时，共经过多少米？第10次反弹多高？</p>
</li>
<li><p>求100－1000内质数的和</p>
</li>
<li><p>求1到100的和的平均数</p>
</li>
<li><p>求s&#x3D;a+a+aaa+aaaa+aa…a的值，其中a是一个数字。例如2+22+222+2222+22222(此时共有5个数相加)，几个数相加有键盘控制。 求出1到100的和</p>
</li>
<li><p>算出1到40的质数，放进数组里</p>
<ul>
<li>显示放组里的数</li>
<li>找出第[5]个数</li>
<li>删除第[9]个数，再显示删除后的第[9]个</li>
</ul>
</li>
<li><p>有 3n+1 个数字，其中 3n 个中是重复的，只有 1 个是不重复的，怎么找出来。</p>
</li>
<li><p>有一组数1.1.2.3.5.8.13.21.34。写出程序随便输入一个数就能给出和前一组数字同规律的头5个数</p>
</li>
<li><p>计算指定数字的阶乘</p>
</li>
<li><p>给定一个包含 N 个整数的数组，找出丢失的整数</p>
</li>
<li><p>一个排好序的数组，找出两数之和为m的所有组合</p>
</li>
<li><p>将一个正整数分解质因数。例如：输入90,打印出90&#x3D;2<em>3</em>3*5。</p>
</li>
<li><p>打印出所有的 “水仙花数 “，所谓 “水仙花数 “是指一个三位数，其各位数字立方和等于该数本身。例如：153是一个 “水仙花数 “，因为153&#x3D;1的三次方＋5的三次方＋3的三次方</p>
</li>
<li><p>原地交换两个变量的值</p>
</li>
<li><p>找出4字节整数的中位数</p>
</li>
<li><p>找到整数的平方根</p>
</li>
</ul>
<p><strong>6. 逻辑代码题</strong></p>
<ul>
<li>FizzBuzz问题</li>
<li>实现斐波那契</li>
<li>写一个死锁</li>
<li>手写生产者&#x2F;消费者模式</li>
<li>写一个你认为最好的单例模式</li>
<li>写一个观察者模式</li>
<li>手写一个冒泡排序</li>
<li>手写快速排序代码</li>
<li>手写一个折半查找</li>
<li>手写堆排序</li>
<li>手写链表逆序代码</li>
<li>合并有序链表</li>
<li>约瑟芬环游戏</li>
</ul>
<h4 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h4><ul>
<li>在你的职业生涯中，算得上最困难的技术挑战是什么</li>
<li>如果有机会重新设计你们的产品，你会怎么做</li>
<li>最近看什么书，印象最深刻的是什么</li>
<li>你的学习方法是什么样的？实习过程中如何学习？实习项目中遇到的最大困难是什么以及如何解决的？</li>
<li>如果通过这次面试我们单位录用了你，但工作一段时间却发现你根本不适合这个职位，你怎么办？</li>
<li>工作过程中周围同事&#x2F;同学有哪些值得学习的地方？</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-约瑟夫环问题"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/10/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98/"
    >约瑟夫环问题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/10/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2019-07-10T08:19:17.000Z" itemprop="datePublished">2019-07-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="约瑟夫斯问题"><a href="#约瑟夫斯问题" class="headerlink" title="约瑟夫斯问题"></a>约瑟夫斯问题</h1><p>有时也称为约瑟夫斯置换，是一个出现在计算机科学和数学中的问题。在计算机编程的算法中，类似问题又称为约瑟夫环。</br><br>人们站在一个等待被处决的圈子里。 计数从圆圈中的指定点开始，并沿指定方向围绕圆圈进行。 在跳过指定数量的人之后，执行下一个人。 对剩下的人重复该过程，从下一个人开始，朝同一方向跳过相同数量的人，直到只剩下一个人，并被释放。</br><br>问题即，给定人数、起点、方向和要跳过的数字，选择初始圆圈中的位置以避免被处决。</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>有n个人编号，站成一圈：<br>1  2  3  4 … … n-1  n</p>
<p>现在从1开始进行报数，报到k的出列自杀，然后剩下的人继续从1报数（当到达编号为n的人时，下一个报数的从编号为1的人开始进行）：</br><br>1  2  3  4… k(出列自杀)  1  2  …</p>
<p>直到圈内只剩余m人，求胜利者的编号。</br><br>例如：当n&#x3D;6, k&#x3D;5, m&#x3D;1时，5,4,6,2,3将会被依次处决，而1将会幸免。</p>
<p>示例代码如下：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> JosephProblem &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回活着的人的位置</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param total 总人数</span></span><br><span class="line"><span class="comment">     * @param magicNum 报数到该数字的人自杀</span></span><br><span class="line"><span class="comment">     * @param remain 笑着活下去的人</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    private List getJosephNumbers(<span class="type">int</span> total, <span class="type">int</span> magicNum, <span class="type">int</span> remain) &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;<span class="type">Integer</span>&gt; peopleList = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= total; i++) &#123;</span><br><span class="line">            peopleList.<span class="keyword">add</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;<span class="type">Integer</span>&gt; diedList = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="keyword">index</span> = <span class="number">-1</span>;  //当前应该删除的位置</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">index</span> = (<span class="keyword">index</span> + magicNum) % peopleList.size();</span><br><span class="line"></span><br><span class="line">            diedList.<span class="keyword">add</span>(peopleList.<span class="keyword">get</span>(<span class="keyword">index</span>));</span><br><span class="line">            peopleList.remove(<span class="keyword">index</span>);</span><br><span class="line"></span><br><span class="line">            //从上一个位置开始计数</span><br><span class="line">            <span class="keyword">index</span><span class="comment">--;</span></span><br><span class="line"></span><br><span class="line">            //判断是否剩余m个，如果是的话结束</span><br><span class="line">            <span class="keyword">if</span> (peopleList.size() == remain) &#123;</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;共&quot; + total + &quot;人，依次报数，当报到&quot; + magicNum + &quot;的人自杀，&quot; + remain + &quot;个人笑着活下去.&quot;);</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;死掉的序号顺序为：&quot; + diedList);</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;笑着活下去序号为：&quot; + peopleList);</span><br><span class="line">                <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;----------------------------------&quot;);</span><br><span class="line">                <span class="keyword">return</span> peopleList;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">        JosephProblem test = <span class="built_in">new</span> JosephProblem();</span><br><span class="line"></span><br><span class="line">        test.getJosephNumbers(<span class="number">10</span>, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">10</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">20</span>, <span class="number">10</span>, <span class="number">3</span>);</span><br><span class="line">        test.getJosephNumbers(<span class="number">20</span>, <span class="number">4</span>, <span class="number">6</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">共10人，依次报数，当报到4的人自杀，1个人笑着活下去.</span><br><span class="line">死掉的序号顺序为：[4, 8, 2, 7, 3, 10, 9, 1, 6]</span><br><span class="line">笑着活下去序号为：[5]</span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line"><span class="code">共10人，依次报数，当报到2的人自杀，1个人笑着活下去.</span></span><br><span class="line"><span class="code">死掉的序号顺序为：[2, 4, 6, 8, 10, 3, 7, 1, 9]</span></span><br><span class="line"><span class="code">笑着活下去序号为：[5]</span></span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line">共10人，依次报数，当报到3的人自杀，1个人笑着活下去.</span><br><span class="line">死掉的序号顺序为：[3, 6, 9, 2, 7, 1, 8, 5, 10]</span><br><span class="line">笑着活下去序号为：[4]</span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line"><span class="code">共20人，依次报数，当报到10的人自杀，3个人笑着活下去.</span></span><br><span class="line"><span class="code">死掉的序号顺序为：[10, 20, 11, 2, 14, 6, 19, 15, 9, 7, 5, 8, 13, 18, 12, 4, 17]</span></span><br><span class="line"><span class="code">笑着活下去序号为：[1, 3, 16]</span></span><br><span class="line"><span class="code">----------------------------------</span></span><br><span class="line">共20人，依次报数，当报到4的人自杀，6个人笑着活下去.</span><br><span class="line">死掉的序号顺序为：[4, 8, 12, 16, 20, 5, 10, 15, 1, 7, 14, 2, 11, 19]</span><br><span class="line">笑着活下去序号为：[3, 6, 9, 13, 17, 18]</span><br><span class="line">----------------------------------</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-团队规划及考核"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/27/%E5%9B%A2%E9%98%9F%E8%A7%84%E5%88%92%E5%8F%8A%E8%80%83%E6%A0%B8/"
    >团队规划考核</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/27/%E5%9B%A2%E9%98%9F%E8%A7%84%E5%88%92%E5%8F%8A%E8%80%83%E6%A0%B8/" class="article-date">
  <time datetime="2019-06-27T08:09:01.000Z" itemprop="datePublished">2019-06-27</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%A1%E7%90%86/">管理</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>团队需要一些好的机制来保障团队的目标达成，规划、汇报和考核需要做到常规化，下面写的是一些个人实践。</p>
<h2 id="规划和汇报"><a href="#规划和汇报" class="headerlink" title="规划和汇报"></a>规划和汇报</h2><ul>
<li>按季度&#x2F;月度做规划，建议采用OKR或者OKR+KPI结合的方式来规划目标、拆解关键点以及结果。</li>
<li>按双周迭代方式来进行开发测试，采用敏捷的方式<blockquote>
<p>腾讯TAPD是个不错的工具，经历了几家公司都推行使用，效果不错，关键是免费。</p>
</blockquote>
</li>
<li>按周进行团队事务管理<ul>
<li>每周一 团队协调人让组员规划本周所要做的事情，如有不合理需要沟通解决</li>
<li>每天   组员自行记录工作日志<blockquote>
<p>今天做了什么、明天要做什么、有什么问题和困难</p>
</blockquote>
</li>
<li>每周末 团队协调人写周报(本周工作内容和下周计划)，主要包含<blockquote>
<p>项目、月&#x2F;季度目标、关键节点、负责人、当前进度、预期完成时间、问题</p>
</blockquote>
</li>
</ul>
</li>
<li>按月进行绩效考核<blockquote>
<p>优秀的会有工资浮动</p>
</blockquote>
</li>
</ul>
<h2 id="月度考核"><a href="#月度考核" class="headerlink" title="月度考核"></a>月度考核</h2><p>目前的组织架构参考敏捷团队模型，我们把原有的职能型组织架构做成虚拟组织，采用敏捷团队(包含前后端测试)来推进，更加偏向于业务推进型，原有职能型组织的Leader组成委员会成员</p>
<p>类似与Spotify的分队和协会，具体理念参考Spotify大规模敏捷之路</p>
<p>对团队的评分标准参考下图：<br><img src="/images/monthly_appraisal.png"></p>
<p>说明如下：</p>
<ul>
<li><ol>
<li>先确定整个大团队月度优秀员工数量</li>
</ol>
</li>
<li><ol start="2">
<li>由委员会和总监直接提名少量优秀员工，主要是针对有一些岗位不在团队内部或者在团队中占少数不好参与团队考核，比如助理、设计师、都是人数少的岗位。</li>
</ol>
</li>
<li><ol start="3">
<li>确定团队的优秀员工数，按照下面的标准来评测</li>
</ol>
<ul>
<li>第一和最末的团队，优秀员工数量加一和减一</li>
<li>标准维度主要如下：  <figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">项目进度<span class="comment">(本月)</span></span><br><span class="line">项目质量<span class="comment">(Bug数据)</span></span><br><span class="line">组内制度的制定与落地&amp;外部沟通</span><br><span class="line">对公共项目、外部项目、委员会的工作支持</span><br></pre></td></tr></table></figure>
数据依据:  <figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">月初工作计划表</span><br><span class="line">TAPD <span class="keyword">Bug数据</span></span><br><span class="line"><span class="keyword"></span>制度落地和实施状况及外部反馈</span><br><span class="line">委员会成员的评分</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><ol start="4">
<li>确定团队成员中哪些拿到优秀员工，有两条维度线来打分</li>
</ol>
<ul>
<li>Leader打分</li>
<li>委员会打分</li>
<li>得出分数排名，给与优秀员工</li>
</ul>
<p>  委员会标准如下图：<br>  <img src="/images/standard_a.png"></p>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%80%83%E6%A0%B8/" rel="tag">考核</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%A7%84%E5%88%92/" rel="tag">规划</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-RPA常见问题"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/27/RPA%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"
    >RPA常见问题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/27/RPA%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2019-06-27T03:38:05.000Z" itemprop="datePublished">2019-06-27</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="What-is-RPA"><a href="#What-is-RPA" class="headerlink" title="What is RPA?"></a>What is RPA?</h2><p> RPA (Robotic Process Automation) is a type of automation where a machine or computer mimics a human’s action in completing rules based tasks.</p>
<h2 id="How-RPA-is-different-from-Test-Automation"><a href="#How-RPA-is-different-from-Test-Automation" class="headerlink" title="How RPA is different from Test Automation?"></a>How RPA is different from Test Automation?</h2><ul>
<li><p>Both Test Automation and RPA involve “Automation” and offer advantages of reducing manual intervention and delivering quality, but these two or different…</p>
</li>
<li><p>RPA – Robotic Process Automation, Automates Business Processes like Data Entry, Queries, Calculations, and Transactions in various organizations. where as Test Automation Automates Software Testing Processes,It automates Functional Testing, Performance Testing, Web Services Testing Etc. of Software Products.</p>
</li>
<li><p>Using Blueprism, Automation Anywhere, Uipath etc… tools we can automate Business Automation, and Using Selenium, UFT&#x2F;QTP, LoadRunner SoapUI etc…Software Tools we can automate software Testing Processes.</p>
</li>
</ul>
<h2 id="What-type-of-processes-can-be-automated-with-RPA"><a href="#What-type-of-processes-can-be-automated-with-RPA" class="headerlink" title="What type of processes can be automated with RPA?"></a>What type of processes can be automated with RPA?</h2><ul>
<li><p>RPA is software-based, it can be used to perform various tasks. These include Maintenance of records, queries, calculations, and transactions.</p>
</li>
<li><p>Additionally, any application commonly used by your company can be operated by RPA. Citrix, .NET, HTML, and Java are all technologies commonly supported by RPA.</p>
</li>
<li><p>Compatible systems include Mainframe Terminals, SAP, Oracle, Blackline, and many more. RPA can be configured to perform almost any rule-based task.</p>
</li>
</ul>
<h2 id="What-are-the-Popular-RPA-Tools"><a href="#What-are-the-Popular-RPA-Tools" class="headerlink" title="What are the Popular RPA Tools?"></a>What are the Popular RPA Tools?</h2><p>Popular Robotic Process Automation (RPA) Tools to automate the Business Processes.</p>
<ul>
<li><p>Blue Prism</p>
<p>Blue Prism is the trading name of the Blue Prism Group, a UK multinational software corporation, the term Robotic Process Automation was invented by Blue Prism, that itself proves they are the pioneers in Robotic Process Automation Software Development.</p>
</li>
<li><p>Automation Anywhere</p>
<p>Automation Anywhere is another top RPA vendors providing powerful and User- friendly robotic process automation tools to automate tasks of any complexity.</p>
</li>
<li><p>UiPath</p>
<p>UiPath is a Windows desktop Robotic Process Automation (RPA) Software used for automation for various web,desktop,citrix,etc based applications.</p>
</li>
</ul>
<p>Other Popular RPA tools are Pega, Nice, and Workfusion etc…</p>
<h2 id="How-to-Select-a-RPA-Tool"><a href="#How-to-Select-a-RPA-Tool" class="headerlink" title="How to Select a RPA Tool?"></a>How to Select a RPA Tool?</h2><p>By considering several factors we select a RPA Tool for Businness Process Automation,</p>
<ul>
<li><p>Technology</p>
<p>First and foremost is the technology in which RPA tool has been built, like Microsift .NET, IBM Mainframe, Java, web etc. The tool has to be platform independent, considering many of the organizations perform their day to day tasks outside the local desktop using Citrix or Virtual machines etc. So the automation solution should be able to support any application and platform.</p>
</li>
<li><p>Interface</p>
<p>Next most important feature is the RPA tool’s user interface. A complex user interface will delay the process of implementation and increase the learning curve and adaptability. A more user friendly interface like drag and drop, auto capture, image recognition etc. would be better.</p>
</li>
<li><p>Management</p>
<p>It is important to know how effectively and easily the robots can be managed, considering these robots are going to be replacing your human workforce. There should be a high level of visibility and control in terms of process monitoring, process change, development, re-use etc.</p>
</li>
<li><p>Security</p>
<p>Security is one of the most important factor to be considered. How safe are the robots when compared to the humans? After all robots&#x2F;RPA tools are also a piece of software, so how much more security controls can be implemented, test the code rigidly and lock it up, the better.</p>
</li>
</ul>
<h2 id="6-What-are-the-important-Phases-of-RPA-Life-Cycle"><a href="#6-What-are-the-important-Phases-of-RPA-Life-Cycle" class="headerlink" title="6) What are the important Phases of RPA Life Cycle?"></a>6) What are the important Phases of RPA Life Cycle?</h2><p>Phases of RPA Life Cycle:</p>
<ul>
<li><p>Analysis</p>
<p>Life cycle in RPA begins with analysis phase. Business team and RPA Architect work together to identify a business process for RPA development.</p>
</li>
<li><p>Bot Development</p>
<p>RPA developer(Team) starts working on requirement in their environment possibly a separate development environment.</p>
</li>
<li><p>Testing</p>
<p>There are two approaches on which testing is being carried out-</p>
<p>Some organisations conduct Testing by Separate Testing Team, While other few have a dedicated testing team which perform a dedicated QA like normal SDLC flow.</p>
<p>Best Practice is to have a dedicated testing team which perform QA of developed bot.</p>
</li>
<li><p>Deployment and Maintenance-</p>
<p>After the Development and Testing closure, a bot is ready for deployment and enters maintenance phase.</p>
</li>
</ul>
<h2 id="How-to-implement-Robotic-Process-Automation"><a href="#How-to-implement-Robotic-Process-Automation" class="headerlink" title="How to implement Robotic Process Automation?"></a>How to implement Robotic Process Automation?</h2><p>There are mainly 6 steps to be followed for a successful RPA implementation.</p>
<ul>
<li>Identify the Automation Opportunities</li>
<li>Optimize the Identified Processes</li>
<li>Build a Business Case</li>
<li>RPA Vendor Selection</li>
<li>Pilot RPA Development</li>
<li>Ramp up and Continue Building Expertise RPA bots.</li>
</ul>
<h2 id="Explain-about-RPA-Testing"><a href="#Explain-about-RPA-Testing" class="headerlink" title="Explain about RPA Testing?"></a>Explain about RPA Testing?</h2><p>At a broader level RPA testing can be grouped in to 2 categories.</p>
<blockquote>
<p>First one is testing the business processes automated through RPA and the second one is testing the instructions passed on to Robots to execute user actions.</p>
</blockquote>
<ul>
<li><p>Business Process Testing</p>
<p>This is nothing but the conventional testing done for any application. The end to end business process automated by the RPA tool has to be validated here.</p>
<p>If we have to test the RPA use case, a scenario would be to test if Robot is able to get the file from server, read the data from application, compare these two data sources, identify any conflicts and send an email notification to respective owner. All combinations of data are to be validate like it is done for any other application.</p>
</li>
<li><p>Robots Testing</p>
<p>There are multiple aspects when testing Robots. The first one is interpretation of the models by Robots. It is very important that the Robots are able to interpret the instructions given through the models correctly and able to perform actions on the UI accordingly. This need not be tested regularly but when the model is designed&#x2F;modified or before a Robot is put into use.</p>
</li>
</ul>
<h2 id="What-are-different-RPA-Jobs"><a href="#What-are-different-RPA-Jobs" class="headerlink" title="What are different RPA Jobs?"></a>What are different RPA Jobs?</h2><p>Robotics Process Automation jobs can be broadly classify into 3 major categories.</p>
<ul>
<li>RPA Developers&#x2F;Architects</li>
<li>Robotic Process Automation Consultants</li>
<li>RPA Leads&#x2F;Managers</li>
</ul>
<h2 id="What-are-advantages-of-Robotic-Process-Automation"><a href="#What-are-advantages-of-Robotic-Process-Automation" class="headerlink" title="What are advantages of Robotic Process Automation?"></a>What are advantages of Robotic Process Automation?</h2><ul>
<li><p>Faster</p>
<p>As bots are handling the execution here, a larger amount of work can be done in a relatively much shorter period. A faster delivery, coupled with accuracy.</p>
</li>
<li><p>Cost Effective</p>
<p>It has been estimated that using robotics cuts operational costs, Robots can operate 24&#x2F;7 and take no vacation, when compared to humans.</p>
</li>
<li><p>Consistency</p>
<p>Robotics is a safe, non-invasive technology that doesn’t interfere with the inherent systems and provides perfect consistency in performing the activities across the board, each time and every time.</p>
</li>
<li><p>Accuracy &amp; Quality</p>
<p>RPA offers improved services to processes that have a high probability of human error, thereby increasing accuracy. Robots are reliable, and consistent and do not whine when expected to work tirelessly.</p>
</li>
<li><p>Increased Customer Satisfaction</p>
<p>Delivering better quality of work with high accuracy and improved customer&#x2F;client interaction leads to increased customer and client satisfaction.</p>
</li>
<li><p>Improved Analytics</p>
<p>Having access to error free, accurate data from various sources would improve the quality of analytics in the process.</p>
</li>
</ul>
<h2 id="What-are-Limitations-of-Robotic-Process-Automation"><a href="#What-are-Limitations-of-Robotic-Process-Automation" class="headerlink" title="What are Limitations of Robotic Process Automation?"></a>What are Limitations of Robotic Process Automation?</h2><ul>
<li><p>RPA certainly boosts company efficiency by automating repetitive human effort, but there are limitations to the types of work that it can be applied to – specifically ones that require judgement.</p>
</li>
<li><p>RPA cannot read any data that is non-electronic with unstructured inputs.</p>
</li>
<li><p>companies need to be aware of diverse inputs coming from multiple sources.</p>
</li>
<li><p>RPA is not a cognitive computing solution. It cannot learn from experience and therefore has a ‘shelf life’. As processes evolve</p>
</li>
<li><p>Applying RPA to a broken and inefficient process will not fix it. RPA is not a Business Process Management solution and does not bring an end-to-end process view.</p>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RPA/" rel="tag">RPA</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Libra环境搭建和第一笔交易"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/22/Libra%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E7%AC%AC%E4%B8%80%E7%AC%94%E4%BA%A4%E6%98%93/"
    >Libra环境搭建和第一笔交易</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/22/Libra%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E7%AC%AC%E4%B8%80%E7%AC%94%E4%BA%A4%E6%98%93/" class="article-date">
  <time datetime="2019-06-22T07:58:02.000Z" itemprop="datePublished">2019-06-22</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><ul>
<li>Linux或者Mac OS系统，本次测试使用CentOS 7.5</li>
<li>稳定的网络环境，并且连接到互联网</li>
<li>提前安装Git</li>
<li>如果是MacOS，需要提前安装Homebrew</li>
<li>yum 或者 apt-get命令</li>
</ul>
<p>踩的坑：</p>
<ul>
<li>安装包：yum install -y git gcc gcc-c++ ncurses-devel bison</li>
<li>CMake版本低(2.8)导致编译错误，升级到3.14.4解决</li>
</ul>
<h1 id="安装Libra-Core"><a href="#安装Libra-Core" class="headerlink" title="安装Libra Core"></a>安装Libra Core</h1><p>克隆代码库</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/libra/libra.git</span><br></pre></td></tr></table></figure>

<p>运行安装脚本，安装依赖</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> libra</span><br><span class="line">./scripts/dev_setup.sh</span><br></pre></td></tr></table></figure>
<p>该初始化脚本执行了如下动作：</p>
<ul>
<li>安装rustup – rustup是Rust官方的跨平台安装工具器, Libra Core使用Rust来实现</li>
<li>安装rust-toolchain的必要版本</li>
<li>安装CMake  – 管理编译和构建</li>
<li>安装protoc – protocol buffers的编译器</li>
<li>安装Go     – 为了构建protocol buffers使用</li>
</ul>
<h1 id="构建Libra-CLI客户端并连接到测试网络"><a href="#构建Libra-CLI客户端并连接到测试网络" class="headerlink" title="构建Libra CLI客户端并连接到测试网络"></a>构建Libra CLI客户端并连接到测试网络</h1><p>执行客户端脚本来连接到测试网络上的节点，时间较长，需耐心等待。。。</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./scripts/<span class="keyword">cli</span>/start_cli_testnet.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure>
<p>一旦连接到网络会看到如下输出信息：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Connected <span class="keyword">to</span> validator at: ac.testnet.libra.<span class="built_in">or</span><span class="variable">g:8000</span></span><br><span class="line">usage: <span class="symbol">&lt;command&gt;</span> <span class="symbol">&lt;args&gt;</span></span><br><span class="line"></span><br><span class="line">Use the following commands:</span><br><span class="line"></span><br><span class="line">account | <span class="keyword">a</span></span><br><span class="line">trueAccount operations</span><br><span class="line">query | q</span><br><span class="line">trueQuery operations</span><br><span class="line">transfer | transferb | t | tb</span><br><span class="line">true<span class="symbol">&lt;sender_account_address&gt;</span>|<span class="symbol">&lt;sender_account_ref_id&gt;</span> <span class="symbol">&lt;receiver_account_address&gt;</span>|<span class="symbol">&lt;receiver_account_ref_id&gt;</span> <span class="symbol">&lt;number_of_coins&gt;</span> [gas_unit_price_in_micro_libras (default=<span class="number">0</span>)] [max_gas_amount_in_micro_libras (default <span class="number">10000</span>)] Suffix <span class="string">&#x27;b&#x27;</span> <span class="keyword">is</span> <span class="keyword">for</span> blocking.</span><br><span class="line">trueTransfer coins (in libra) from account <span class="keyword">to</span> another.</span><br><span class="line"><span class="keyword">help</span> | h</span><br><span class="line">truePrints this <span class="keyword">help</span></span><br><span class="line"><span class="keyword">quit</span> | q!</span><br><span class="line">trueExit this client</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please, <span class="built_in">input</span> commands:</span><br><span class="line"></span><br><span class="line">libra%</span><br></pre></td></tr></table></figure>

<p>使用help可以看到命令列表，可以执行的命令如下：</p>
<ul>
<li>account – 账户相关操作<ul>
<li>create – 创建账户</li>
<li>list – 查看所有账户列表</li>
<li>mint – 增加libra币</li>
<li>write <file_path>  – 保存libra钱包到磁盘</li>
<li>recover <file_path>  – 从磁盘恢复libra钱包</li>
</ul>
</li>
<li>query – 查询操作<ul>
<li>balance <account_ref_id>|<account_address> – 查询账户余额</li>
<li>sequence – 获得账户当前sequence number</li>
<li>account_state – 获取账户最近状态</li>
<li>txn_acc_seq – 通过账号或者sequence number获取已提交的交易</li>
<li>txn_range – 通过version范围获取已提交的交易</li>
<li>event – 通过账号或者事件类型来获取事件列表</li>
</ul>
</li>
<li>transfer – 转账操作<ul>
<li>transfer – 从一个账户转libra币到另外一个账户</li>
<li>transferb – transfer的阻塞式操作</li>
</ul>
</li>
<li>quit – 退出连接</li>
</ul>
<h1 id="创建账户"><a href="#创建账户" class="headerlink" title="创建账户"></a>创建账户</h1><p>创建账户A</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account create</span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Creating</span>/retrieving <span class="keyword">next</span> account from wallet</span><br><span class="line"><span class="title class_">Created</span>/retrieved account <span class="comment">#0 address 1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span></span><br></pre></td></tr></table></figure>
<p>创建账户B</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account create</span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Creating</span>/retrieving <span class="keyword">next</span> account from wallet</span><br><span class="line"><span class="title class_">Created</span>/retrieved account <span class="comment">#1 address fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span></span><br></pre></td></tr></table></figure>
<p>列出本地所有账户信息：</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account list</span><br><span class="line">User account <span class="built_in">index</span>: <span class="number">0</span>, address: <span class="number">1</span>b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158, <span class="keyword">sequence</span> <span class="keyword">number</span>: <span class="number">0</span>, <span class="keyword">status</span>: <span class="keyword">Local</span></span><br><span class="line">User account <span class="built_in">index</span>: <span class="number">1</span>, address: fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691, <span class="keyword">sequence</span> <span class="keyword">number</span>: <span class="number">0</span>, <span class="keyword">status</span>: <span class="keyword">Local</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>A和B只是为了方便书面称谓，Libra目前不支持给账户命名，但如上A对应编号为0的账户，B对应编号为1的账户。地址后面的 sequence 指的是这个账户主动发起转账的次数，目前两个账户都还没有发起过转账，所以都是 0。</p>
</blockquote>
<h1 id="给账户铸币"><a href="#给账户铸币" class="headerlink" title="给账户铸币"></a>给账户铸币</h1><p>给A账户铸币1000</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account mint <span class="number">0</span> <span class="number">1000</span></span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Minting</span> coins</span><br><span class="line"><span class="title class_">Mint</span> request submitted</span><br></pre></td></tr></table></figure>
<p>可能会由于网络原因失败</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libra% account mint 0 1000</span><br><span class="line">&gt;&gt; Minting coins</span><br><span class="line"></span><br><span class="line">[<span class="built_in">ERROR</span>] <span class="built_in">Error</span> minting coins: <span class="built_in">error</span> trying <span class="keyword">to</span> connect: failed <span class="keyword">to</span> lookup<span class="built_in"> address </span>information: Name <span class="keyword">or</span><span class="built_in"> service </span><span class="keyword">not</span> known</span><br></pre></td></tr></table></figure>

<p>给B账户铸币50</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libra% account mint <span class="number">1</span> <span class="number">50</span></span><br><span class="line"><span class="meta prompt_">&gt;&gt;</span> <span class="title class_">Minting</span> coins</span><br><span class="line"><span class="title class_">Mint</span> request submitted</span><br></pre></td></tr></table></figure>

<p>查询账户余额</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">libra</span>% query balance <span class="number">0</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">libra</span>% query balance <span class="number">1</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">50</span></span><br></pre></td></tr></table></figure>

<h1 id="发起转账交易"><a href="#发起转账交易" class="headerlink" title="发起转账交易"></a>发起转账交易</h1><p>查询账户的sequence，由于两个账户都没有交易记录，所以都是0</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">0</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">0</span></span><br><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">1</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>从A给B转账100</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libra% transfer <span class="number">0</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line">&gt;&gt; Transferring</span><br><span class="line"><span class="keyword">Transaction</span> submitted <span class="keyword">to</span> <span class="keyword">validator</span></span><br><span class="line"><span class="keyword">To</span> query <span class="keyword">for</span> <span class="keyword">transaction</span> status, run: query txn_acc_seq <span class="number">0</span> <span class="number">0</span> &lt;fetch_events=<span class="keyword">true</span>|<span class="keyword">false</span>&gt;</span><br></pre></td></tr></table></figure>

<p>查询账户余额：</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">libra</span>% query balance <span class="number">0</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">900</span></span><br><span class="line"><span class="attribute">libra</span>% query balance <span class="number">1</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">150</span></span><br></pre></td></tr></table></figure>

<p>再次从A给B转账100</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">libra% transferb <span class="number">0</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line">&gt;&gt; Transferring</span><br><span class="line">[waiting <span class="keyword">Transaction</span> completed, <span class="built_in">found</span> <span class="keyword">sequence</span> number <span class="number">2</span>]</span><br><span class="line">Finished <span class="keyword">transaction</span>!</span><br><span class="line"><span class="keyword">To</span> query <span class="keyword">for</span> <span class="keyword">transaction</span> status, run: query txn_acc_seq <span class="number">0</span> <span class="number">1</span> &lt;fetch_events=<span class="keyword">true</span>|<span class="keyword">false</span>&gt;</span><br></pre></td></tr></table></figure>
<p>再查询账户余额：</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">libra</span>% query balance <span class="number">1</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">250</span></span><br><span class="line"><span class="attribute">libra</span>% query balance <span class="number">0</span></span><br><span class="line"><span class="attribute">Balance</span> is: <span class="number">800</span></span><br></pre></td></tr></table></figure>

<p>查询A和B账户的sequence， A的账户sequence number是2表示A发起了两个交易，B账户的sequence number是0表示B账户没有发起交易</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">0</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">2</span></span><br><span class="line">libra% query <span class="keyword">sequence</span> <span class="number">1</span></span><br><span class="line">&gt;&gt; Getting current <span class="keyword">sequence</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">Sequence</span> <span class="keyword">number</span> is: <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>可以使用 query txn_acc_seq 0 0 true查询详细的转账信息:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">libra%</span> <span class="string">query</span> <span class="string">txn_acc_seq</span> <span class="number">0</span> <span class="number">0</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&gt;&gt;</span> <span class="string">Getting</span> <span class="string">committed</span> <span class="string">transaction</span> <span class="string">by</span> <span class="string">account</span> <span class="string">and</span> <span class="string">sequence</span> <span class="string">number</span></span><br><span class="line"><span class="attr">Committed transaction:</span> <span class="string">SignedTransaction</span> &#123;</span><br><span class="line"> <span class="attr">raw_txn:</span> <span class="string">RawTransaction</span> &#123;</span><br><span class="line">true<span class="attr">sender:</span> <span class="string">1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span>,</span><br><span class="line">true<span class="attr">sequence_number:</span> <span class="number">0</span>,</span><br><span class="line">true<span class="attr">payload:</span> &#123;,</span><br><span class="line">truetrue<span class="attr">transaction:</span> <span class="string">peer_to_peer_transaction</span>,</span><br><span class="line">truetrue<span class="attr">args:</span> [</span><br><span class="line">truetruetrue&#123;<span class="attr">ADDRESS:</span> <span class="string">fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span>&#125;,</span><br><span class="line">truetruetrue&#123;<span class="attr">U64:</span> <span class="number">100000000</span>&#125;,</span><br><span class="line">truetrue]</span><br><span class="line">true&#125;,</span><br><span class="line">true<span class="attr">max_gas_amount:</span> <span class="number">10000</span>,</span><br><span class="line">true<span class="attr">gas_unit_price:</span> <span class="number">0</span>,</span><br><span class="line">true<span class="attr">expiration_time:</span> <span class="string">1561190218s</span>,</span><br><span class="line">&#125;,</span><br><span class="line"> <span class="attr">public_key:</span> <span class="string">2a9c5aa44975912b7eda3bc9df6047d19dd5f4937404bade1f922acce9cab42c</span>,</span><br><span class="line"> <span class="attr">signature:</span> <span class="string">Signature(</span> <span class="attr">R: CompressedEdwardsY:</span> [<span class="number">203</span>, <span class="number">171</span>, <span class="number">64</span>, <span class="number">238</span>, <span class="number">247</span>, <span class="number">224</span>, <span class="number">54</span>, <span class="number">137</span>, <span class="number">221</span>, <span class="number">158</span>, <span class="number">125</span>, <span class="number">30</span>, <span class="number">230</span>, <span class="number">58</span>, <span class="number">66</span>, <span class="number">151</span>, <span class="number">147</span>, <span class="number">23</span>, <span class="number">112</span>, <span class="number">148</span>, <span class="number">192</span>, <span class="number">216</span>, <span class="number">201</span>, <span class="number">210</span>, <span class="number">123</span>, <span class="number">53</span>, <span class="number">94</span>, <span class="number">96</span>, <span class="number">129</span>, <span class="number">180</span>, <span class="number">182</span>, <span class="number">126</span>], <span class="attr">s:</span> <span class="string">Scalar</span>&#123;</span><br><span class="line">true<span class="attr">bytes:</span> [<span class="number">71</span>, <span class="number">53</span>, <span class="number">181</span>, <span class="number">160</span>, <span class="number">59</span>, <span class="number">152</span>, <span class="number">34</span>, <span class="number">26</span>, <span class="number">218</span>, <span class="number">59</span>, <span class="number">72</span>, <span class="number">202</span>, <span class="number">235</span>, <span class="number">202</span>, <span class="number">104</span>, <span class="number">248</span>, <span class="number">52</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">191</span>, <span class="number">171</span>, <span class="number">105</span>, <span class="number">222</span>, <span class="number">117</span>, <span class="number">50</span>, <span class="number">57</span>, <span class="number">155</span>, <span class="number">35</span>, <span class="number">206</span>, <span class="number">52</span>, <span class="number">185</span>, <span class="number">14</span>],</span><br><span class="line">&#125; <span class="string">)</span>,</span><br><span class="line"> &#125;</span><br><span class="line"><span class="attr">Events:</span></span><br><span class="line"><span class="string">ContractEvent</span> &#123; <span class="attr">access_path:</span> <span class="string">AccessPath</span> &#123; <span class="attr">address:</span> <span class="string">1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span>, <span class="attr">type:</span> <span class="string">Resource</span>, <span class="attr">hash:</span> <span class="string">&quot;217da6c6b3e19f1825cfb2676daecce3bf3de03cf26647c78df00b371b25cc97&quot;</span>, <span class="attr">suffix:</span> <span class="string">&quot;/sent_events_count/&quot;</span> &#125; , <span class="attr">index:</span> <span class="number">0</span>, <span class="attr">event_data:</span> <span class="string">AccountEvent</span> &#123; <span class="attr">account:</span> <span class="string">fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span>, <span class="attr">amount:</span> <span class="number">100000000</span> &#125; &#125;</span><br><span class="line"><span class="string">ContractEvent</span> &#123; <span class="attr">access_path:</span> <span class="string">AccessPath</span> &#123; <span class="attr">address:</span> <span class="string">fc5fecde4dee37102a49085725f5d4491d9e9cda00afba078988eba0696c4691</span>, <span class="attr">type:</span> <span class="string">Resource</span>, <span class="attr">hash:</span> <span class="string">&quot;217da6c6b3e19f1825cfb2676daecce3bf3de03cf26647c78df00b371b25cc97&quot;</span>, <span class="attr">suffix:</span> <span class="string">&quot;/received_events_count/&quot;</span> &#125; , <span class="attr">index:</span> <span class="number">0</span>, <span class="attr">event_data:</span> <span class="string">AccountEvent</span> &#123; <span class="attr">account:</span> <span class="string">1b7f0e3123d52cd4b80d451da785a1db96a5ec6a9cdcd84d5d344341b8e77158</span>, <span class="attr">amount:</span> <span class="number">100000000</span> &#125; &#125;</span><br></pre></td></tr></table></figure>

<p>Over!</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Git仓库的子目录独立成新仓库"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/17/Git%E4%BB%93%E5%BA%93%E7%9A%84%E5%AD%90%E7%9B%AE%E5%BD%95%E7%8B%AC%E7%AB%8B%E6%88%90%E6%96%B0%E4%BB%93%E5%BA%93/"
    >Git仓库的多个子目录独立成一个新仓库</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/17/Git%E4%BB%93%E5%BA%93%E7%9A%84%E5%AD%90%E7%9B%AE%E5%BD%95%E7%8B%AC%E7%AB%8B%E6%88%90%E6%96%B0%E4%BB%93%E5%BA%93/" class="article-date">
  <time datetime="2019-05-17T06:49:14.000Z" itemprop="datePublished">2019-05-17</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="需求描述"><a href="#需求描述" class="headerlink" title="需求描述"></a>需求描述</h2><p>我有一个仓库AAA，目录结构如下：</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">├── .git</span><br><span class="line">├── <span class="keyword">common</span>-api     </span><br><span class="line">├── commons-pojo</span><br><span class="line">├── commons-utils  </span><br><span class="line">├── account </span><br><span class="line">└── payment </span><br><span class="line">└── <span class="built_in">product</span></span><br></pre></td></tr></table></figure>
<p>现在我需要把common-api、commons-pojo、commons-utils独立为一个新仓库xxx-common<br>从网上找到可以用”git filter-branch”和”git subtree split”两种方式独立目录为仓库，但是”git subtree split”只能独立一个目录为仓库，如果需要独立多个目录为仓库需要使用”git filter-branch”。</p>
<h2 id="实施步骤"><a href="#实施步骤" class="headerlink" title="实施步骤"></a>实施步骤</h2><h3 id="1-Clone原有仓库到本地"><a href="#1-Clone原有仓库到本地" class="headerlink" title="1. Clone原有仓库到本地"></a>1. Clone原有仓库到本地</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git</span> clone git@<span class="number">192</span>.<span class="number">168</span>.<span class="number">0</span>.xxx:test/AAA.git</span><br></pre></td></tr></table></figure>

<h3 id="2-在本地创建需要保留的分支"><a href="#2-在本地创建需要保留的分支" class="headerlink" title="2. 在本地创建需要保留的分支"></a>2. 在本地创建需要保留的分支</h3><p>下面示例中保留了dev和feature_20190516_xxx_aaa_bbb</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -<span class="keyword">b </span>dev <span class="keyword">origin/dev</span></span><br><span class="line"><span class="keyword"></span>git checkout -<span class="keyword">b </span>feature_20190516_xxx_aaa_bbb <span class="keyword">origin/feature_20190516_xxx_aaa_bbb</span></span><br></pre></td></tr></table></figure>

<h3 id="3-取消远程库的关联"><a href="#3-取消远程库的关联" class="headerlink" title="3. 取消远程库的关联"></a>3. 取消远程库的关联</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="built_in">rm</span> origin</span><br></pre></td></tr></table></figure>

<h3 id="4-删除所有tag"><a href="#4-删除所有tag" class="headerlink" title="4. 删除所有tag"></a>4. 删除所有tag</h3><p>需要删除所有的tag，否则会出错</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">tag</span> <span class="title">-l</span> | xargs git <span class="keyword">tag</span> <span class="title">-d</span></span><br></pre></td></tr></table></figure>

<h3 id="5-保留需要的目录和git历史"><a href="#5-保留需要的目录和git历史" class="headerlink" title="5. 保留需要的目录和git历史"></a>5. 保留需要的目录和git历史</h3><p>把”GIT_COMMIT –”后面的目录改为自己需要保留的</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">git filter</span><span class="literal">-</span><span class="comment">branch</span> <span class="literal">-</span><span class="comment">f</span> <span class="literal">--</span><span class="comment">prune</span><span class="literal">-</span><span class="comment">empty</span> <span class="literal">--</span><span class="comment">index</span><span class="literal">-</span><span class="comment">filter \</span></span><br><span class="line">  <span class="comment">&#x27;git rm</span> <span class="literal">--</span><span class="comment">cached</span> <span class="literal">-</span><span class="comment">r</span> <span class="literal">-</span><span class="comment">q</span> <span class="literal">--</span> <span class="string">.</span> <span class="comment">; git reset</span> <span class="literal">-</span><span class="comment">q $GIT_COMMIT</span> <span class="literal">--</span> <span class="comment">commons</span><span class="literal">-</span><span class="comment">api  commons</span><span class="literal">-</span><span class="comment">pojo  commons</span><span class="literal">-</span><span class="comment">utils&#x27;</span> <span class="literal">--</span> <span class="literal">--</span><span class="comment">all</span></span><br></pre></td></tr></table></figure>

<h3 id="6-清理仓库并减小体积"><a href="#6-清理仓库并减小体积" class="headerlink" title="6. 清理仓库并减小体积"></a>6. 清理仓库并减小体积</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reset <span class="params">--hard</span></span><br><span class="line">git for-each-ref <span class="params">--format=</span><span class="string">&quot;%(refname)&quot;</span> refs/original/ | xargs -n 1 git update-ref -d</span><br><span class="line">git reflog expire <span class="params">--expire=now</span> <span class="params">--all</span></span><br><span class="line">git gc <span class="params">--aggressive</span> <span class="params">--prune=now</span></span><br></pre></td></tr></table></figure>

<h3 id="7-关联到新的远程库-空仓库-，并推送代码到远端"><a href="#7-关联到新的远程库-空仓库-，并推送代码到远端" class="headerlink" title="7. 关联到新的远程库(空仓库)，并推送代码到远端"></a>7. 关联到新的远程库(空仓库)，并推送代码到远端</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">add</span> origin git@<span class="number">192.168</span><span class="number">.0</span><span class="number">.</span>xxx:<span class="keyword">test</span>/xxx-<span class="meta">common</span><span class="number">.</span>git</span><br><span class="line">git <span class="keyword">push</span> -u origin master</span><br><span class="line">git <span class="keyword">push</span> -u origin dev</span><br><span class="line">git <span class="keyword">push</span> -u origin feature_20190516_xxx_aaa_bbb</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-上线发布流程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/16/%E4%B8%8A%E7%BA%BF%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/"
    >上线发布流程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/04/16/%E4%B8%8A%E7%BA%BF%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/" class="article-date">
  <time datetime="2019-04-16T07:34:20.000Z" itemprop="datePublished">2019-04-16</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="上线发布流程图"><a href="#上线发布流程图" class="headerlink" title="上线发布流程图"></a>上线发布流程图</h2><p><img src="/images/officially_release_process.png"></p>
<h2 id="计划阶段"><a href="#计划阶段" class="headerlink" title="计划阶段"></a>计划阶段</h2><p>在迭代完成前半周的会议上确认迭代是否需要发布版本，如果需要则制定发布计划并确定是否需要做回归测试</p>
<blockquote>
<p>是否需要回归测试？</p>
</blockquote>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">现有的分支模型为开发直接从Master拉取<span class="built_in">feature</span>分支，测试从Master拉取release/test分组然后合并<span class="built_in">feature</span> branch到release/test形成测试分支</span><br><span class="line">上线前如果Master分支上没有其他<span class="built_in">feature</span>上线，则直接使用release/test打包上线</span><br><span class="line"></span><br><span class="line">以下情况需要回归测试：</span><br><span class="line">上线前如果Master分支上有其他<span class="built_in">feature</span>上线，则从Master拉取release/pro并合并相关<span class="built_in">feature</span> branch打包上线，并进行回归测试</span><br></pre></td></tr></table></figure>

<h2 id="发布策略"><a href="#发布策略" class="headerlink" title="发布策略"></a>发布策略</h2><p>能做灰度发布尽量灰度，并且设计开关，有些Bug在测试环境测不出来</p>
<p>常见策略：</p>
<ul>
<li>灰度&#x2F;金丝雀</li>
<li>滚动发布</li>
<li>蓝绿发布</li>
</ul>
<h2 id="上线审批"><a href="#上线审批" class="headerlink" title="上线审批"></a>上线审批</h2><p>使用邮件或者TAPD流程进行审批</p>
<p>如下为内容框架：</p>
<ul>
<li>上线时间</li>
<li>上线内容</li>
<li>影响范围<ul>
<li>影响到的服务</li>
<li>数据变更说明</li>
<li>配置变更说明</li>
</ul>
</li>
<li>详细操作步骤(测试和运维可以操作的step by step说明)</li>
<li>上线注意事项</li>
<li>数据监控</li>
</ul>
<h2 id="上线后"><a href="#上线后" class="headerlink" title="上线后"></a>上线后</h2><ul>
<li>线上验收<ul>
<li>验证特性的正确性</li>
<li>验证所有业务流程</li>
<li>检查各项数据的正确性</li>
</ul>
</li>
<li>数据监控<ul>
<li>线上数据的正确性</li>
<li>临界值监控</li>
</ul>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2018-2024
        <i class="ri-heart-fill heart_icon"></i> 李一
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="二三"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2024/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->
 
<script src="/js/clickBoom2.js"></script>
 
<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>