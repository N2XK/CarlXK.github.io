<!DOCTYPE html>


<html lang="zh-Hans">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="Logic will get you from A to B. Imagination will take you everywhere." />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 二三</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="二三" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      


<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '我见青山多妩媚，青山见我应如是', ''],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-docker安装milvus单机版"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2024/03/25/docker%E5%AE%89%E8%A3%85milvus%E5%8D%95%E6%9C%BA%E7%89%88/"
    >docker安装部署milvus单机版</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2024/03/25/docker%E5%AE%89%E8%A3%85milvus%E5%8D%95%E6%9C%BA%E7%89%88/" class="article-date">
  <time datetime="2024-03-25T04:49:00.000Z" itemprop="datePublished">2024-03-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="docker安装部署milvus单机版"><a href="#docker安装部署milvus单机版" class="headerlink" title="docker安装部署milvus单机版"></a>docker安装部署milvus单机版</h2><p>使用Docker Compose安装 Milvus单机版，快速体验milvus。</p>
<h2 id="启动etcd、minio、milvus"><a href="#启动etcd、minio、milvus" class="headerlink" title="启动etcd、minio、milvus"></a>启动etcd、minio、milvus</h2><p>milvus依赖etcd和minio，因此需要先启动这2个组件。同样也使用docker进行启动。<br>etcd：用来存储milvus的元数据。<br>minio：用来存储milvus的向量数据和索引数据。</p>
<p>新建docker-compose.yml文件，定义etcd、minio、milvus的启动参数，文件内容如下：</p>
<pre><code><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">services:</span></span><br><span class="line"><span class="symbol">etcd:</span></span><br><span class="line"><span class="symbol">    container_name:</span> milvus-etcd</span><br><span class="line"><span class="symbol">    image:</span> quay.io<span class="keyword">/coreos/</span>etcd:v3<span class="number">.5</span><span class="number">.5</span></span><br><span class="line"><span class="symbol">    environment:</span></span><br><span class="line">    - ETCD_AUTO_COMPACTION_MODE=revision</span><br><span class="line">    - ETCD_AUTO_COMPACTION_RETENTION=<span class="number">1000</span></span><br><span class="line">    - ETCD_QUOTA_BACKEND_BYTES=<span class="number">4294967296</span></span><br><span class="line">    - ETCD_SNAPSHOT_COUNT=<span class="number">50000</span></span><br><span class="line"><span class="symbol">    volumes:</span></span><br><span class="line">    - $<span class="punctuation">&#123;</span>DOCKER_VOLUME_DIRECTORY:-.<span class="punctuation">&#125;</span><span class="keyword">/volumes/</span>etcd:/etcd</span><br><span class="line"><span class="symbol">    command:</span> etcd -<span class="attr">advertise-client-urls</span><span class="operator">=</span>http:<span class="comment">//127.0.0.1:2379 -listen-client-urls http://0.0.0.0:2379 --data-dir /etcd</span></span><br><span class="line"><span class="symbol">    healthcheck:</span></span><br><span class="line"><span class="symbol">    test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;etcdctl&quot;</span>, <span class="string">&quot;endpoint&quot;</span>, <span class="string">&quot;health&quot;</span>]</span><br><span class="line"><span class="symbol">    interval:</span> <span class="number">30</span>s</span><br><span class="line"><span class="symbol">    timeout:</span> <span class="number">20</span>s</span><br><span class="line"><span class="symbol">    retries:</span> <span class="number">3</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">minio:</span></span><br><span class="line"><span class="symbol">    container_name:</span> milvus-minio</span><br><span class="line"><span class="symbol">    image:</span> minio/minio:RELEASE<span class="number">.2023</span><span class="number">-03</span><span class="number">-20</span>T20<span class="number">-16</span><span class="number">-18</span>Z</span><br><span class="line"><span class="symbol">    environment:</span></span><br><span class="line"><span class="symbol">    MINIO_ACCESS_KEY:</span> minioadmin</span><br><span class="line"><span class="symbol">    MINIO_SECRET_KEY:</span> minioadmin</span><br><span class="line"><span class="symbol">    ports:</span></span><br><span class="line">    - <span class="string">&quot;9001:9001&quot;</span></span><br><span class="line">    - <span class="string">&quot;9000:9000&quot;</span></span><br><span class="line"><span class="symbol">    volumes:</span></span><br><span class="line">    - $<span class="punctuation">&#123;</span>DOCKER_VOLUME_DIRECTORY:-.<span class="punctuation">&#125;</span><span class="keyword">/volumes/</span>minio:/minio_data</span><br><span class="line"><span class="symbol">    command:</span> minio server /minio_data --console-address <span class="string">&quot;:9001&quot;</span></span><br><span class="line"><span class="symbol">    healthcheck:</span></span><br><span class="line"><span class="symbol">    test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost:9000/minio/health/live&quot;</span>]</span><br><span class="line"><span class="symbol">    interval:</span> <span class="number">30</span>s</span><br><span class="line"><span class="symbol">    timeout:</span> <span class="number">20</span>s</span><br><span class="line"><span class="symbol">    retries:</span> <span class="number">3</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">standalone:</span></span><br><span class="line"><span class="symbol">    container_name:</span> milvus-standalone</span><br><span class="line"><span class="symbol">    image:</span> milvusdb/milvus:v2<span class="number">.3</span><span class="number">.12</span></span><br><span class="line"><span class="symbol">    command:</span> [<span class="string">&quot;milvus&quot;</span>, <span class="string">&quot;run&quot;</span>, <span class="string">&quot;standalone&quot;</span>]</span><br><span class="line"><span class="symbol">    environment:</span></span><br><span class="line"><span class="symbol">    ETCD_ENDPOINTS:</span> etcd:<span class="number">2379</span></span><br><span class="line"><span class="symbol">    MINIO_ADDRESS:</span> minio:<span class="number">9000</span></span><br><span class="line"><span class="symbol">    volumes:</span></span><br><span class="line">    - $<span class="punctuation">&#123;</span>DOCKER_VOLUME_DIRECTORY:-.<span class="punctuation">&#125;</span><span class="keyword">/volumes/</span>milvus:<span class="keyword">/var/</span>lib/milvus</span><br><span class="line"><span class="symbol">    healthcheck:</span></span><br><span class="line"><span class="symbol">    test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost:9091/healthz&quot;</span>]</span><br><span class="line"><span class="symbol">    interval:</span> <span class="number">30</span>s</span><br><span class="line"><span class="symbol">    start_period:</span> <span class="number">90</span>s</span><br><span class="line"><span class="symbol">    timeout:</span> <span class="number">20</span>s</span><br><span class="line"><span class="symbol">    retries:</span> <span class="number">3</span></span><br><span class="line"><span class="symbol">    ports:</span></span><br><span class="line">    - <span class="string">&quot;19530:19530&quot;</span></span><br><span class="line">    - <span class="string">&quot;9091:9091&quot;</span></span><br><span class="line"><span class="symbol">    depends_on:</span></span><br><span class="line">    - <span class="string">&quot;etcd&quot;</span></span><br><span class="line">    - <span class="string">&quot;minio&quot;</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">networks:</span></span><br><span class="line"><span class="symbol">default:</span></span><br><span class="line"><span class="symbol">    name:</span> milvus</span><br></pre></td></tr></table></figure>
</code></pre>
<p>使用docker-compose后台启动<br>    <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker-compose up -d</span></span><br></pre></td></tr></table></figure></p>
<p>查看容器状态<br>    <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="literal">-compose</span> <span class="built_in">ps</span></span><br><span class="line">docker <span class="built_in">ps</span> <span class="literal">-a</span></span><br></pre></td></tr></table></figure></p>
<h2 id="启动milvus客户端attu"><a href="#启动milvus客户端attu" class="headerlink" title="启动milvus客户端attu"></a>启动milvus客户端attu</h2><p>启动attu容器<br>    <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> -d <span class="attribute">--name</span>=attu -p 8000:3000 -e <span class="attribute">MILVUS_URL</span>=0.0.0.0:19530 zilliz/attu:v2.3.8</span><br></pre></td></tr></table></figure></p>
<p>milvus客户端attu(用户名密码为空)：<br>    <a target="_blank" rel="noopener" href="http://192.168.0.1:8000/">http://192.168.0.1:8000/</a></p>
<p>minio客户端地址：<br>    <a target="_blank" rel="noopener" href="http://192.168.0.1:9001/">http://192.168.0.1:9001/</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/milvus/" rel="tag">milvus</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-近期训练计划"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/09/11/%E8%BF%91%E6%9C%9F%E8%AE%AD%E7%BB%83%E8%AE%A1%E5%88%92/"
    >近期训练计划</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2021/09/11/%E8%BF%91%E6%9C%9F%E8%AE%AD%E7%BB%83%E8%AE%A1%E5%88%92/" class="article-date">
  <time datetime="2021-09-11T08:09:01.000Z" itemprop="datePublished">2021-09-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%94%BB%E7%82%BC/">锻炼</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="力量训练"><a href="#力量训练" class="headerlink" title="力量训练"></a>力量训练</h2><h3 id="频度：每周两次"><a href="#频度：每周两次" class="headerlink" title="频度：每周两次"></a>频度：每周两次</h3><h3 id="时间：周一到周五之间时间不定，尽量周二和周四"><a href="#时间：周一到周五之间时间不定，尽量周二和周四" class="headerlink" title="时间：周一到周五之间时间不定，尽量周二和周四"></a>时间：周一到周五之间时间不定，尽量周二和周四</h3><h3 id="计划："><a href="#计划：" class="headerlink" title="计划："></a>计划：</h3><ul>
<li>第一次<ul>
<li>深蹲<ul>
<li>60KG * 10，80KG * 10，100KG * 5，110KG * 3，120KG 2 * 2</li>
<li>尝试 130KG PR</li>
</ul>
</li>
<li>颈后推 30KG 8*4</li>
<li>跳箱 10*4</li>
</ul>
</li>
<li>第二次<ul>
<li>硬拉<ul>
<li>60KG * 10，80KG * 10，100KG * 5，120KG * 3，140KG * 3，150KG * 2</li>
<li>尝试 160KG PR</li>
<li>抓举 40 * 5</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="有氧训练"><a href="#有氧训练" class="headerlink" title="有氧训练"></a>有氧训练</h2><p>跑步5<del>10公里，每周1</del>2次</p>
<h2 id="养生锻炼"><a href="#养生锻炼" class="headerlink" title="养生锻炼"></a>养生锻炼</h2><p>八段锦：每天一遍</p>
<p>两手托天理三焦，一上一下为一次，一共6次<br>左右开弓似射雕，一左一右为一次，一共3次<br>调理脾胃须单举，一左一右为一次，一共3次<br>五劳七伤往后瞧，一左一右为一次，一共3次<br>摆头摆尾去心火，一左一右为一次，一共3次<br>两手攀足固肾腰，一上一下为一次，一共6次<br>攒拳怒目增气力，一左一右为一次，一共3次<br>背后七颠百病消，一起一落为一次，一共7次</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%81%A5%E8%BA%AB/" rel="tag">健身</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%BB%E7%94%9F/" rel="tag">养生</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%91%E6%AD%A5/" rel="tag">跑步</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-读书笔记 - 新一分钟经理人"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/08/10/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%20-%20%E6%96%B0%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/"
    >读书笔记-新一分钟经理人</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2021/08/10/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%20-%20%E6%96%B0%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/" class="article-date">
  <time datetime="2021-08-10T03:58:12.828Z" itemprop="datePublished">2021-08-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/">读后感</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="读书笔记-新一分钟经理人"><a href="#读书笔记-新一分钟经理人" class="headerlink" title="读书笔记-新一分钟经理人"></a><strong>读书笔记-新一分钟经理人</strong></h1><p><img src="/images/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.png"></p>
<h2 id="1-一分钟目标"><a href="#1-一分钟目标" class="headerlink" title="1. 一分钟目标"></a>1. 一分钟目标</h2><h3 id="共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准"><a href="#共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准" class="headerlink" title="共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准"></a>共同制定工作目标，并清楚简洁地描述出来，明确好的工作表现的标准</h3><ul>
<li>一个工作目标、衡量标准和完成期限，应该用一到两段话说明白，读一遍大概花一分钟。把目标简洁地写下来，便于查阅并能把精力集中在最重要的部分</li>
</ul>
<h3 id="2-8原则，对20-的关键任务设定一分钟目标，可能一共只有3到5个工作目标"><a href="#2-8原则，对20-的关键任务设定一分钟目标，可能一共只有3到5个工作目标" class="headerlink" title="2&#x2F;8原则，对20%的关键任务设定一分钟目标，可能一共只有3到5个工作目标"></a>2&#x2F;8原则，对20%的关键任务设定一分钟目标，可能一共只有3到5个工作目标</h3><ul>
<li>每一项清楚描述出来，一个目标大概一页纸，遵循SMART原则</li>
</ul>
<h3 id="规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致"><a href="#规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致" class="headerlink" title="规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致"></a>规定每天用几分钟时间重温自己最重要的目标，用一分钟审视自己的表现，审视是否与目标一致</h3><h3 id="若与目标不一致，反思自己的工作表现，以便调整"><a href="#若与目标不一致，反思自己的工作表现，以便调整" class="headerlink" title="若与目标不一致，反思自己的工作表现，以便调整"></a>若与目标不一致，反思自己的工作表现，以便调整</h3><ul>
<li><p>引导员工自己思考</p>
<ul>
<li>不把猴子背在自己身上</li>
</ul>
</li>
<li><p>在哪里，要去哪里，差距有多大，怎么去？</p>
</li>
</ul>
<h3 id="为什么这么有效"><a href="#为什么这么有效" class="headerlink" title="为什么这么有效"></a><strong>为什么这么有效</strong></h3><ul>
<li><p>把问题浮到水面上</p>
</li>
<li><p>目标透明，量化，回顾(参考OKR)</p>
<ul>
<li><p>对优秀的人一起设定一分钟目标，其余他会自己搞定</p>
</li>
<li><p>对潜力者一起设定目标并定期回顾</p>
</li>
</ul>
</li>
</ul>
<h2 id="2-一分钟称赞"><a href="#2-一分钟称赞" class="headerlink" title="2. 一分钟称赞"></a>2. 一分钟称赞</h2><h3 id="前半分钟"><a href="#前半分钟" class="headerlink" title="前半分钟"></a>前半分钟</h3><ul>
<li><p>及时称赞员工</p>
<ul>
<li><p>及时激励，发现员工做对了事情就立即给予称赞，而不是等到考核</p>
<ul>
<li><p>及时的表扬会鼓舞士气，延时的鼓励会让积极性受损</p>
</li>
<li><p>从心理学的角度来说，人是需要被认可的</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>告诉他们对在哪里–要说的非常具体</p>
<ul>
<li>说明你对员工做的事情很了解，很关心他的状况</li>
</ul>
</li>
<li><p>告诉他们这件事情做对之后，会让你感到多么高兴，对整个团队和其他同事又会有多大帮助。</p>
<ul>
<li>价值赞美</li>
</ul>
</li>
</ul>
<h3 id="停顿一会儿"><a href="#停顿一会儿" class="headerlink" title="停顿一会儿"></a>停顿一会儿</h3><ul>
<li>沉默几秒，让他们静静地体会做对事情带来的喜悦</li>
</ul>
<h3 id="后半分钟"><a href="#后半分钟" class="headerlink" title="后半分钟"></a>后半分钟</h3><ul>
<li><p>鼓励他们以后继续这样做</p>
</li>
<li><p>明确说明你对他们有信心，并会支持他们获得成功</p>
</li>
</ul>
<h3 id="为什么这么做有效"><a href="#为什么这么做有效" class="headerlink" title="为什么这么做有效"></a><strong>为什么这么做有效</strong></h3><ul>
<li><p>训练成功者最重要的是发现他们做对了的事情——开始也许只是大概做对，接着要逐渐引导他们做得越来越完美</p>
<ul>
<li><p>示例：鼓励小孩子走路，从摇摇晃晃到站起来，鼓励最有效</p>
</li>
<li><p>示例：教孩子说会喝水，从指着水，到说水，到喝水</p>
</li>
</ul>
</li>
<li><p>设立一系列小目标，可以帮助人们更顺利的完成整项工作</p>
<ul>
<li>示例：游戏的新手村任务引导，不断完成小目标直到会玩这个游戏，及时的激励和反馈会激发潜力</li>
</ul>
</li>
<li><p>被挑毛病的、饱受打击的人总是尽量少做事情</p>
<ul>
<li>原因在于领导者总是在挑毛病，总是在留意哪些事情未到达期望</li>
</ul>
</li>
<li><p>惩罚不如帮助员工重新设定目标，更正行为，确保其了解该做什么以及怎么做</p>
</li>
</ul>
<h2 id="3-一分钟改正"><a href="#3-一分钟改正" class="headerlink" title="3. 一分钟改正"></a>3. 一分钟改正</h2><h3 id="开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平"><a href="#开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平" class="headerlink" title="开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平"></a>开始前：确认和员工设定的目标是否阐述清楚，如果没有，主动承担责任，并再次详细说明工作目标，这会让人做事很公平</h3><h3 id="前半分钟-1"><a href="#前半分钟-1" class="headerlink" title="前半分钟"></a>前半分钟</h3><ul>
<li><p>错误发生后立即进行更正</p>
<ul>
<li><p>反馈应该及时</p>
</li>
<li><p>工作出了差错，不更正只称赞于事无补。每个人都不喜欢经常被人指出错误，但一次‘更正’可以帮助员工重回工作轨道并完成工作目标，公司和个人才能实现双赢</p>
</li>
</ul>
</li>
<li><p>确认既有的事实，分析错在哪里–要说的非常具体</p>
</li>
<li><p>告诉他们这件事带给你的感受，以及对工作成果可能造成的影响</p>
</li>
</ul>
<h3 id="停顿一会儿-1"><a href="#停顿一会儿-1" class="headerlink" title="停顿一会儿"></a>停顿一会儿</h3><ul>
<li>沉默几秒，让他们审视锁犯的错误</li>
</ul>
<h3 id="后半分钟-1"><a href="#后半分钟-1" class="headerlink" title="后半分钟"></a>后半分钟</h3><ul>
<li><p>告诉对方，他们的实际能力比这次表现出来更强， 你认为他们很不错</p>
<ul>
<li>特别期待再跟我碰面——只要不是因为犯了同样的错误</li>
</ul>
</li>
<li><p>告诉对方，你对他们有信心，任然信任他们</p>
</li>
<li><p>更正过去，整件事就过去了</p>
</li>
</ul>
<h3 id="为什么这么做有效-1"><a href="#为什么这么做有效-1" class="headerlink" title="为什么这么做有效"></a><strong>为什么这么做有效</strong></h3><ul>
<li><p>反馈应该是及时的，一旦发现下属做错事，立即指出来</p>
<ul>
<li>及时提出意见，就可以一个一个地处理问题，被批评的人也不会觉得那么难接受，反而会听进心里去</li>
</ul>
</li>
<li><p>后半分钟称赞是很重要的一部分</p>
<ul>
<li><p>我们的目的是帮助人们建立自尊自信，而不是贬低他们的价值。</p>
<ul>
<li>人格受到伤害时，哪怕扭曲事实，人们也会为自己和自己的行为开脱。一旦形成防备心态，就很难听得进去</li>
</ul>
</li>
<li><p>区分行为和价值区，指出行为的错误，不贬低员工的人格，最后肯定他们的价值</p>
<ul>
<li>你转身离开后，员工会更留意自己的行为，而不是跟同事抱怨自己碰了钉子或是质疑你的领导方式</li>
</ul>
</li>
<li><p>“严厉”在前，“和气”在后</p>
<ul>
<li><p>示例：皇帝和丞相的故事，皇帝先和气后严厉被推翻，丞相先严厉后和气被推选为皇帝</p>
</li>
<li><p>示例：棒球运动运表现不佳，先指出问题，再肯定其能力比表现强，调整后再上场</p>
</li>
</ul>
</li>
<li><p>真正尊重和关心下属，才会获得真正的成功</p>
<ul>
<li><p>必须表现得严厉，才是真正关心别人。但只是就事论事，从不针对人。犯错不可怕，不吸取教训才会导致真正的挫败</p>
</li>
<li><p>不是操控，是真的关心</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-一分钟管理体系"><a href="#4-一分钟管理体系" class="headerlink" title="4. 一分钟管理体系"></a>4. 一分钟管理体系</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><img src="/images/755A6CDE-96EE-4486-BE7C-F1D606426AE4.png"></p>
<h2 id="5-一分钟经理人座右铭"><a href="#5-一分钟经理人座右铭" class="headerlink" title="5. 一分钟经理人座右铭"></a>5. 一分钟经理人座右铭</h2><h3 id="通过发现别人做对的事，来帮助他们充分发挥潜力"><a href="#通过发现别人做对的事，来帮助他们充分发挥潜力" class="headerlink" title="通过发现别人做对的事，来帮助他们充分发挥潜力"></a>通过发现别人做对的事，来帮助他们充分发挥潜力</h3><ul>
<li>管理的本质就是激发他人的善意</li>
</ul>
<h3 id="最好的投资，就是把时间花在人的身上"><a href="#最好的投资，就是把时间花在人的身上" class="headerlink" title="最好的投资，就是把时间花在人的身上"></a>最好的投资，就是把时间花在人的身上</h3><ul>
<li>培养人</li>
</ul>
<h3 id="每个人都可能成功，有些人貌似失败者，但人不可貌相"><a href="#每个人都可能成功，有些人貌似失败者，但人不可貌相" class="headerlink" title="每个人都可能成功，有些人貌似失败者，但人不可貌相"></a>每个人都可能成功，有些人貌似失败者，但人不可貌相</h3><ul>
<li>爱因斯坦会拿电话簿查自己家电话号码</li>
</ul>
<h3 id="拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致"><a href="#拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致" class="headerlink" title="拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致"></a>拿出一分钟，重温你的目标，审视你的工作表现，看看你的行为与目标是否一致</h3><ul>
<li>桌面卡片</li>
</ul>
<h3 id="我们不仅能够表现自己，还能够管理自己"><a href="#我们不仅能够表现自己，还能够管理自己" class="headerlink" title="我们不仅能够表现自己，还能够管理自己"></a>我们不仅能够表现自己，还能够管理自己</h3><ul>
<li>人是值得信任的，是可靠的</li>
</ul>
<h3 id="目标引发行为，结果巩固行为"><a href="#目标引发行为，结果巩固行为" class="headerlink" title="目标引发行为，结果巩固行为"></a>目标引发行为，结果巩固行为</h3> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%A1%E7%90%86/" rel="tag">管理</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-DDD分层架构规范"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/07/05/DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E8%A7%84%E8%8C%83/"
    >DDD分层架构规范</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2021/07/05/DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E8%A7%84%E8%8C%83/" class="article-date">
  <time datetime="2021-07-05T06:49:14.000Z" itemprop="datePublished">2021-07-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="分层架构图"><a href="#分层架构图" class="headerlink" title="分层架构图"></a>分层架构图</h2><p><img src="/images/tapd_39034059_1621152827_39.png"></p>
<h2 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h2><ol>
<li>Controller层：接口层，负责对前端展示的路由和适配；如果需要的话，消费事件和发送消息通知等也可以放在这里；</li>
<li>Application层：主要负责获取输入，组装上下文，参数校验，调用领域层做业务处理</li>
<li>Domain层：领域是应用的核心，主要是封装了核心业务逻辑，通过领域服务（Domain Service）、领域对象（Entity）的方法对App层提供业务实体和业务逻辑计算；</li>
<li>Infrastructure层：主要负责技术细节问题的处理，比如数据库的CRUD、搜索引擎、文件系统、分布式服务的RPC等；</li>
</ol>
<h2 id="分层说明"><a href="#分层说明" class="headerlink" title="分层说明"></a>分层说明</h2><ul>
<li>APP层采用CQE模型，查询和命令分离</li>
<li>AppService调用实体和IRepo进行编排实现简单业务，通过调用DomainService实现复杂业务场景</li>
<li>AppService和DomainService均为无状态服务</li>
<li>App只允许调用仓储以及实体自带方法，不允许写任何方法，避免出现AppService过大的情况</li>
<li>DomainService封装所有跨实体的业务逻辑</li>
<li>为避免出现AppService之间或者Domainservice之间相互调用，抽取出两者公共部分为一个Helper</li>
</ul>
<h2 id="聚合根和实体"><a href="#聚合根和实体" class="headerlink" title="聚合根和实体"></a>聚合根和实体</h2><ul>
<li>按聚合根分包，和包名一样的实体为聚合根</li>
<li>可以识别的聚合根就写成聚合根，否则做成实体</li>
<li>聚合根的一致性由自己保障</li>
<li>跨实体的操作放到领域服务中</li>
</ul>
<blockquote>
<p>领域对象实体为充血模型，为一般业务对象，具备业务属性和业务行为</p>
</blockquote>
<ul>
<li>实体都有自己的唯一标识通常</li>
<li>实体可以不和表一一对应，通常操作单个表，可以操作多表</li>
</ul>
<h2 id="领域服务"><a href="#领域服务" class="headerlink" title="领域服务"></a>领域服务</h2><blockquote>
<p>某个操作过程或转换过程不是实体的职责时，我们便应该将该操作放在一个单独的接口中，即领域服务。</p>
</blockquote>
<ul>
<li>用于实现某个领域的任务，不适合放在实体对象上时，就放在领域服务上</li>
<li>放在实体的静态方法上有悖DDD</li>
<li>避免在实体中调用资源库，数据通过AppService调用Repo传入</li>
<li>如果有复杂逻辑，其中间的状态依赖前面步骤结果查询数据库作为后续逻辑的输入，通过把Repo传入到Domainservice的方式达到无状态效果</li>
</ul>
<h2 id="传输对象"><a href="#传输对象" class="headerlink" title="传输对象"></a>传输对象</h2><ul>
<li>DTO：接受Controller层发来的请求，返回结果</li>
<li>Entity ：将DTO转换为要操作的领域层对象</li>
</ul>
<h2 id="无状态"><a href="#无状态" class="headerlink" title="无状态"></a>无状态</h2><ul>
<li>一次请求所需的全部信息，要么都包含在这个请求里，要么可以从外部获取到（比如说数据库），服务本身不存储任何信息</li>
<li>有状态服务（stateful service）则相反，它会在自身保存一些数据，先后的请求是有关联的</li>
<li>无状态服务的优势在于可以很方便地水平伸缩</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DDD/" rel="tag">DDD</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-战略构建"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/06/26/%E6%88%98%E7%95%A5%E6%9E%84%E5%BB%BA/"
    >公司战略构建</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2021/06/26/%E6%88%98%E7%95%A5%E6%9E%84%E5%BB%BA/" class="article-date">
  <time datetime="2021-06-26T06:49:14.000Z" itemprop="datePublished">2021-06-26</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%88%98%E7%95%A5/">战略</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="整体逻辑"><a href="#整体逻辑" class="headerlink" title="整体逻辑"></a>整体逻辑</h2><ul>
<li>给什么样的客户群，解决什么样的痛点&#x2F;诉求，投放什么样的产品组合</li>
<li>SAAS模式：订阅+可复制，核心是产品解决客户痛点达到订阅效果</li>
<li>递进逻辑：初始纵向(客户)切分后面横向(产品)，先收割容易的越往后越难，找到破局点需要解决关键的客户问题，构建壁垒</li>
</ul>
<h2 id="看市场"><a href="#看市场" class="headerlink" title="看市场"></a>看市场</h2><pre><code>待补充
</code></pre>
<h2 id="看客户"><a href="#看客户" class="headerlink" title="看客户"></a>看客户</h2><ul>
<li>客户群划分：遵守MECE原则，综合考虑数量、消费力、意愿、净值、消费频次、年龄等维度。</li>
<li>痛点&#x2F;诉求分析：针对客户群的痛点和诉求进行分析，并进行层次化解析，区分基础诉求、高阶诉求、特殊需求。</li>
<li>小结：客户的群体特性简述，产品和服务的增长可能性在哪里。</li>
</ul>
<h2 id="看竞品"><a href="#看竞品" class="headerlink" title="看竞品"></a>看竞品</h2><ul>
<li>选择竞品：客户群中排在前部的品牌，从市场占有率、行业认可、产品体验等维度选择</li>
<li>竞品对比：分析每个竞品的核心优劣势，三点为佳</li>
<li>小结：竞品优势和劣势总结</li>
</ul>
<h2 id="看自己"><a href="#看自己" class="headerlink" title="看自己"></a>看自己</h2><ul>
<li>优劣势分析：基于行业地位、市场进入先后、组织能力、品牌、客户资源和渠道、解决方案能力、研发能力等角度</li>
<li>策略：如何发挥优势，克服劣势，构建产品，打开市场，增强品牌。。。</li>
</ul>
<h2 id="SWOT分析"><a href="#SWOT分析" class="headerlink" title="SWOT分析"></a>SWOT分析</h2><ul>
<li>基于三看，进行SWOT分析，总结SO&#x2F;WO&#x2F;WT&#x2F;ST策略</li>
</ul>
<h2 id="客户群选择"><a href="#客户群选择" class="headerlink" title="客户群选择"></a>客户群选择</h2><ul>
<li>基于SWOT分析来进行客户群选择和聚焦(找到三个点)，包含对聚焦的细分客户进行产品组合投放(分层)</li>
</ul>
<h2 id="产品矩阵"><a href="#产品矩阵" class="headerlink" title="产品矩阵"></a>产品矩阵</h2><ul>
<li>产品组合策略：对客户群的诉求解决进行产品组合细分</li>
<li>差异化价值分析：对每个产品&#x2F;模块进行价值分析，凸显产品价值，解决为什么是你的问题。</li>
</ul>
<h2 id="营销策略"><a href="#营销策略" class="headerlink" title="营销策略"></a>营销策略</h2><ul>
<li>对前线伙伴(区域)，做到真正赋能、解决问题并合力前行，让前线从要我做到我要做</li>
<li>对不同市场，分析客户特征，制定市场策略、经营策略和组织策略</li>
</ul>
<h2 id="制定战略屋"><a href="#制定战略屋" class="headerlink" title="制定战略屋"></a>制定战略屋</h2><ul>
<li>划分四个维度：经营目标、主要战场及核心策略、关键战役和组织支撑；逻辑为层层往上支撑。</li>
<li>经营目标：<ul>
<li>初创和小型的企业 -&gt; 活下去+构建产品+商业壁垒</li>
<li>成熟企业：市场规模扩大，数字化(利润&#x2F;客户数等)</li>
</ul>
</li>
<li>主要战场及策略：在这些战场打赢了可以支撑经营目标。</li>
<li>关键战役：通过关键战役来获得整体战场的胜利。</li>
<li>组织支撑：对不同的战场给与什么样的团队资源，采取什么策略。</li>
</ul>
<h2 id="业务蓝图"><a href="#业务蓝图" class="headerlink" title="业务蓝图"></a>业务蓝图</h2><pre><code>待补充
</code></pre>
<h2 id="推导OKR"><a href="#推导OKR" class="headerlink" title="推导OKR"></a>推导OKR</h2><pre><code>待补充
</code></pre>
<h2 id="问题合集"><a href="#问题合集" class="headerlink" title="问题合集"></a>问题合集</h2><ul>
<li>用什么“产品组合”？  </li>
<li>打什么“目标客户”？  </li>
<li>解决啥“核心问题”？ </li>
<li>有什么“差异竞争”</li>
</ul>
<h3 id="问题列表1"><a href="#问题列表1" class="headerlink" title="问题列表1"></a>问题列表1</h3><ul>
<li>是认知错误，还是策略错误，还是执行错误？</li>
<li>某些客户可以作为门票，这张门票很重要,怎么设计好它？</li>
<li>我们到底选择什么客户、打什么痛点，提供什么产品和服务？</li>
<li>把问题打开来看，扎进去看!</li>
<li>已经到了这个体量，未来到底何以增长?</li>
<li>历史问题怎么解决？？不要逃避！</li>
<li>要回答为什么是你，而不是其他人!</li>
<li>尝试A A不行尝试B B也不行，请问我们的洞察是什么?</li>
<li>一定要有客户成功视角：续签率、续费率，看数据！</li>
</ul>
<h3 id="问题列表2"><a href="#问题列表2" class="headerlink" title="问题列表2"></a>问题列表2</h3><ul>
<li>没有绝对的优势或劣势，怎么转化为胜势</li>
<li>不要丢掉你们自己，不要把战略屋当填空题</li>
<li>那90%的精力做什么？怎么做？</li>
<li>拼两件事情：成本结构、运营能力</li>
<li>区域视角，客户成功视角，多视角看战略</li>
<li>花更多时间思考产品本身</li>
<li>越往下越难割，越需要靠产品</li>
<li>如何后发制胜?</li>
<li>每个阶段的战略选择不一样，从0到1、从1到10的阶段，先聚焦打透</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%88%98%E7%95%A5/" rel="tag">战略</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-COLA"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/02/05/COLA/"
    >COLA框架的架构和调用流程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2021/02/05/COLA/" class="article-date">
  <time datetime="2021-02-05T06:49:14.000Z" itemprop="datePublished">2021-02-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="架构图"><a href="#架构图" class="headerlink" title="架构图"></a>架构图</h2><p>四层结构<br><img src="/images/cola-arch.jpg"></p>
<ol>
<li>适配层（Adapter Layer）：负责对前端展示（web，wireless，wap）的路由和适配，对于传统B&#x2F;S系统而言，adapter就相当于MVC中的controller；</li>
<li>应用层（Application Layer）：主要负责获取输入，组装上下文，参数校验，调用领域层做业务处理，如果需要的话，发送消息通知等。层次是开放的，应用层也可以绕过领域层，直接访问基础实施层；</li>
<li>领域层（Domain Layer）：主要是封装了核心业务逻辑，并通过领域服务（Domain Service）和领域对象（Domain Entity）的方法对App层提供业务实体和业务逻辑计算。领域是应用的核心，不依赖任何其他层次；</li>
<li>基础实施层（Infrastructure Layer）：主要负责技术细节问题的处理，比如数据库的CRUD、搜索引擎、文件系统、分布式服务的RPC等。此外，领域防腐的重任也落在这里，外部依赖需要通过gateway的转义处理，才能被上面的App层和Domain层使用。</li>
</ol>
<h2 id="组件说明"><a href="#组件说明" class="headerlink" title="组件说明"></a>组件说明</h2><ol>
<li>gateway是为了防腐</li>
<li>Infra层起数据屏蔽作用，如果提供的接口不变，数据层的改动都可以直接在Infra里面完成</li>
<li>第三方服务的调用在Infra层</li>
<li>为了易于理解可以把Adapter改为Controller</li>
</ol>
<h2 id="调用关系"><a href="#调用关系" class="headerlink" title="调用关系"></a>调用关系</h2><p><img src="/images/cola-invoke-chain.jpg"></p>
<ol>
<li>APP —&gt; Infra, 为了可以直接CRUD，同时也是为什么Infra 可以直接依赖Client包</li>
<li>APP —&gt; gateway, 为了解耦&#x2F;防腐&#x2F;数据聚合</li>
<li>APP —&gt; domain service —&gt; gateway —&gt; 存储&#x2F;缓存&#x2F;外部服务, 为了实现复杂领域业务<br>灵活使用，覆盖不同的场景</li>
</ol>
<p>调用过程及对象使用</p>
<ol>
<li>Client<br> 定义如下对象<ul>
<li>VO(View Object)，Adapter层使用</li>
<li>Command，APP层使用，包含Qry、Add&#x2F;Update&#x2F;Delete</li>
<li>DomainEvent，Infra层发布领域事件使用</li>
<li>ServiceI，APP层实现该服务对外提供应用API</li>
</ul>
</li>
<li>Adapter层<br> 接收Command或者参数列表传递给ServiceI<br> 返回Response+VO给前端</li>
<li>APP层<br> ServiceImpl接收Command<ul>
<li>直接&#x2F;间接传给Mapper</li>
<li>转换成Entity，传给gateway或者domainservice<br> 返回Response+VO给Adapter层</li>
</ul>
</li>
<li>Domain — 不依赖其他任何层<br> 定义领域对象Entity<br> Entity作为gateway的参数或返回<br> Entity作为domain service的参数或返回</li>
<li>Infa<ol>
<li>调用数据库直接用Mybatis的Mapper，返回DO</li>
<li>调用第三方服务封装DO和Mapper，返回DO</li>
<li>gatewayImpl通过mapper聚合来提供上层数据接口，返回Entity</li>
<li>DomainEvent的发布</li>
</ol>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DDD/" rel="tag">DDD</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-ELK搭建"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/12/17/ELK%E6%90%AD%E5%BB%BA/"
    >ELK搭建</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/12/17/ELK%E6%90%AD%E5%BB%BA/" class="article-date">
  <time datetime="2020-12-17T06:49:14.000Z" itemprop="datePublished">2020-12-17</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote>
<p>ELK是elasticsearch、logstash、kibana软件的集合，对外是作为一个日志管理系统的开源方案，它可以从任何来源、任何格式进行日志搜索、分析与可视化展示。<br>基本组成软件：</p>
</blockquote>
<ul>
<li>elasticsearch：一个开源分布式搜索引擎，提供收集、分析、存储数据三大功能。</li>
<li>kibana：一个基于web的图形界面，用于搜索、分析和可视化存储在elasticsearch中的日志数据。</li>
<li>logstash：一个服务端的数据处理管道，可以从多个源中提取数据，对其进行转换，然后将其存储到Elasticsearch中。简单来说就是日志的收集、分析、过滤工具。</li>
</ul>
<h2 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h2><p>使用版本是7.9.3，部署前我们可以先提前从官网上下载下面4个安装包：<br>elasticsearch-7.9.3-linux-x86_64.tar.gz<br>kibana-7.9.3-linux-x86_64.tar.gz<br>logstash-7.9.3.tar.gz</p>
<p>这4个组件可以部署在不同的机器上，只要机器之间是端口开放即可<br>本文档中elasticsearch、logstash、kibana部署在一台机器，filebeat部署在有业务服务的机器上。</p>
<ol>
<li><p>创建用户和解压文件<br> groupadd elk<br> useradd elk -g elk<br> 解压文件：<br> tar -zxvf elasticsearch-7.9.3-linux-x86_64.tar.gz -C &#x2F;home&#x2F;elk<br> tar -zxvf kibana-7.9.3-linux-x86_64.tar.gz -C &#x2F;home&#x2F;elk<br> tar -zxvf logstash-7.9.3.tar.gz -C &#x2F;home&#x2F;elk<br><br> cd &#x2F;home&#x2F;elk<br> mv kibana-7.9.3-linux-x86_64 kibana-7.9.3<br><br> chown -R elk:elk &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3<br> chown -R elk:elk &#x2F;home&#x2F;elk&#x2F;kibana-7.9.3<br> chown -R elk:elk &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3</p>
</li>
<li><p>部署elasticsearch</p>
<ol>
<li>切换到elk用户<br> su - elasticsearch<br> cd &#x2F;home&#x2F;elk&#x2F;</li>
<li>修改elasticsearch.yml<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;config<br> vi elasticsearch.yml<br> 在文件末尾增加以下内容<br> # 集群初始主节点<br> cluster.name: “es-cluster”<br> network.host: 0.0.0.0<br> node.name: “node-1”<br><br> # discovery type<br> discovery.type: single-node<br> #discovery.seed_hosts: [“127.0.0.1”, “[::1]”]<br><br> # 设置允许所有ip可以连接该elasticsearch<br> network.host: 0.0.0.0<br><br> # 开启监听的端口为9200<br> http.port: 9200<br><br> # 增加新的参数，为了让elasticsearch-head插件可以访问es<br> http.cors.enabled: true<br> http.cors.allow-origin: “*”<br><br> # 启用密码<br> xpack.security.enabled: true<br><br> # 使用默认密码<br> xpack.security.authc.accept_default_password: true<br> xpack.security.transport.ssl.enabled: true<br> 如果需要外置存储和日志，需要修改path.data和path.logs<br> path.data: &#x2F;nfsc&#x2F;cnas_csp_pase_hrx_id010797_vol1003_dev&#x2F;elasticsearch<br> path.logs: &#x2F;nfsc&#x2F;cnas_csp_pase_hrx_id010797_vol1003_dev&#x2F;elasticsearch_logs</li>
<li>修改Elasticsearch占用内存<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;config<br> vi jvm.options<br> 修改JVM参数 ：<br> -Xms16g<br> -Xmx16g</li>
<li>启动es的时候有可能会报类似的下面的错误<code>【max virtual memory areas vm.max_map_count [65530] is too low】</code>，所以我们可以通过下面的方法去处理：<br> vi &#x2F;etc&#x2F;sysctl.conf<br> 文件末尾添加一行<br> vm.max_map_count&#x3D;655360<br> 保存之后执行下面的命令加载参数<br> sysctl -p</li>
<li>启动Elasticsearch<br> 切换用户，进入bin目录启动：<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;bin<br> .&#x2F;elasticsearch -d</li>
<li>为内置账号添加密码<br> # interactive：给用户一一设置密码<br> # auto：自动生成密码<br> cd &#x2F;home&#x2F;elk&#x2F;elasticsearch-7.9.3&#x2F;bin&#x2F;<br> .&#x2F;elasticsearch-setup-passwords interactive</li>
<li>验证是否启动成功<br> # curl -XGET -u elastic ‘localhost:9200’<br><br> {<br>   “name” : “node-1”,<br>   “cluster_name” : “es-cluster”,<br>   “cluster_uuid” : “8eGk8_ohRbWl8ZcNSPsFDQ”,<br>   “version” : {<br>     “number” : “7.9.3”,<br>     “build_flavor” : “default”,<br>     “build_type” : “tar”,<br>     “build_hash” : “c4138e51121ef06a6404866cddc601906fe5c868”,<br>     “build_date” : “2020-10-16T10:36:16.141335Z”,<br>     “build_snapshot” : false,<br>     “lucene_version” : “8.6.2”,<br>     “minimum_wire_compatibility_version” : “6.8.0”,<br>     “minimum_index_compatibility_version” : “6.0.0-beta1”<br>   },<br>   “tagline” : “You Know, for Search”<br> }</li>
</ol>
</li>
<li><p>部署kibana</p>
<ol>
<li>修改配置文件，文件位置在&#x2F;home&#x2F;elk&#x2F;kibana-7.9.3&#x2F;config目录下<br> su - elasticsearch<br> cd &#x2F;home&#x2F;elk&#x2F;kibana-7.9.3&#x2F;config<br> vi kibana.yml<br> 添加es的配置，由于是都在同一台机器所以用localhost，如果是不同机器，就换成对应的ip即可<br> # kibana端口<br> server.port: 5601<br><br> # 允许所有ip访问<br> server.host: “0.0.0.0”<br><br> # elasticsearch所在的ip及监听的地址<br> elasticsearch.hosts: [“<a target="_blank" rel="noopener" href="http://localhost:9200"]">http://localhost:9200&quot;]</a><br> elasticsearch.username: “kibana_system”<br> elasticsearch.password: “kibana_system”<br><br> # kibana默认创建的索引<br> kibana.index: “.kibana”<br><br> # 字符编码<br> i18n.locale: “zh-CN”<br><br> # elasticsearch加密所需配置<br> xpack.reporting.encryptionKey: “a_random_string”<br> xpack.security.encryptionKey: “something_at_least_32_characters”</li>
<li>启动kibana<br> cd &#x2F;home&#x2F;elk&#x2F;kibana-7.9.3&#x2F;bin<br> .&#x2F;kibana &amp;</li>
<li>访问kibana<br> <a target="_blank" rel="noopener" href="http://ip:5601/">http://IP:5601/</a></li>
</ol>
</li>
<li><p>部署Logstash</p>
<ol>
<li>修改Logstash的YML配置文件<br> cd &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;config&#x2F;<br> vim logstash.yml<br> 修改以下内容<br> # 配置自动刷新<br> config.reload.automatic: true<br> config.reload.interval: 20s<br><br> # 配置可任意地址都可访问<br> http.host: 0.0.0.0<br> http.port: 9600<br><br> # 配置es的访问密码<br> xpack.monitoring.enabled: true<br> xpack.monitoring.elasticsearch.username: logstash_system<br> xpack.monitoring.elasticsearch.password: logstash_system<br> xpack.monitoring.elasticsearch.hosts: [“<a target="_blank" rel="noopener" href="http://localhsot:9200"]">http://localhsot:9200&quot;]</a></li>
<li>修改 pipelines配置文件<br> - pipeline.id: gmp-logs<br>   queue.type: persisted<br>   path.config: “&#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;conf.d&#x2F;*.config”</li>
<li>创建日志的config文件<br> touch &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;conf.d&#x2F;logstash-beats.conf<br> 写入文件内容<br> input {<br>   beats {<br>     port &#x3D;&gt; 5044<br>   }<br> }<br><br> filter {<br>     grok {<br>         match &#x3D;&gt; [<br>             “message”, “%{TIMESTAMP_ISO8601:timestamp_string}%{SPACE}%{GREEDYDATA:line}”<br>         ]<br>     }<br>     date  {<br>         match &#x3D;&gt; [“timestamp_string”, “ISO8601”]<br>     }<br>     mutate {<br>         remove_field &#x3D;&gt; [message, timestamp_string]<br>     }<br> }<br><br> output {<br>     elasticsearch {<br>         hosts &#x3D;&gt;  [“<a target="_blank" rel="noopener" href="http://localhost:9200"]">http://localhost:9200&quot;]</a><br>         user &#x3D;&gt; elastic<br>         password &#x3D;&gt; “elastic”<br>     }<br>     stdout {<br>         codec &#x3D;&gt; rubydebug<br>     }<br> }</li>
<li>启动Logstash(root用户)<br> cd &#x2F;home&#x2F;elk&#x2F;logstash-7.9.3&#x2F;bin<br> sh logstash -f ..&#x2F;conf.d&#x2F;logstash-beats.conf &amp;</li>
</ol>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ELK/" rel="tag">ELK</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-简单时间管理"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/10/10/%E7%AE%80%E5%8D%95%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/"
    >简单时间管理</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/10/10/%E7%AE%80%E5%8D%95%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" class="article-date">
  <time datetime="2020-10-10T07:24:02.000Z" itemprop="datePublished">2020-10-10</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="时间管理"><a href="#时间管理" class="headerlink" title="时间管理"></a>时间管理</h1><h2 id="目标感"><a href="#目标感" class="headerlink" title="目标感"></a>目标感</h2><ol>
<li>给每件事情设定deadline</li>
<li>给长期的事情设置周期循环事项</li>
</ol>
<h2 id="时间块"><a href="#时间块" class="headerlink" title="时间块"></a>时间块</h2><ul>
<li>30分钟刻度划分<br>  一般管理人员的时间快划分可以到30分钟或者1小时</li>
<li>半天刻度划分<br>  研发人员会按照半天来划分时间，涉及到写代码、用例、测试计划、编译、部署等具体工作，需要时间来思考及实现，所以有效的时间块划分是半天或者一天。</li>
</ul>
<h2 id="固化日程"><a href="#固化日程" class="headerlink" title="固化日程"></a>固化日程</h2><p>固化日程即养成好的习惯，使得时间利用率高，事情处理效率高。<br>有些固定模板可套用，如：</p>
<ul>
<li><strong>上班后&#x2F;下班前处理今日事项和明日规划</strong></li>
<li><strong>早会及总结</strong></li>
<li><strong>上午做需求评审，下午写代码，晚上做分享</strong></li>
</ul>
<p>个人日程示例：<br>    <figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8.45-9.00</span>：查看日程，规划今天事务</span><br><span class="line"><span class="number">9.15-9.30</span>： 早会</span><br><span class="line"><span class="number">9.30-9.45</span>：整理项目的进度和风险</span><br><span class="line"><span class="number">10.00-11.00</span>： 检视<span class="number">930</span>版本需求</span><br><span class="line"><span class="number">11.00-11.50</span>： XX技术方案/需求评审会议</span><br><span class="line">———————————————————</span><br><span class="line"><span class="number">1.30-3.00</span>：写代码</span><br><span class="line"><span class="number">3.15-6.00</span>： 接口设计</span><br><span class="line"><span class="number">7.00-8.45</span>：  小组分享</span><br><span class="line"><span class="number">8.45-9.00</span>： 今日事项总结，明日事项规划</span><br></pre></td></tr></table></figure></p>
<h2 id="工具和方法论"><a href="#工具和方法论" class="headerlink" title="工具和方法论"></a>工具和方法论</h2><p>工具：microsoft todo、滴答清单、calendar<br>方法论：GTD(Get things done)</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%88%E7%8E%87/" rel="tag">效率</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-无题2"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/08/24/%E6%97%A0%E9%A2%982/"
    >无题2</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/08/24/%E6%97%A0%E9%A2%982/" class="article-date">
  <time datetime="2020-08-24T07:24:02.000Z" itemprop="datePublished">2020-08-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="我与地坛"><a href="#我与地坛" class="headerlink" title="我与地坛"></a>我与地坛</h2><p>但是太阳，他每时每刻都是夕阳也都是旭日。当他熄灭着走下山去收尽苍凉残照之际，正是他在另一面燃烧着爬上山巅布散烈烈朝辉之时。那一天，我也将沉静着走下山去，扶着我的拐杖。<br>有一天，在某一处山洼里，势必会跑上来一个欢蹦的孩子，抱着他的玩具。<br>当然，那不是我。<br>但是，那不是我吗？<br>宇宙以其不息的欲望将一个歌舞炼为永恒。这欲望有怎样一个人间的姓名，大可忽略不计。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%B8%A1%E6%B1%A4/" rel="tag">鸡汤</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-无题1"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/02/06/%E6%97%A0%E9%A2%981/"
    >无题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/02/06/%E6%97%A0%E9%A2%981/" class="article-date">
  <time datetime="2020-02-06T07:24:02.000Z" itemprop="datePublished">2020-02-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BF%83%E7%90%86%E5%AD%A6/">心理学</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。"><a href="#在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。" class="headerlink" title="在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。"></a>在那些没有信心靠自己努力奋斗找到前途的人们当中，你很难找到独立的精神和坚强的个性。</h2><p>Independence of mind or strength of character are rarely found among those who cannot be confident that they will make their way by their own effort.<br>                                                                —— 哈耶克《通往奴役之路》</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%B8%A1%E6%B1%A4/" rel="tag">鸡汤</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2018-2024
        <i class="ri-heart-fill heart_icon"></i> 李一
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="二三"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2024/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->
 
<script src="/js/clickBoom2.js"></script>
 
<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>